[{"id":"bf97b6bc.3bf8e8","type":"tab","label":"Flow 1","disabled":true,"info":""},{"id":"4c6527ab.d816c","type":"tab","label":"A","disabled":true,"info":""},{"id":"fbf51f80.73e3b","type":"tab","label":"ISTIO","disabled":true,"info":""},{"id":"aad0b62f.42548","type":"tab","label":"B","disabled":true,"info":""},{"id":"b2808139.ecd5c","type":"tab","label":"V1.3.2 Test","disabled":true,"info":""},{"id":"44039927.4074d","type":"tab","label":"Flow 2","disabled":true,"info":""},{"id":"e5ca524d.559be8","type":"tab","label":"Flow 5","disabled":true,"info":""},{"id":"7787e736.1d7718","type":"tab","label":"Flow 4","disabled":true,"info":""},{"id":"423957aa.39d6","type":"tab","label":"Alasql","disabled":true,"info":""},{"id":"e60de991.75ae48","type":"tab","label":"LoadBalancerDemo","disabled":true,"info":""},{"id":"ba63dc5d.9c6748","type":"tab","label":"Check for Cancel Flow","disabled":true,"info":""},{"id":"b1956b20.6ac36","type":"tab","label":"AWS Outage Notify Response Flow","disabled":true,"info":""},{"id":"a722b61b.82b25","type":"tab","label":"SQS Response Table","disabled":true,"info":""},{"id":"129957c7.544ac8","type":"tab","label":"DateTimePicker2","disabled":false,"info":""},{"id":"e9ac6f0a.396628","type":"tab","label":"Flow 8","disabled":false,"info":""},{"id":"db196750.07f4d","type":"tab","label":"Flow 7","disabled":true,"info":""},{"id":"ad1ffbd1.a4d228","type":"tab","label":"Flow 1","disabled":true,"info":""},{"id":"5b613819.3d3138","type":"tab","label":"DateTimePicker","disabled":true,"info":""},{"id":"e6ad03ef.ddf898","type":"tab","label":"Flow 10","disabled":true,"info":""},{"id":"9741dff8.5b7248","type":"tab","label":"Flow 11","disabled":false,"info":""},{"id":"4a7c807e.e381a","type":"tab","label":"Flow 3","disabled":false,"info":""},{"id":"ff3bdbc.db089a8","type":"tab","label":"Flow 12","disabled":false,"info":""},{"id":"46a3f4de.4bf254","type":"tab","label":"Flow 13","disabled":false,"info":""},{"id":"60260bc9.0b6ee4","type":"subflow","name":"Subflow 1","info":"","category":"","in":[{"x":50,"y":30,"wires":[{"id":"aa5d5656.fdc478"}]}],"out":[{"x":360,"y":300,"wires":[{"id":"aa5d5656.fdc478","port":0}]}],"env":[],"color":"#DDAA99"},{"id":"2424bdb5.da803a","type":"ui_base","theme":{"name":"theme-dark","lightTheme":{"default":"#0094CE","baseColor":"#0094CE","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#097479","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"},"themeState":{"base-color":{"default":"#097479","value":"#097479","edited":false},"page-titlebar-backgroundColor":{"value":"#097479","edited":false},"page-backgroundColor":{"value":"#111111","edited":false},"page-sidebar-backgroundColor":{"value":"#000000","edited":false},"group-textColor":{"value":"#0eb8c0","edited":false},"group-borderColor":{"value":"#555555","edited":false},"group-backgroundColor":{"value":"#333333","edited":false},"widget-textColor":{"value":"#eeeeee","edited":false},"widget-backgroundColor":{"value":"#097479","edited":false},"widget-borderColor":{"value":"#333333","edited":false},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}},"angularTheme":{"primary":"indigo","accents":"blue","warn":"red","background":"grey"}},"site":{"name":"Node-RED Dashboard","hideToolbar":"false","allowSwipe":"false","lockMenu":"false","allowTempTheme":"true","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"9dd69c96.c56268","type":"json-config","z":"","title":"test1","jsonInput":"{\"qwerty\":\"qwerty\"}\n","jsonOutput":"{\"qwerty\":\"qwerty\"}"},{"id":"689004d2.e26d4c","type":"ui_group","z":"","name":"D3","tab":"6400c898.4a34e8","order":2,"disp":true,"width":"12","collapse":false},{"id":"6400c898.4a34e8","type":"ui_tab","z":"","name":"Libraries","icon":"fa-bank","order":6},{"id":"e8692868.37e8e","type":"ui_group","z":"","name":"Floorplan test","tab":"fcf7b269.f2fa08","disp":true,"width":"14","collapse":false},{"id":"fcf7b269.f2fa08","type":"ui_tab","z":"","name":"SVG","icon":"dashboard"},{"id":"c2b01293.681dd8","type":"ui_group","z":"","name":"SQS","tab":"fc5c95af.8d12b","order":2,"disp":true,"width":"28","collapse":true},{"id":"fc5c95af.8d12b","type":"ui_tab","z":"","name":"Home","icon":"dashboard","disabled":false,"hidden":false},{"id":"81cf8774.c7feb8","type":"ui_group","z":"","name":"test","tab":"8267cbea.581c1","disp":true,"width":"12"},{"id":"8267cbea.581c1","type":"ui_tab","z":"","name":"Test","icon":"dashboard"},{"id":"5df0958c.5d1fcc","type":"ui_group","z":"","name":"Group 1","tab":"4d4c1e75.321f18","order":1,"disp":true,"width":"32","collapse":false},{"id":"4d4c1e75.321f18","type":"ui_tab","name":"Tab 6","icon":"dashboard","order":1},{"id":"a92880d3.53134","type":"ui_group","z":"","name":"Richer Table","tab":"94150f15.5a6238","order":1,"disp":true,"width":"23","collapse":false},{"id":"94150f15.5a6238","type":"ui_tab","z":"","name":"Home","icon":"track_changes","order":1,"disabled":false,"hidden":false},{"id":"796184ae.9d810c","type":"debug","z":"4c6527ab.d816c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":676,"y":308,"wires":[]},{"id":"5c6ad178.d10d1","type":"debug","z":"4c6527ab.d816c","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":661,"y":264,"wires":[]},{"id":"39a36fe3.f2a288","type":"debug","z":"4c6527ab.d816c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":658.285888671875,"y":359.42852783203125,"wires":[]},{"id":"9fc54263.437da8","type":"inject","z":"4c6527ab.d816c","name":"SendMessage","topic":"","payload":"This is my test","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":180,"y":120,"wires":[["73edf8aa.6b71a8","767fa925.d93398"]]},{"id":"73edf8aa.6b71a8","type":"debug","z":"4c6527ab.d816c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":370,"y":120,"wires":[]},{"id":"767fa925.d93398","type":"function","z":"4c6527ab.d816c","name":"Payload = 0","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":237.5,"y":174.4285888671875,"wires":[["bdde971c.6e49f"]]},{"id":"bdde971c.6e49f","type":"function","z":"4c6527ab.d816c","name":"Inc Payload","func":"var msg1={};\nmsg1.payload=msg.payload+1;\nreturn msg1;","outputs":1,"noerr":0,"x":236.5,"y":216.42855834960938,"wires":[["7be9b429.b3823c","d2896db3.2b9d7","b8111fbb.655b58"]]},{"id":"b8111fbb.655b58","type":"delay","z":"4c6527ab.d816c","name":"","pauseType":"delay","timeout":"10","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"3","randomUnits":"seconds","drop":false,"x":229.5,"y":262.4285888671875,"wires":[[]]},{"id":"7be9b429.b3823c","type":"debug","z":"4c6527ab.d816c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":573,"y":210.4285888671875,"wires":[]},{"id":"94aa4046.96a25","type":"inject","z":"4c6527ab.d816c","name":"","topic":"listRegistrations","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":175,"y":380,"wires":[["57e55ac9.7c30f4"]]},{"id":"19d3efb9.029908","type":"debug","z":"4c6527ab.d816c","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":488,"y":377,"wires":[]},{"id":"a2d02cb9.dc448","type":"debug","z":"4c6527ab.d816c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":494,"y":417,"wires":[]},{"id":"e26e3cfd.2929d8","type":"debug","z":"4c6527ab.d816c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":492,"y":462,"wires":[]},{"id":"9be4928d.b59888","type":"inject","z":"4c6527ab.d816c","name":"","topic":"listStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":164,"y":418,"wires":[["57e55ac9.7c30f4"]]},{"id":"34fd789b.9073d8","type":"inject","z":"4c6527ab.d816c","name":"","topic":"flushStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":165,"y":460,"wires":[["57e55ac9.7c30f4"]]},{"id":"e7fec544.cc381","type":"comment","z":"4c6527ab.d816c","name":"Click the debug to watch it run","info":"","x":655,"y":140,"wires":[]},{"id":"5b5beedc.79f35","type":"comment","z":"4c6527ab.d816c","name":"Click the SendMessage to start the loop from producer to consumer and back","info":"","x":316,"y":42,"wires":[]},{"id":"57e55ac9.7c30f4","type":"redlink store","z":"4c6527ab.d816c","listenAddress":"localhost","listenPort":"2101","southInsert":true,"peerAddress":"0.0.0.0","peerPort":443,"headers":[{"ip":"localhost","port":"2001"},{"ip":"localhost","port":"2002"}],"name":"A","meshName":"mesh0","oldStore":true,"showRegistration":true,"showDebug":true,"outputs":3,"isUserCertificate":false,"userKey":"","userCertificate":"","x":330,"y":420,"wires":[["19d3efb9.029908"],["a2d02cb9.dc448"],["e26e3cfd.2929d8"]]},{"id":"b7a6cea9.70596","type":"redlink producer","z":"4c6527ab.d816c","name":"ProducerA","producerStoreName":"mesh0:A","producerConsumer":"stuart2","producerTTL":15,"producerETT":300,"priority":0,"timeout":-1,"sendOnly":false,"manualRead":true,"enforceReversePath":false,"rateTypeSendReceive":"none","rateSendReceive":1,"rateUnitsSendReceive":"second","nbRateUnitsSendReceive":"","topic":"","cmd":"send","private":false,"ttl":null,"tba":null,"showDebug":false,"outputs":3,"notifyInterval":"15","x":511,"y":309,"wires":[["5c6ad178.d10d1","93ac132d.d489e"],["796184ae.9d810c"],["39a36fe3.f2a288"]]},{"id":"7bf5ce81.250168","type":"debug","z":"4c6527ab.d816c","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":598,"y":655,"wires":[]},{"id":"c1ab0205.64b618","type":"function","z":"4c6527ab.d816c","name":"Return To Producer","func":"var msg1={};\nmsg1.payload= msg.payload;\nmsg1.redlinkMsgId = msg.redlinkMsgId;\nmsg1.redlinkProducerId=msg.redlinkProducerId;\nreturn msg1;","outputs":1,"noerr":0,"x":450.5,"y":522,"wires":[["a787c134.5275a8"]]},{"id":"8464e28d.66158","type":"inject","z":"4c6527ab.d816c","name":"ManualRead","topic":"read","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":189.5,"y":621,"wires":[["a787c134.5275a8"]]},{"id":"c4a32efc.fba828","type":"debug","z":"4c6527ab.d816c","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":590,"y":617,"wires":[]},{"id":"89416d9e.e9845","type":"debug","z":"4c6527ab.d816c","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":590,"y":580,"wires":[]},{"id":"a787c134.5275a8","type":"redlink consumer","z":"4c6527ab.d816c","name":"DA","reNotifyInterval":"5","consumerStoreName":"mesh0:A","intransit":"1","manualReadReceiveSend":true,"rateTypeReceiveSend":"none","rateReceiveSend":"1001","rateUnitsReceiveSend":"second","nbRateUnitsReceiveSend":"1","topicReceiveSend":"","cmd":"read","showStatsReceiveSend":false,"statsFrequencyReceiveSend":0,"showDebugReceiveSend":false,"outputs":3,"x":390,"y":600,"wires":[["89416d9e.e9845","c1ab0205.64b618"],["c4a32efc.fba828"],["7bf5ce81.250168"]]},{"id":"d2896db3.2b9d7","type":"function","z":"4c6527ab.d816c","name":"Add some Preserved data / per message","func":"msg.preserved = \"Some preserved Data or object that is held by the producer and re-added to the reply msg on completion\";\nreturn msg;","outputs":1,"noerr":0,"x":243.5,"y":309,"wires":[["b7a6cea9.70596"]]},{"id":"158849a7.f47076","type":"redlink store","z":"fbf51f80.73e3b","listenAddress":"localhost","listenPort":"2001","southInsert":true,"peerAddress":"0.0.0.0","peerPort":443,"headers":[],"name":"ISTIO","meshName":"mesh0","oldStore":true,"showRegistration":true,"showDebug":true,"outputs":3,"isUserCertificate":false,"userKey":"","userCertificate":"","x":324.5,"y":207,"wires":[["984dce48.5c64b"],["f06610b5.8bba28"],["c736c83f.965cd8"]]},{"id":"c0f7f562.a042c","type":"redlink store","z":"aad0b62f.42548","listenAddress":"localhost","listenPort":2000,"southInsert":true,"peerAddress":"0.0.0.0","peerPort":443,"headers":[{"ip":"localhost","port":"2001"},{"ip":"localhost","port":"2002"}],"name":"services1","meshName":"mesh0","oldStore":true,"showRegistration":true,"showDebug":false,"outputs":2,"isUserCertificate":false,"userKey":"","userCertificate":"","x":380.5,"y":115,"wires":[["814f8fd3.cf101"],["e8576ff6.bc1ff"]]},{"id":"79644992.23428","type":"redlink consumer","z":"aad0b62f.42548","name":"stuart1","reNotifyInterval":"1","consumerStoreName":"mesh0:services1","intransit":1,"manualReadReceiveSend":true,"rateTypeReceiveSend":"none","rateReceiveSend":1,"rateUnitsReceiveSend":"second","nbRateUnitsReceiveSend":"","topicReceiveSend":"","cmd":"read","showStatsReceiveSend":false,"statsFrequencyReceiveSend":0,"showDebugReceiveSend":false,"outputs":3,"x":740,"y":180,"wires":[["a0040232.71d98","7991a366.ff728c"],["ef859d0e.687368"],[]]},{"id":"7991a366.ff728c","type":"function","z":"aad0b62f.42548","name":"","func":"msg.payload='Hi from Stuart1';\nreturn msg;","outputs":1,"noerr":0,"x":741.5,"y":32,"wires":[["79644992.23428"]]},{"id":"f636a47e.00b0b8","type":"inject","z":"aad0b62f.42548","name":"","topic":"listRegistrations","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":180,"y":80,"wires":[["c0f7f562.a042c"]]},{"id":"35f04575.c0e1fa","type":"inject","z":"aad0b62f.42548","name":"","topic":"listStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":178,"y":128,"wires":[["c0f7f562.a042c"]]},{"id":"7e8a5c73.5d331c","type":"inject","z":"aad0b62f.42548","name":"","topic":"flushStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":179,"y":170,"wires":[["c0f7f562.a042c"]]},{"id":"d918052f.b5445","type":"inject","z":"fbf51f80.73e3b","name":"","topic":"listRegistrations","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":151,"y":175,"wires":[["158849a7.f47076"]]},{"id":"6a502a74.c00ed4","type":"inject","z":"fbf51f80.73e3b","name":"","topic":"listStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":140,"y":213,"wires":[["158849a7.f47076"]]},{"id":"4a4f847d.531bec","type":"inject","z":"fbf51f80.73e3b","name":"","topic":"flushStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":141,"y":255,"wires":[["158849a7.f47076"]]},{"id":"f06610b5.8bba28","type":"debug","z":"fbf51f80.73e3b","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":512,"y":226,"wires":[]},{"id":"984dce48.5c64b","type":"debug","z":"fbf51f80.73e3b","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":513,"y":186,"wires":[]},{"id":"e8576ff6.bc1ff","type":"debug","z":"aad0b62f.42548","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":527,"y":130,"wires":[]},{"id":"814f8fd3.cf101","type":"debug","z":"aad0b62f.42548","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":512,"y":86,"wires":[]},{"id":"8ea13b6c.befe9","type":"redlink producer","z":"4c6527ab.d816c","name":"P1","producerStoreName":"mesh0:A","producerConsumer":"msg.topic","producerTTL":15,"producerETT":"3000","priority":0,"timeout":-1,"sendOnly":false,"manualRead":false,"rateTypeSendReceive":"none","rateSendReceive":1,"rateUnitsSendReceive":"second","nbRateUnitsSendReceive":"","topic":"","cmd":"send","private":false,"ttl":null,"tba":null,"showDebug":false,"outputs":3,"notifyInterval":"15","x":350,"y":720,"wires":[["b2a24b89.0f2c3"],["8a1e2aad.d4b7d8"],["83dfb035.acec"]]},{"id":"636ed582.93fe3c","type":"inject","z":"4c6527ab.d816c","name":"Stuart1","topic":"stuart1","payload":"This is my test","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":119,"y":573,"wires":[["a0519acc.9eced"]]},{"id":"8a1e2aad.d4b7d8","type":"debug","z":"4c6527ab.d816c","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":600,"y":725,"wires":[]},{"id":"b2a24b89.0f2c3","type":"debug","z":"4c6527ab.d816c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":598,"y":692,"wires":[]},{"id":"a0519acc.9eced","type":"function","z":"4c6527ab.d816c","name":"Add some Preserved data / per message","func":"msg.preserved = \"Some preserved Data or object that is held by the producer and re-added to the reply msg on completion\";\nreturn msg;","outputs":1,"noerr":0,"x":251,"y":670,"wires":[["8ea13b6c.befe9"]]},{"id":"530e373a.5d1eb8","type":"redlink store","z":"fbf51f80.73e3b","listenAddress":"localhost","listenPort":"2002","southInsert":true,"peerAddress":"0.0.0.0","peerPort":443,"headers":[],"name":"ISTIO2","meshName":"mesh0","oldStore":true,"showRegistration":true,"showDebug":true,"outputs":3,"isUserCertificate":false,"userKey":"","userCertificate":"","x":342,"y":376,"wires":[["13b15598.f032d2"],["113b658c.55beb2"],["83875258.b0d59"]]},{"id":"c410acc6.6efce","type":"inject","z":"fbf51f80.73e3b","name":"","topic":"listRegistrations","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":158.5,"y":344,"wires":[["530e373a.5d1eb8"]]},{"id":"8dba5563.1a5f4","type":"inject","z":"fbf51f80.73e3b","name":"","topic":"listStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":147.5,"y":382,"wires":[["530e373a.5d1eb8"]]},{"id":"1bad2435.41efb4","type":"inject","z":"fbf51f80.73e3b","name":"","topic":"flushStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":148.5,"y":424,"wires":[["530e373a.5d1eb8"]]},{"id":"113b658c.55beb2","type":"debug","z":"fbf51f80.73e3b","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":519.5,"y":395,"wires":[]},{"id":"13b15598.f032d2","type":"debug","z":"fbf51f80.73e3b","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":520.5,"y":355,"wires":[]},{"id":"f9e9a29a.5fae1","type":"redlink store","z":"aad0b62f.42548","listenAddress":"localhost","listenPort":"2104","southInsert":true,"peerAddress":"0.0.0.0","peerPort":443,"headers":[{"ip":"localhost","port":"2001"},{"ip":"localhost","port":"2002"}],"name":"services3","meshName":"mesh0","oldStore":true,"showRegistration":true,"showDebug":true,"outputs":3,"isUserCertificate":false,"userKey":"","userCertificate":"","x":320,"y":380,"wires":[["46e01c9f.a906a4"],["bb2fab2e.f0e268"],["7280ccc0.ddc494"]]},{"id":"d88fd5a3.2a2b5","type":"function","z":"aad0b62f.42548","name":"","func":"//msg.payload='Hi from Stuart2';\nreturn msg;","outputs":1,"noerr":0,"x":820,"y":291,"wires":[["3cc4e0b4.30e57"]]},{"id":"4131b68a.fdc04","type":"inject","z":"aad0b62f.42548","name":"","topic":"listRegistrations","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":147.5,"y":362,"wires":[["f9e9a29a.5fae1"]]},{"id":"1c11496d.027707","type":"inject","z":"aad0b62f.42548","name":"","topic":"listStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":136.5,"y":400,"wires":[["f9e9a29a.5fae1"]]},{"id":"1f39bdcc.d94682","type":"inject","z":"aad0b62f.42548","name":"","topic":"flushStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":137.5,"y":442,"wires":[["f9e9a29a.5fae1"]]},{"id":"bb2fab2e.f0e268","type":"debug","z":"aad0b62f.42548","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":470.5,"y":400,"wires":[]},{"id":"46e01c9f.a906a4","type":"debug","z":"aad0b62f.42548","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":464.5,"y":360,"wires":[]},{"id":"83dfb035.acec","type":"debug","z":"4c6527ab.d816c","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":595,"y":760,"wires":[]},{"id":"6c43f6e2.1a12e","type":"inject","z":"4c6527ab.d816c","name":"Stuart2","topic":"stuart2","payload":"This is my test","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":110,"y":500,"wires":[["d76e0625.765b4"]]},{"id":"108980a4.a8ee47","type":"inject","z":"4c6527ab.d816c","name":"remedyCreateMany","topic":"remedyCreate","payload":"This is my test","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":130,"y":880,"wires":[["34ec5696.b1f7ba"]]},{"id":"44a574c.5168c0c","type":"inject","z":"4c6527ab.d816c","name":"","topic":"listServices","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":149,"y":344,"wires":[["57e55ac9.7c30f4"]]},{"id":"a0040232.71d98","type":"debug","z":"aad0b62f.42548","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":890,"y":140,"wires":[]},{"id":"3fe62327.41b4ec","type":"debug","z":"aad0b62f.42548","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":984,"y":366,"wires":[]},{"id":"a94e495d.a7bcb8","type":"redlink consumer","z":"aad0b62f.42548","name":"remedyCreate","reNotifyInterval":"1","consumerStoreName":"mesh0:services3","intransit":"1000","manualReadReceiveSend":false,"rateTypeReceiveSend":"none","rateReceiveSend":1,"rateUnitsReceiveSend":"second","nbRateUnitsReceiveSend":"","topicReceiveSend":"","cmd":"read","showStatsReceiveSend":false,"statsFrequencyReceiveSend":0,"showDebugReceiveSend":false,"outputs":3,"x":785,"y":728,"wires":[["f0799166.ad0138","eb2e8454.984048"],["c4cc1bbc.bce678","1eef39df.c8e576"],["4f0fb3a.060b84c"]]},{"id":"eb2e8454.984048","type":"function","z":"aad0b62f.42548","name":"","func":"msg.payload='Hi from remedyCreate';\nreturn msg;","outputs":1,"noerr":0,"x":809,"y":514.5,"wires":[["a94e495d.a7bcb8"]]},{"id":"f0799166.ad0138","type":"debug","z":"aad0b62f.42548","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":962,"y":650.5,"wires":[]},{"id":"93ac132d.d489e","type":"ui_gauge","z":"4c6527ab.d816c","name":"","group":"","order":0,"width":0,"height":0,"gtype":"gage","title":"gauge","label":"units","format":"{{value}}","min":0,"max":"500","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":736,"y":203,"wires":[]},{"id":"ea2cff82.5f8b9","type":"inject","z":"e5ca524d.559be8","name":"","topic":"listRegistrations","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":430,"y":109,"wires":[["afd35c95.9a0c78"]]},{"id":"2a128102.3fc926","type":"debug","z":"e5ca524d.559be8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":743,"y":106,"wires":[]},{"id":"7d727748.4e75e8","type":"debug","z":"e5ca524d.559be8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":749,"y":146,"wires":[]},{"id":"d40bb102.aab2d","type":"debug","z":"e5ca524d.559be8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":747,"y":191,"wires":[]},{"id":"f7e20fe8.701038","type":"inject","z":"e5ca524d.559be8","name":"","topic":"listStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":419,"y":147,"wires":[["afd35c95.9a0c78"]]},{"id":"a16dd978.c669e","type":"inject","z":"e5ca524d.559be8","name":"","topic":"flushStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":420,"y":189,"wires":[["afd35c95.9a0c78"]]},{"id":"afd35c95.9a0c78","type":"redlink store","z":"e5ca524d.559be8","listenAddress":"localhost","listenPort":"2101","peerAddress":"0.0.0.0","peerPort":443,"headers":[],"name":"AZ","meshName":"mesh0","oldStore":true,"showRegistration":true,"showDebug":true,"outputs":3,"x":604,"y":147,"wires":[["2a128102.3fc926"],["7d727748.4e75e8"],["d40bb102.aab2d"]]},{"id":"51b9c5c6.925afc","type":"inject","z":"e5ca524d.559be8","name":"","topic":"listServices","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":404,"y":73,"wires":[["afd35c95.9a0c78"]]},{"id":"1b3962d9.fdfa3d","type":"redlink consumer","z":"e5ca524d.559be8","name":"stuart1","reNotifyInterval":"1","consumerStoreName":"Please select a store","intransit":1,"manualReadReceiveSend":false,"rateTypeReceiveSend":"none","rateReceiveSend":1,"rateUnitsReceiveSend":"second","nbRateUnitsReceiveSend":"","topicReceiveSend":"","cmd":"read","showStatsReceiveSend":false,"statsFrequencyReceiveSend":0,"showDebugReceiveSend":false,"outputs":3,"x":574,"y":316,"wires":[["bd1879b5.e7d668","2e0fb330.a30aac"],[],[]]},{"id":"bd1879b5.e7d668","type":"function","z":"e5ca524d.559be8","name":"","func":"msg.payload='Hi from Stuart1';\nreturn msg;","outputs":1,"noerr":0,"x":564,"y":387.5,"wires":[["1b3962d9.fdfa3d"]]},{"id":"2e0fb330.a30aac","type":"debug","z":"e5ca524d.559be8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":753.5,"y":284.5,"wires":[]},{"id":"c736c83f.965cd8","type":"debug","z":"fbf51f80.73e3b","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":513,"y":266,"wires":[]},{"id":"83875258.b0d59","type":"debug","z":"fbf51f80.73e3b","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":518,"y":435,"wires":[]},{"id":"be5e0169.19198","type":"inject","z":"aad0b62f.42548","name":"","topic":"listRegistrations","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":134,"y":229,"wires":[["932189b0.e23d68"]]},{"id":"3ad72755.56b428","type":"inject","z":"aad0b62f.42548","name":"","topic":"listStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":123,"y":267,"wires":[["932189b0.e23d68"]]},{"id":"cf15788d.de65d","type":"inject","z":"aad0b62f.42548","name":"","topic":"flushStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":124,"y":309,"wires":[["932189b0.e23d68"]]},{"id":"3d5f4810.b97cb8","type":"debug","z":"aad0b62f.42548","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":500,"y":263,"wires":[]},{"id":"69022b03.1f78ac","type":"debug","z":"aad0b62f.42548","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":485,"y":219,"wires":[]},{"id":"42083561.e4c4f4","type":"debug","z":"aad0b62f.42548","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":499,"y":320,"wires":[]},{"id":"36569ed8.eea65a","type":"inject","z":"4c6527ab.d816c","name":"ManualRead","topic":"read","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":175,"y":745,"wires":[["8ea13b6c.befe9"]]},{"id":"cf6965be.e4c1c8","type":"inject","z":"aad0b62f.42548","name":"ManualRead","topic":"read","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":626,"y":637,"wires":[["a94e495d.a7bcb8"]]},{"id":"aa093b4f.3c68b","type":"delay","z":"aad0b62f.42548","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":728,"y":568,"wires":[["eb2e8454.984048"]]},{"id":"751a9f33.3be1e","type":"inject","z":"aad0b62f.42548","name":"ManualRead","topic":"read","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":668,"y":448,"wires":[["3cc4e0b4.30e57"]]},{"id":"d759c29.1a0fe4","type":"inject","z":"aad0b62f.42548","name":"ManualRead","topic":"read","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":675,"y":250,"wires":[["79644992.23428"]]},{"id":"15def0f3.f9e717","type":"delay","z":"aad0b62f.42548","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":707,"y":73,"wires":[["7991a366.ff728c"]]},{"id":"7412115d.7a28d8","type":"debug","z":"aad0b62f.42548","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":981,"y":403,"wires":[]},{"id":"ef859d0e.687368","type":"debug","z":"aad0b62f.42548","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":929,"y":229,"wires":[]},{"id":"c4cc1bbc.bce678","type":"debug","z":"aad0b62f.42548","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":963,"y":712,"wires":[]},{"id":"4f0fb3a.060b84c","type":"debug","z":"aad0b62f.42548","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":961,"y":765,"wires":[]},{"id":"28521fea.b163b8","type":"inject","z":"4c6527ab.d816c","name":"DA","topic":"DA","payload":"This is my test","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":127,"y":778,"wires":[["8ea13b6c.befe9"]]},{"id":"7280ccc0.ddc494","type":"debug","z":"aad0b62f.42548","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":471,"y":441,"wires":[]},{"id":"f2bd0aa.70b41f8","type":"moment","z":"44039927.4074d","name":"Insert Timestamp","topic":"","input":"","inputType":"date","inTz":"Australia/Melbourne","adjAmount":0,"adjType":"days","adjDir":"add","format":"","locale":"en_AU","output":"timestamp","outputType":"msg","outTz":"Australia/Melbourne","x":368,"y":241,"wires":[["ba644176.c180e8","65f8b629.b14d08"]]},{"id":"ba644176.c180e8","type":"change","z":"44039927.4074d","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"{ \t    \"topic\": topic, \t    \"status\": status,\t    \"payload\": payload, \t    \"timestamp\": timestamp,\t    \"_msgid\": _msgid\t  } ","tot":"jsonata"},{"t":"set","p":"topic","pt":"msg","to":"\"RFX/\" & topic","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":578,"y":241,"wires":[["36f0e971.569856"]]},{"id":"36f0e971.569856","type":"debug","z":"44039927.4074d","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":728,"y":201,"wires":[]},{"id":"c0e8719b.6ded58","type":"inject","z":"44039927.4074d","name":"","topic":"qwerty","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":146,"y":108,"wires":[["f2bd0aa.70b41f8"]]},{"id":"65f8b629.b14d08","type":"data-mapper","z":"44039927.4074d","name":"","rules":[{"t":"move","p":"qwerty","pt":"msg","to":"qwerty","tot":"msg"}],"action":"","property":"","config":"9dd69c96.c56268","from":"","to":"","reg":false,"passthrough":false,"x":564,"y":304,"wires":[["1d35cbad.8510ac"]]},{"id":"1d35cbad.8510ac","type":"debug","z":"44039927.4074d","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":736,"y":352,"wires":[]},{"id":"36c44bf4.7a21f4","type":"debug","z":"aad0b62f.42548","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":970,"y":880,"wires":[]},{"id":"1eef39df.c8e576","type":"function","z":"aad0b62f.42548","name":"","func":"msg1={};\nmsg.path.forEach(function(item){\n node.send(msg.path.pop(msg.path));\n});    \n//return msg;","outputs":1,"noerr":0,"x":910,"y":820,"wires":[["36c44bf4.7a21f4"]]},{"id":"34ec5696.b1f7ba","type":"trigger","z":"4c6527ab.d816c","op1":"1","op2":"0","op1type":"str","op2type":"str","duration":"-50","extend":false,"units":"ms","reset":"","bytopic":"all","name":"","x":170,"y":820,"wires":[["a0519acc.9eced"]]},{"id":"eeba6f3b.2461a8","type":"inject","z":"4c6527ab.d816c","name":"remedyCreateSingle","topic":"remedyCreate","payload":"This is my test","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":130,"y":920,"wires":[["a0519acc.9eced"]]},{"id":"932189b0.e23d68","type":"redlink store","z":"aad0b62f.42548","listenAddress":"localhost","listenPort":"2105","southInsert":true,"peerAddress":"0.0.0.0","peerPort":443,"headers":[{"ip":"localhost","port":"2001"},{"ip":"localhost","port":"2002"}],"name":"services2","meshName":"mesh0","oldStore":true,"showRegistration":false,"showDebug":false,"outputs":1,"isUserCertificate":false,"userKey":"","userCertificate":"","x":330,"y":280,"wires":[["69022b03.1f78ac","3d5f4810.b97cb8","42083561.e4c4f4"]]},{"id":"3cc4e0b4.30e57","type":"redlink consumer","z":"aad0b62f.42548","name":"stuart2","reNotifyInterval":"1","consumerStoreName":"mesh0:services2","intransit":1,"manualReadReceiveSend":true,"rateTypeReceiveSend":"none","rateReceiveSend":1,"rateUnitsReceiveSend":"second","nbRateUnitsReceiveSend":"","topicReceiveSend":"","cmd":"read","showStatsReceiveSend":false,"statsFrequencyReceiveSend":0,"showDebugReceiveSend":false,"outputs":3,"x":780,"y":380,"wires":[["3fe62327.41b4ec","d88fd5a3.2a2b5"],["7412115d.7a28d8"],[]]},{"id":"d76e0625.765b4","type":"trigger","z":"4c6527ab.d816c","op1":"1","op2":"0","op1type":"str","op2type":"str","duration":"-50","extend":false,"units":"ms","reset":"","bytopic":"all","name":"","x":190,"y":540,"wires":[["a0519acc.9eced"]]},{"id":"c6a73ea4.736178","type":"redlink store","z":"b2808139.ecd5c","listenAddress":"localhost","listenPort":"3110","southInsert":true,"peerAddress":"0.0.0.0","peerPort":443,"headers":[{"ip":"localhost","port":"3100"}],"name":"qwerty","meshName":"mesh0","interStoreLB":false,"oldStore":true,"showRegistration":true,"showDebug":true,"outputs":3,"isUserCertificate":false,"userKey":"","userCertificate":"","x":310,"y":1120,"wires":[["293f528.f9602ae"],["4e046df5.d73a64"],["d7342904.427b18"]]},{"id":"a509bdc7.87279","type":"redlink producer","z":"b2808139.ecd5c","name":"MyProducer","producerStoreName":"mesh0:qwerty","producerConsumer":"A","producerTTL":15,"producerETT":300,"priority":0,"timeout":-1,"sendOnly":false,"manualRead":false,"enforceReversePath":false,"rateTypeSendReceive":"none","rateSendReceive":1,"rateUnitsSendReceive":"second","nbRateUnitsSendReceive":"","topic":"","cmd":"send","private":false,"ttl":null,"tba":null,"showDebug":false,"outputs":3,"notifyInterval":15,"x":360,"y":500,"wires":[["69203a59.95e66c"],["660199c7.ba42b"],["9fdd43cd.71d15"]]},{"id":"8f39946c.033fe8","type":"redlink consumer","z":"b2808139.ecd5c","name":"A","reNotifyInterval":"1","consumerStoreName":"mesh0:qwerty2","intransit":"1","manualReadReceiveSend":false,"rateTypeReceiveSend":"none","rateReceiveSend":1,"rateUnitsReceiveSend":"second","nbRateUnitsReceiveSend":"1","topicReceiveSend":"","cmd":"read","showStatsReceiveSend":false,"statsFrequencyReceiveSend":0,"showDebugReceiveSend":false,"outputs":3,"x":570,"y":640,"wires":[["2986ae4e.20a522","565a1fea.22eef8"],["bb1340af.706e7"],["d58dec05.94b8e8"]]},{"id":"b35acbfe.9396a","type":"inject","z":"b2808139.ecd5c","name":"SingleShot","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":100,"y":480,"wires":[["e771e757.f9df2"]]},{"id":"293f528.f9602ae","type":"debug","z":"b2808139.ecd5c","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":490,"y":1080,"wires":[]},{"id":"4e046df5.d73a64","type":"debug","z":"b2808139.ecd5c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":490,"y":1120,"wires":[]},{"id":"d7342904.427b18","type":"debug","z":"b2808139.ecd5c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":490,"y":1160,"wires":[]},{"id":"2986ae4e.20a522","type":"debug","z":"b2808139.ecd5c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":790,"y":580,"wires":[]},{"id":"bb1340af.706e7","type":"debug","z":"b2808139.ecd5c","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":790,"y":620,"wires":[]},{"id":"d58dec05.94b8e8","type":"debug","z":"b2808139.ecd5c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":790,"y":660,"wires":[]},{"id":"69203a59.95e66c","type":"debug","z":"b2808139.ecd5c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":610,"y":480,"wires":[]},{"id":"e7a78be.aa51d78","type":"inject","z":"b2808139.ecd5c","name":"","topic":"listRegistrations","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":140,"y":1080,"wires":[["c6a73ea4.736178"]]},{"id":"c5f3d8cb.212518","type":"inject","z":"b2808139.ecd5c","name":"","topic":"listStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":140,"y":1120,"wires":[["c6a73ea4.736178"]]},{"id":"159fed99.6b3dea","type":"inject","z":"b2808139.ecd5c","name":"","topic":"flushStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":140,"y":1160,"wires":[["c6a73ea4.736178"]]},{"id":"4f1e0032.c8613","type":"inject","z":"b2808139.ecd5c","name":"ManualRead","topic":"read","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":410,"y":640,"wires":[["8f39946c.033fe8"]]},{"id":"565a1fea.22eef8","type":"function","z":"b2808139.ecd5c","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":570,"y":580,"wires":[["8f39946c.033fe8"]]},{"id":"9e0da78b.e9772","type":"inject","z":"b2808139.ecd5c","name":"ManualRead","topic":"read","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":110,"y":440,"wires":[["a509bdc7.87279"]]},{"id":"3cc60928.95b78e","type":"redlink store","z":"b2808139.ecd5c","listenAddress":"localhost","listenPort":"3101","southInsert":true,"peerAddress":"0.0.0.0","peerPort":443,"headers":[{"ip":"localhost","port":"3100"}],"name":"qwerty2","meshName":"mesh0","interStoreLB":false,"oldStore":true,"showRegistration":true,"showDebug":true,"outputs":3,"isUserCertificate":false,"userKey":"","userCertificate":"","x":600,"y":280,"wires":[["5e17ff28.87eaa8"],["8d7c3cb2.f42708"],["b9218225.42cf18"]]},{"id":"5e17ff28.87eaa8","type":"debug","z":"b2808139.ecd5c","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":730,"y":240,"wires":[]},{"id":"8d7c3cb2.f42708","type":"debug","z":"b2808139.ecd5c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":730,"y":280,"wires":[]},{"id":"b9218225.42cf18","type":"debug","z":"b2808139.ecd5c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":730,"y":320,"wires":[]},{"id":"53f466a3.33f84","type":"inject","z":"b2808139.ecd5c","name":"","topic":"listRegistrations","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":420,"y":240,"wires":[["3cc60928.95b78e"]]},{"id":"68a5cf91.63b98","type":"inject","z":"b2808139.ecd5c","name":"","topic":"listStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":400,"y":280,"wires":[["3cc60928.95b78e"]]},{"id":"49cd474.fb130b8","type":"inject","z":"b2808139.ecd5c","name":"","topic":"flushStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":400,"y":320,"wires":[["3cc60928.95b78e"]]},{"id":"9625294b.ed3948","type":"redlink store","z":"b2808139.ecd5c","listenAddress":"localhost","listenPort":"3102","southInsert":true,"peerAddress":"0.0.0.0","peerPort":443,"headers":[{"ip":"localhost","port":"3100"}],"name":"qwerty3","meshName":"mesh0","oldStore":true,"showRegistration":true,"showDebug":true,"outputs":3,"isUserCertificate":false,"userKey":"","userCertificate":"","x":600,"y":400,"wires":[["ac3b1c24.288e"],["ba834f1c.686478"],["1eae38fc.ff375f"]]},{"id":"ac3b1c24.288e","type":"debug","z":"b2808139.ecd5c","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":750,"y":360,"wires":[]},{"id":"ba834f1c.686478","type":"debug","z":"b2808139.ecd5c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":751,"y":401.5,"wires":[]},{"id":"1eae38fc.ff375f","type":"debug","z":"b2808139.ecd5c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":750,"y":440,"wires":[]},{"id":"17dbe656.4e123a","type":"inject","z":"b2808139.ecd5c","name":"","topic":"listRegistrations","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":420,"y":360,"wires":[["9625294b.ed3948"]]},{"id":"7bbf731c.b6d2dc","type":"inject","z":"b2808139.ecd5c","name":"","topic":"listStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":400,"y":400,"wires":[["9625294b.ed3948"]]},{"id":"2d51e435.1d01fc","type":"inject","z":"b2808139.ecd5c","name":"","topic":"flushStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":400,"y":440,"wires":[["9625294b.ed3948"]]},{"id":"19a30507.4df723","type":"redlink consumer","z":"b2808139.ecd5c","name":"A","reNotifyInterval":"1","consumerStoreName":"mesh0:qwerty3","intransit":"1","manualReadReceiveSend":false,"rateTypeReceiveSend":"none","rateReceiveSend":1,"rateUnitsReceiveSend":"second","nbRateUnitsReceiveSend":"","topicReceiveSend":"","cmd":"read","showStatsReceiveSend":false,"statsFrequencyReceiveSend":0,"showDebugReceiveSend":false,"outputs":3,"x":570,"y":760,"wires":[["802ca924.1376c8","d8230db5.25a738"],["e717c0b9.fc154"],["d6bb4abf.5f506"]]},{"id":"802ca924.1376c8","type":"debug","z":"b2808139.ecd5c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":790,"y":720,"wires":[]},{"id":"e717c0b9.fc154","type":"debug","z":"b2808139.ecd5c","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":790,"y":760,"wires":[]},{"id":"d6bb4abf.5f506","type":"debug","z":"b2808139.ecd5c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":790,"y":800,"wires":[]},{"id":"4e62da98.aeb8cc","type":"inject","z":"b2808139.ecd5c","name":"ManualRead","topic":"read","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":410,"y":760,"wires":[["19a30507.4df723"]]},{"id":"d8230db5.25a738","type":"function","z":"b2808139.ecd5c","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":570,"y":700,"wires":[["19a30507.4df723"]]},{"id":"71afcdd9.1d7b6c","type":"trigger","z":"b2808139.ecd5c","op1":"1","op2":"0","op1type":"str","op2type":"str","duration":"-25","extend":false,"units":"ms","reset":"","bytopic":"all","name":"","x":130,"y":360,"wires":[["a509bdc7.87279"]]},{"id":"9fdd43cd.71d15","type":"debug","z":"b2808139.ecd5c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":610,"y":540,"wires":[]},{"id":"660199c7.ba42b","type":"debug","z":"b2808139.ecd5c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":770,"y":500,"wires":[]},{"id":"ca196719.ce35e8","type":"inject","z":"b2808139.ecd5c","name":"MultipleShot","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":150,"y":280,"wires":[["71afcdd9.1d7b6c"]]},{"id":"9e2d0a16.cc9168","type":"redlink store","z":"b2808139.ecd5c","listenAddress":"localhost","listenPort":"3100","southInsert":true,"peerAddress":"0.0.0.0","peerPort":443,"headers":[],"name":"STP","meshName":"mesh0","interStoreLB":true,"oldStore":true,"showRegistration":true,"showDebug":true,"outputs":3,"isUserCertificate":false,"userKey":"","userCertificate":"","x":310,"y":1000,"wires":[["c212d2e8.b1fe48"],["172057c3.833878"],["d19bb7d2.69577"]]},{"id":"c212d2e8.b1fe48","type":"debug","z":"b2808139.ecd5c","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":490,"y":960,"wires":[]},{"id":"172057c3.833878","type":"debug","z":"b2808139.ecd5c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":490,"y":1000,"wires":[]},{"id":"d19bb7d2.69577","type":"debug","z":"b2808139.ecd5c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":490,"y":1040,"wires":[]},{"id":"99014f8c.3674b8","type":"inject","z":"b2808139.ecd5c","name":"","topic":"listRegistrations","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":140,"y":960,"wires":[["9e2d0a16.cc9168"]]},{"id":"2d80dda2.87f9b2","type":"inject","z":"b2808139.ecd5c","name":"","topic":"listStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":120,"y":1000,"wires":[["9e2d0a16.cc9168"]]},{"id":"ca83ed0a.e10378","type":"inject","z":"b2808139.ecd5c","name":"","topic":"flushStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":120,"y":1040,"wires":[["9e2d0a16.cc9168"]]},{"id":"fa4ccfe.b43643","type":"redlink consumer","z":"b2808139.ecd5c","name":"C","reNotifyInterval":"1","consumerStoreName":"mesh0:qwerty","intransit":"1","manualReadReceiveSend":false,"rateTypeReceiveSend":"none","rateReceiveSend":1,"rateUnitsReceiveSend":"second","nbRateUnitsReceiveSend":"","topicReceiveSend":"","cmd":"read","showStatsReceiveSend":false,"statsFrequencyReceiveSend":0,"showDebugReceiveSend":false,"outputs":3,"x":190,"y":200,"wires":[["90debc62.20496"],[],[]]},{"id":"90debc62.20496","type":"function","z":"b2808139.ecd5c","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":410,"y":180,"wires":[["fa4ccfe.b43643"]]},{"id":"e771e757.f9df2","type":"function","z":"b2808139.ecd5c","name":"","func":"//msg.enforceReversePath = true;\nreturn msg;","outputs":1,"noerr":0,"x":170,"y":540,"wires":[["a509bdc7.87279"]]},{"id":"88dd7b5f.410e3","type":"redlink consumer","z":"b2808139.ecd5c","name":"A","consumerStoreName":"mesh0:qwerty4","intransit":"1","manualReadReceiveSend":false,"rateTypeReceiveSend":"none","rateReceiveSend":1,"rateUnitsReceiveSend":"second","nbRateUnitsReceiveSend":"1","topicReceiveSend":"","cmd":"read","showStatsReceiveSend":false,"statsFrequencyReceiveSend":0,"showDebugReceiveSend":false,"outputs":3,"x":330,"y":880,"wires":[["b19bc155.49475","71d01fdf.afdc08"],["18dc06d5.f9e671"],["8fc32217.194da8"]]},{"id":"b19bc155.49475","type":"debug","z":"b2808139.ecd5c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":490,"y":840,"wires":[]},{"id":"18dc06d5.f9e671","type":"debug","z":"b2808139.ecd5c","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":490,"y":880,"wires":[]},{"id":"8fc32217.194da8","type":"debug","z":"b2808139.ecd5c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":490,"y":920,"wires":[]},{"id":"f05ab71.d944e48","type":"inject","z":"b2808139.ecd5c","name":"ManualRead","topic":"read","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":130,"y":880,"wires":[["88dd7b5f.410e3"]]},{"id":"71d01fdf.afdc08","type":"function","z":"b2808139.ecd5c","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":820,"wires":[["88dd7b5f.410e3"]]},{"id":"e9bca6d2.1611","type":"redlink store","z":"b2808139.ecd5c","listenAddress":"localhost","listenPort":"3106","southInsert":true,"peerAddress":"0.0.0.0","peerPort":443,"headers":[{"ip":"localhost","port":"3100"}],"name":"qwerty4","meshName":"mesh0","interStoreLB":false,"oldStore":true,"showRegistration":true,"showDebug":true,"outputs":3,"isUserCertificate":false,"userKey":"","userCertificate":"","x":200,"y":700,"wires":[[],[],[]]},{"id":"e3f1be28.cba338","type":"communicator","z":"bf97b6bc.3bf8e8","cr":false,"op":"buffer","name":"","x":510,"y":260,"wires":[["df3625c.42bded8"],["8151fc7.766448"],["145f6d85.ec1292"]]},{"id":"7ba363d.c1c389c","type":"inject","z":"bf97b6bc.3bf8e8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":120,"y":60,"wires":[["bfb21c8e.fb7c2"]]},{"id":"df3625c.42bded8","type":"debug","z":"bf97b6bc.3bf8e8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":650,"y":220,"wires":[]},{"id":"8151fc7.766448","type":"debug","z":"bf97b6bc.3bf8e8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":650,"y":260,"wires":[]},{"id":"145f6d85.ec1292","type":"debug","z":"bf97b6bc.3bf8e8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":650,"y":300,"wires":[]},{"id":"bfb21c8e.fb7c2","type":"function","z":"bf97b6bc.3bf8e8","name":"Connect","func":"msg.timeout=30000;\nmsg.payload=\"\"\nmsg.topic='connect';\nmsg.state = 1; //<-- Optional\nreturn msg; ","outputs":1,"noerr":0,"x":260,"y":60,"wires":[["e3f1be28.cba338"]]},{"id":"7e4a1d84.c5d2ec","type":"function","z":"bf97b6bc.3bf8e8","name":"df|cat","func":"msg.timeout=30000;\nmsg.payload=\"df|cat\";\nmsg.topic='command';\nmsg.state = 2;// <-- Optional\nreturn msg; \n","outputs":1,"noerr":0,"x":270,"y":440,"wires":[["e3f1be28.cba338"]]},{"id":"703da467.213a3c","type":"inject","z":"bf97b6bc.3bf8e8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":120,"y":440,"wires":[["7e4a1d84.c5d2ec"]]},{"id":"cdb80653.f285e","type":"inject","z":"bf97b6bc.3bf8e8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":120,"y":480,"wires":[["f9b7fd6d.e803b8"]]},{"id":"f9b7fd6d.e803b8","type":"function","z":"bf97b6bc.3bf8e8","name":"Disconnect","func":"msg.timeout=30000;\nmsg.payload=\"\"\nmsg.topic='disconnect';\nmsg.state = 1; //<-- Optional\nreturn msg; ","outputs":1,"noerr":0,"x":270,"y":480,"wires":[["e3f1be28.cba338"]]},{"id":"3f85767.64e5c8a","type":"function","z":"bf97b6bc.3bf8e8","name":"df|cat","func":"msg.timeout=30000;\nmsg.payload=\"ls -alR\";\nmsg.topic='command';\nmsg.state = 2;// <-- Optional\nreturn msg; \n","outputs":1,"noerr":0,"x":270,"y":100,"wires":[["e3f1be28.cba338"]]},{"id":"30a47de7.03b95a","type":"inject","z":"bf97b6bc.3bf8e8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":120,"y":100,"wires":[["3f85767.64e5c8a"]]},{"id":"8aa9ef28.e8a7b","type":"state-machine","z":"bf97b6bc.3bf8e8","name":"","triggerProperty":"topic","triggerPropertyType":"msg","stateProperty":"topic","statePropertyType":"msg","outputStateChangeOnly":false,"throwException":false,"states":["start","1","2","3"],"transitions":[{"name":"start","from":"*","to":"start"},{"name":"a","from":"start","to":"1"},{"name":"a","from":"1","to":"2"},{"name":"a","from":"2","to":"3"},{"name":"a","from":"3","to":"start"},{"name":"stop","from":"*","to":"start"}],"x":160,"y":680,"wires":[["5bfbf6ab.db1f5","c02663da.9589d"]]},{"id":"5bfbf6ab.db1f5","type":"switch","z":"bf97b6bc.3bf8e8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":330,"y":680,"wires":[[]]},{"id":"4476b68.7bf22c8","type":"inject","z":"bf97b6bc.3bf8e8","name":"","topic":"start","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":160,"y":560,"wires":[["8aa9ef28.e8a7b"]]},{"id":"c02663da.9589d","type":"debug","z":"bf97b6bc.3bf8e8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":380,"y":600,"wires":[]},{"id":"3945dfe7.338128","type":"inject","z":"bf97b6bc.3bf8e8","name":"","topic":"a","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":150,"y":620,"wires":[["8aa9ef28.e8a7b"]]},{"id":"4d5d1278.ff751c","type":"inject","z":"bf97b6bc.3bf8e8","name":"","topic":"stop","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":160,"y":760,"wires":[["8aa9ef28.e8a7b"]]},{"id":"aa5d5656.fdc478","type":"function","z":"60260bc9.0b6ee4","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":170,"y":120,"wires":[[]]},{"id":"63766511.2da294","type":"inject","z":"4c6527ab.d816c","name":"","topic":"","payload":"shdfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsddfksdlfhfhadfkhasfhsdfhadkfhasdhfkasdfkldhsfdsfsdfsdfaf","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":150,"y":80,"wires":[["d2896db3.2b9d7"]]},{"id":"a304ec0f.813df8","type":"debug","z":"7787e736.1d7718","name":"","active":false,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","x":930,"y":340,"wires":[]},{"id":"6d5e2dcd.9f5a54","type":"inject","z":"7787e736.1d7718","name":"","topic":"PUSH_BOTTON_1","payload":"welcome","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":"","x":560,"y":200,"wires":[["cdd3a48b.3d7898"]]},{"id":"cdd3a48b.3d7898","type":"ui_template","z":"7787e736.1d7718","group":"","name":"testing payload","order":1,"width":"12","height":"12","format":"<!DOCTYPE html>\n<html>\n \n <head>\n <title>Scatter Plot</title>\n <script src=\"https://d3js.org/d3.v4.min.js\"></script>\n <style>\n .axis {\n fill: none;\n stroke: black;\n shape-rendering: crispEdges;\n }\n </style>\n \n </head>\n \n <body>\n \n <div id=\"plot\"></div>\n <div id=\"ELEMENT\"></div>\n <h2>{{msg.topic}}</h2>\n <h2>{{msg.payload}}</h2>\n \n <script>\n\n (function(scope) {\n \n // Watch for messages being send to this template node\n scope.$watch('msg', function (msg) {\n \n if (msg) {\n \n //var ELEMENT = document.getElementById('ELEMENT');\n ELEMENT = msg.payload;\n plotDraw();\n\n }\n \n });\n \n var w = 500, h = 500, pad = 50;\n \n var svg = d3.select(\"#plot\")\n .append(\"svg\")\n .attr(\"height\", h)\n .attr(\"width\", w);\n \n var xAxisGroup = svg.append(\"g\")\n .attr(\"class\", \"axis\")\n .attr(\"transform\", \"translate(0,\" + (h - pad) + \")\");\n \n var yAxisGroup = svg.append(\"g\")\n .attr(\"class\", \"axis\")\n .attr(\"transform\", \"translate(\" + pad +\", 0)\");\n \n const plotDraw = function(){\n var dataset = [ ELEMENT , [20, 20, 20],[30, 30, 30], [40, 40, 40], [50, 50, 50], [60, 60, 60]];\n \n var xScale = d3.scaleLinear()\n .domain([0, d3.max(dataset, function(d) { return d[0]; })])\n .range([pad, w - pad]);\n \n var yScale = d3.scaleLinear()\n .domain([0, d3.max(dataset, function(d) { return d[1]; })])\n .range([h - pad, pad]);\n \n var rScale = d3.scaleLinear()\n .domain([0, d3.max(dataset, function(d) { return d[2]; })])\n .range([1, 30]);\n \n var xAxis = d3.axisBottom(xScale);\n var yAxis = d3.axisLeft(yScale);\n \n var circ = svg.selectAll(\"circle\")\n .data(dataset);\n \n var circEnter = circ.enter()\n .append(\"circle\");\n \n circEnter\n .attr(\"fill\", \"red\")\n .attr(\"opacity\", 0.5);\n \n circ.merge(circEnter)\n .attr(\"cx\", function(d) { return xScale(d[0]); })\n .attr(\"cy\", function(d) { return yScale(d[1]); })\n .attr(\"r\", function(d) { return rScale(d[2]); })\n \n xAxisGroup.call(xAxis);\n yAxisGroup.call(yAxis);\n\n };\n \n plotDraw(); \n \n })(scope);\n\n </script>\n </body>\n</html>","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":940,"y":260,"wires":[[]]},{"id":"4f544a6.72f8634","type":"inject","z":"7787e736.1d7718","name":"","topic":"PUSH_BOTTON_2","payload":"not welcome","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":"","x":550,"y":260,"wires":[["cdd3a48b.3d7898"]]},{"id":"fc518244.20a0f8","type":"ui_slider","z":"7787e736.1d7718","name":"","label":"X","tooltip":"","group":"","order":1,"width":0,"height":0,"passthru":true,"outs":"all","topic":"X","min":0,"max":"100","step":1,"x":410,"y":340,"wires":[["41c8de08.8f41b8"]]},{"id":"a6779249.3fe5b","type":"ui_slider","z":"7787e736.1d7718","name":"","label":"Y","tooltip":"","group":"","order":2,"width":0,"height":0,"passthru":true,"outs":"all","topic":"Y","min":0,"max":"100","step":1,"x":410,"y":400,"wires":[["41c8de08.8f41b8"]]},{"id":"4bfac985.25a7d","type":"ui_slider","z":"7787e736.1d7718","name":"","label":"R","tooltip":"","group":"","order":3,"width":0,"height":0,"passthru":true,"outs":"all","topic":"R","min":0,"max":"100","step":1,"x":410,"y":460,"wires":[["41c8de08.8f41b8"]]},{"id":"8073ca4.df800b8","type":"debug","z":"7787e736.1d7718","name":"","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","x":830,"y":400,"wires":[]},{"id":"f763980a.3fe218","type":"ui_button","z":"7787e736.1d7718","name":"","group":"","order":4,"width":0,"height":0,"passthru":true,"label":"*** RESET ***","tooltip":"","color":"","bgcolor":"","icon":"","payload":"10","payloadType":"num","topic":"","x":300,"y":160,"wires":[["cd83d275.bb1ce"]]},{"id":"bd9f43cd.68fd3","type":"inject","z":"7787e736.1d7718","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":310,"y":80,"wires":[["ca5616c0.0f8138"]]},{"id":"ca5616c0.0f8138","type":"change","z":"7787e736.1d7718","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"[10,10,10]","tot":"json"},{"t":"set","p":"topic","pt":"msg","to":"INIT","tot":"str"},{"t":"set","p":"x","pt":"msg","to":"5","tot":"num"},{"t":"set","p":"y","pt":"msg","to":"5","tot":"num"},{"t":"set","p":"r","pt":"msg","to":"5","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":80,"wires":[["3cf39dd4.469eea"]]},{"id":"a79de103.239f08","type":"change","z":"7787e736.1d7718","name":"X","rules":[{"t":"set","p":"payload","pt":"msg","to":"x","tot":"msg"},{"t":"set","p":"topic","pt":"msg","to":"X","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":250,"y":340,"wires":[["fc518244.20a0f8"]]},{"id":"3cf39dd4.469eea","type":"link out","z":"7787e736.1d7718","name":"","links":["6f85b07e.f583b8"],"x":795,"y":100,"wires":[]},{"id":"13a30b77.604d55","type":"change","z":"7787e736.1d7718","name":"Y","rules":[{"t":"set","p":"payload","pt":"msg","to":"y","tot":"msg"},{"t":"set","p":"topic","pt":"msg","to":"Y","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":250,"y":400,"wires":[["a6779249.3fe5b"]]},{"id":"c0344721.6b7ca","type":"change","z":"7787e736.1d7718","name":"R","rules":[{"t":"set","p":"payload","pt":"msg","to":"r","tot":"msg"},{"t":"set","p":"topic","pt":"msg","to":"R","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":250,"y":460,"wires":[["4bfac985.25a7d"]]},{"id":"6f85b07e.f583b8","type":"link in","z":"7787e736.1d7718","name":"","links":["3cf39dd4.469eea"],"x":100,"y":400,"wires":[["13a30b77.604d55","a79de103.239f08","c0344721.6b7ca"]]},{"id":"41c8de08.8f41b8","type":"join","z":"7787e736.1d7718","name":"","mode":"custom","build":"object","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":true,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":570,"y":400,"wires":[["8073ca4.df800b8","126da8c2.b55f9f"]]},{"id":"126da8c2.b55f9f","type":"change","z":"7787e736.1d7718","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"[msg.payload.X, msg.payload.Y, msg.payload.R]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":700,"y":340,"wires":[["cdd3a48b.3d7898","a304ec0f.813df8"]]},{"id":"cd83d275.bb1ce","type":"change","z":"7787e736.1d7718","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"[10,10,10]","tot":"json"},{"t":"set","p":"topic","pt":"msg","to":"INIT","tot":"str"},{"t":"set","p":"x","pt":"msg","to":"10","tot":"num"},{"t":"set","p":"y","pt":"msg","to":"10","tot":"num"},{"t":"set","p":"r","pt":"msg","to":"10","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":120,"wires":[["3cf39dd4.469eea"]]},{"id":"1b8a0731.e450d9","type":"inject","z":"7787e736.1d7718","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":310,"y":120,"wires":[["cd83d275.bb1ce"]]},{"id":"369f2466.6d0f0c","type":"inject","z":"4c6527ab.d816c","name":"ManualRead","topic":"read","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":450,"y":260,"wires":[["b7a6cea9.70596"]]},{"id":"194eb268.76c0a6","type":"function","z":"423957aa.39d6","name":"","func":"var msg1={};\nmsg.payload = [\n    { name: 'bill' , sex:'M', income:50000 },\n    { name: 'sara' , sex:'F', income:100000 },\n    { name: 'larry' , sex:'M', income:90000 },\n    { name: 'olga' , sex:'F', income:85000 },\n    { name: 'bill' , sex:'M', income:50000 },\n    { name: 'sara' , sex:'F', income:100000 },\n    { name: 'larry' , sex:'M', income:90000 },\n    { name: 'olga' , sex:'F', income:85000 }\n    ];\n//msg.topic=\"SELECT * FROM ? person WHERE sex='F' AND income > 60000\";\n// Do the query\nvar alasql = global.get('alasql');\nvar query =[];\nlet results =[];\n\nquery.push([\"SELECT name FROM ? person WHERE sex='F' AND income > 60000 or income=50000\" , [msg.payload]]);\nquery.push([\"SELECT sex FROM ? person WHERE sex='F' AND income > 60000 or income=50000\" , [msg.payload]]);\nquery.push([\"SELECT income FROM ? person WHERE sex='F' AND income > 60000 or income=50000\" , [msg.payload]]);\nquery.push([\"SELECT count(*) staff FROM ? person\" , [msg.payload]]);\nquery.forEach(topic => {\n//node.log(topic);\n      results.push(alasql(topic[0],topic[1]));\n            });\n//msg.payload=alasql('insert into msg.payload values(1,2,3,4,5)');\n\nmsg1.result=results;\nmsg1.result.push(query);\nreturn msg1;","outputs":1,"noerr":0,"x":510,"y":100,"wires":[[]]},{"id":"bef3e72a.892db","type":"debug","z":"423957aa.39d6","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":650,"y":280,"wires":[]},{"id":"2fdfaa25.b800ce","type":"ui_template","z":"7787e736.1d7718","group":"","name":"","order":1,"width":0,"height":0,"format":"<!doctype html>\n<html lang='en'>\n<head>\n  <meta charset='utf-8'>\n  <title>d3 Array of Tables Demo</title>\n  <!-- Author: Bo Ericsson, bo@boe.net -->\n  <link rel=stylesheet type=text/css href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css' media='all'>\n  <style>\n    body {\n      padding: 10px;\n      font-size: 12px;\n    }\n    .well {\n      padding-top: 0px;\n      padding-bottom: 0px;\n      width: 500px;\n    }\n    table {\n      font-size: 10px;\n      line-height: 10px;\n    }\n    td, th {\n      width: 33.3%;\n    }\n    label {\n      margin-bottom: 10px;\n    }\n  </style>\n<body>\n<div ng-bind-html=\"msg.payload\"></div>    \n<script src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js'></script>\n<script>\n'use strict';\n\n/* global d3 */\n\n// Title div with label and button\nconst header = d3.select('body').append('div').attr('class', 'well');\n\nheader.append('h3').text('Dynamic D3 Array of Tables Demo');\n\nconst taskLabel = header.append('label')\n    .attr('id', 'taskLabel')\n    .html('&nbsp;');\n\nlet currTask = 0;\nconst taskButton = header.append('button')\n    .attr('class', 'btn btn-primary')\n    .style('margin-bottom', '20px')\n    .style('width', '100%')\n    .style('text-align', 'left')\n    .text('Start')\n    .on('click', function() {\n      this.blur();\n      // Execute the task\n      tasks[currTask]();\n      // Next task\n      currTask = ++currTask % tasks.length;\n    });\n\n// Container for array of tables\nconst tableDiv = d3.select('body').append('div').attr('id', 'tableContainer');\n\n// Initial data\nlet data;\nlet initialData;\n\n (function(scope) {\n \n // Watch for messages being send to this template node\n scope.$watch('msg', function (msg) {\n \n if (msg) {  initialData = msg.payload;\n console.log(\"crap\",initialData);\n }\n });\n\n/*[\n    { table: 'Table1', rows: [\n        { table: 'Table1', row: 'Row1', data: 'DataT1R1' },\n        { table: 'Table1', row: 'Row2', data: 'DataT1R2' }\n    ]\n    },\n    { table: 'Table2', rows: [\n        { table: 'Table2', row: 'Row1', data: 'DataT2R1' },\n        { table: 'Table2', row: 'Row2', data: 'DataT2R2' },\n        { table: 'Table2', row: 'Row3', data: 'DataT2R3' }\n    ]\n    },\n    { table: 'Table3', rows: [\n        { table: 'Table3', row: 'Row1', data: 'DataT3R1' },\n        { table: 'Table3', row: 'Row2', data: 'DataT3R2' }\n    ]\n    },\n    { table: 'Table4', rows: [\n        { table: 'Table4', row: 'Row1', data: 'DataT4R1' },\n        { table: 'Table4', row: 'Row2', data: 'DataT4R2' }\n    ]\n    }\n];\n*/\n// Tasks\nfunction task0() {\n    // Clear any existing tables (by providing an empty array)\n    update([]);\n\n    taskLabel.html('Cleared any existing tables');\n    taskButton.text('Next step: Initial load of tables');\n}\n\nfunction task1() {\n    // Load initial tables\n    data = JSON.parse(JSON.stringify(initialData));\n    update(data);\nnode.send({data});\n    taskLabel.text('Step 1: Initial tables loaded');\n    taskButton.text('Next step: Add 4th row to Table 2');\n}\n\nfunction task2() {\n    // Add 4th row to table 2\n    data[1].rows.push({ table: 'Table2', row: 'Row4', data: 'DataT2R4' });\n    update(data);\n\n    taskLabel.text('Step 2: Added 4th row to Table 2');\n    taskButton.text('Next step: Delete first row of Table 3');\n}\n\nfunction task3() {\n    // Delete first row of table 3\n    data[2].rows.shift();\n    update(data);\n\n    taskLabel.text('Step 3: Deleted first row of Table 3');\n    taskButton.text('Next step: Add Table 5 with 8 rows');\n}\n\nfunction task4() {\n  // Add table 5 with 8 rows\n    data.push({\n        table: 'Table5', rows: [\n            { table: 'Table5', row: 'Row1', data: 'DataT5R1' },\n            { table: 'Table5', row: 'Row2', data: 'DataT5R2' },\n            { table: 'Table5', row: 'Row3', data: 'DataT5R3' },\n            { table: 'Table5', row: 'Row4', data: 'DataT5R4' },\n            { table: 'Table5', row: 'Row5', data: 'DataT5R5' },\n            { table: 'Table5', row: 'Row6', data: 'DataT5R6' },\n            { table: 'Table5', row: 'Row7', data: 'DataT5R7' },\n            { table: 'Table5', row: 'Row8', data: 'DataT5R8' }\n        ]\n    });\n    update(data);\n    \n\n    taskLabel.text('Step 4: Added Table 5 with 8 rows');\n    taskButton.text('Next step: Remove Table 4');\n}\n\nfunction task5() {\n    // Remove table 4\n    data.splice(3, 1);\n    update(data);\n\n    taskLabel.text('Step 5: Removed Table 4');\n    taskButton.text('Next step: Change data of row 1 of Table 1');\n}\n\nfunction task6() {\n    // Change the content of row 1 of table 1\n    var item = data[0].rows[0].data;\n    data[0].rows[0].data = item + ' - Updated';\n    update(data);\n    taskLabel.text('Step 6: Changed data of row 1 of Table 1');\n    taskButton.text('Next step: Change order of tables');\n}\n\nfunction task7() {\n    // Change the order of tables (move last table to first position)\n    data.unshift(data.pop());\n    d3.select('#tableContainer').selectAll('*').remove();\n    update(data);\n\n    taskLabel.text('Step 7: Changed order of tables');\n    taskButton.text('Restart');\n}\n\n// Task list (array of functions)\nvar tasks = [task0, task1, task2, task3, task4, task5, task6, task7];\n\n// Function in charge of the array of tables\nfunction update(data) {\n\n    // Select all divs in the table div, and then apply new data\n    const divs = tableDiv.selectAll('div')\n        // After .data() is executed below, divs becomes a d3 update selection\n        .data(data, d => d.table);\n\n    // Use the exit method of the d3 update selection to remove any deleted table div and contents (which would be absent in the data array just applied)\n    divs.exit().remove();\n\n    // Use the enter metod of the d3 update selection to add new ('entering') items present in the\n    // data array just applied\n    const divsEnter = divs\n      .enter().append('div')\n        .attr('id', d => `${ d.table }-Div`)\n        .attr('class', 'well');\n\n    // Add title in new div(s)\n    divsEnter.append('h5').text(d => d.table);\n\n    divs.selectAll('h5').text(d => `${ d.table }`);\n\n    // Add table in new div(s)\n    const tableEnter = divsEnter.append('table')\n        .attr('id', d => d.table)\n        .attr('class', 'table table-condensed table-striped table-bordered');\n\n    // Append table head in new table(s)\n    tableEnter.append('thead')\n      .append('tr')\n        .selectAll('th')\n        // Table column headers (here constant, but could be made dynamic)\n        .data(['Table Name', 'Row Number', 'Data Contents'])\n      .enter().append('th')\n        .text(d => d);\n\n    // Append table body in new table(s)\n    tableEnter.append('tbody');\n\n    // Select all tr elements in the divs update selection\n    const tr = divs.select('table').select('tbody').selectAll('tr')\n      // After the .data() is executed below, tr becomes a d3 update selection\n    .data(\n        d =>  d.rows, // Return inherited data item\n        d => d.row    // 'key' function to disable default by-index evaluation\n    );\n\n    // Use the exit method of the update selection to remove table rows without associated data\n    tr.exit().remove();\n\n    // Use the enter method to add table rows corresponding to new data\n    tr.enter().append('tr');\n\n    // Bind data to table cells (td becomes update selection)\n    const td = tr.selectAll('td')\n        // After the .data() is executed below, the td becomes a d3 update selection\n        .data(d => d3.values(d));   // return inherited data item\n\n    // Use the enter method of the update selection to add td elements\n    td.enter().append('td');\n\n    // Use the update selection to add/change the table cell text\n    td.text(d => d);\n}\n})(scope);\n\n</script>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":800,"y":520,"wires":[["11408651.47e2aa"]]},{"id":"11408651.47e2aa","type":"debug","z":"7787e736.1d7718","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":1070,"y":520,"wires":[]},{"id":"9af38984.d288d","type":"function","z":"7787e736.1d7718","name":"","func":"msg.payload=[\n    { table: 'Table1', rows: [\n        { table: 'Table1', row: 'Row1', data: 'DataT1R1' },\n        { table: 'Table1', row: 'Row2', data: 'DataT1R2' }\n    ]\n    },\n    { table: 'Table2', rows: [\n        { table: 'Table2', row: 'Row1', data: 'DataT2R1' },\n        { table: 'Table2', row: 'Row2', data: 'DataT2R2' },\n        { table: 'Table2', row: 'Row3', data: 'DataT2R3' }\n    ]\n    },\n    { table: 'Table3', rows: [\n        { table: 'Table3', row: 'Row1', data: 'DataT3R1' },\n        { table: 'Table3', row: 'Row2', data: 'DataT3R2' }\n    ]\n    },\n    { table: 'Table4', rows: [\n        { table: 'Table4', row: 'Row1', data: 'DataT4R1' },\n        { table: 'Table4', row: 'Row2', data: 'DataT4R2' }\n    ]\n    }\n];\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":520,"wires":[["2fdfaa25.b800ce"]]},{"id":"83ce7606.55582","type":"inject","z":"7787e736.1d7718","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":280,"y":520,"wires":[["9af38984.d288d"]]},{"id":"50a84389.c3fe84","type":"debug","z":"7787e736.1d7718","name":"","active":true,"console":"false","complete":"false","x":830,"y":660,"wires":[]},{"id":"ade214c2.256928","type":"inject","z":"7787e736.1d7718","name":"","topic":"","payload":"welcome","payloadType":"str","repeat":"","crontab":"","once":false,"x":460,"y":640,"wires":[["19f1c0a2.14c62f"]]},{"id":"19f1c0a2.14c62f","type":"ui_template","z":"7787e736.1d7718","group":"","name":"testing payload","order":0,"width":"6","height":"6","format":"<h3>Testing dynamic scripts with Dashboard 2.0</h3>\n{{msg.payload}}\n<script>\n    (function(scope) {\n        console.log('Position 1');\n        console.dir(scope);\n        console.log(scope.msg);\n        scope.$watch('msg.payload', function(data) {\n            console.log('Position 2');\n            console.dir(data);\n        });\n    })(scope);\n</script>","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":660,"y":660,"wires":[["50a84389.c3fe84"]]},{"id":"caebf025.f4e02","type":"inject","z":"7787e736.1d7718","name":"","topic":"","payload":"not welcome","payloadType":"str","repeat":"","crontab":"","once":false,"x":470,"y":680,"wires":[["19f1c0a2.14c62f"]]},{"id":"cf0c2c10.3ee2d","type":"ui_template","z":"7787e736.1d7718","group":"","name":"","order":1,"width":0,"height":0,"format":"<!doctype html>\n<html lang='en'>\n<head>\n  <meta charset='utf-8'>\n\n  </style>\n<body>\n<H2 \"msg.payload\"/>    \n<script>\n'use strict';\n\n (function(scope) {\n \n // Watch for messages being send to this template node\n scope.$watch('msg', function (msg) {\n \n if (msg) {console.log(msg); }\n });\n\n})(scope);\n\n</script>\n","storeOutMessages":true,"fwdInMessages":false,"templateScope":"local","x":800,"y":580,"wires":[["4e358dc4.c3078c"]]},{"id":"4e358dc4.c3078c","type":"debug","z":"7787e736.1d7718","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":1070,"y":580,"wires":[]},{"id":"97f2d5c1.575348","type":"function","z":"7787e736.1d7718","name":"","func":"msg.payload=[\n    { table: 'Table1', rows: [\n        { table: 'Table1', row: 'Row1', data: 'DataT1R1' },\n        { table: 'Table1', row: 'Row2', data: 'DataT1R2' }\n    ]\n    },\n    { table: 'Table2', rows: [\n        { table: 'Table2', row: 'Row1', data: 'DataT2R1' },\n        { table: 'Table2', row: 'Row2', data: 'DataT2R2' },\n        { table: 'Table2', row: 'Row3', data: 'DataT2R3' }\n    ]\n    },\n    { table: 'Table3', rows: [\n        { table: 'Table3', row: 'Row1', data: 'DataT3R1' },\n        { table: 'Table3', row: 'Row2', data: 'DataT3R2' }\n    ]\n    },\n    { table: 'Table4', rows: [\n        { table: 'Table4', row: 'Row1', data: 'DataT4R1' },\n        { table: 'Table4', row: 'Row2', data: 'DataT4R2' }\n    ]\n    }\n];\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":580,"wires":[["cf0c2c10.3ee2d"]]},{"id":"642b4be8.c023c4","type":"inject","z":"7787e736.1d7718","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":280,"y":580,"wires":[["97f2d5c1.575348"]]},{"id":"2be7715c.7a6356","type":"inject","z":"7787e736.1d7718","name":"red/white/blue","topic":"","payload":"[{\"x\":100,\"y\":100,\"h\":40,\"w\":50,\"c\":\"red\"},{\"x\":200,\"y\":200,\"h\":20,\"w\":75,\"c\":\"white\"},{\"x\":300,\"y\":300,\"h\":20,\"w\":75,\"c\":\"blue\"}]","payloadType":"json","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":310,"y":760,"wires":[["bdd2dfdf.34aba8"]]},{"id":"bdd2dfdf.34aba8","type":"ui_template","z":"7787e736.1d7718","group":"689004d2.e26d4c","name":"D3 template","order":1,"width":0,"height":0,"format":"<style>\n    #myBoxes {\n        height: 800px;\n        width: 800px;\n    }\n</style>\n\n<svg id=\"myBoxes\">\n    <!-- svg content goes here -->\n</svg>\n\n<script>\n(function(scope) { \n    // watch for msgs from node-red\n    scope.$watch('msg.payload', function(payload) {\n        node.log(payload);\n        drawBoxes(\"myBoxes\", payload);\n    })\n})(scope);\n\nfunction drawBoxes(id, data) {\n    var svg = d3.select(\"#\" + id);\n    var rect = svg.selectAll(\"rect\")\n        .data(data);\n\n    rect.enter()\n        .append(\"rect\");\n    \n    rect.attr(\"x\", function(d) { return d.x; })\n        .attr(\"y\", function(d) { return d.y; }) \n        .attr(\"width\", function(d) { return d.w; })\n        .attr(\"height\", function(d) { return d.h; })\n        .style(\"fill\", function(d) { return d.c; });\n    \n    rect.exit()\n        .remove();\n}\n</script>","storeOutMessages":false,"fwdInMessages":false,"templateScope":"local","x":610,"y":760,"wires":[[]]},{"id":"e109c3ee.58ba9","type":"ui_template","z":"7787e736.1d7718","group":"","name":"D3 libraries","order":0,"width":0,"height":0,"format":"<script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/4.10.2/d3.min.js\"></script>\n<script src=\"https://rawgit.com/gka/d3-jetpack/master/d3-jetpack.js\"></script>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"global","x":610,"y":720,"wires":[[]]},{"id":"737a2930.5f2c3","type":"inject","z":"7787e736.1d7718","name":"black/white","topic":"","payload":"[{\"x\":100,\"y\":100,\"h\":40,\"w\":40,\"c\":\"black\"},{\"x\":200,\"y\":200,\"h\":40,\"w\":40,\"c\":\"white\"}]","payloadType":"json","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":300,"y":800,"wires":[["bdd2dfdf.34aba8"]]},{"id":"8b4a11b4.4ee3c8","type":"inject","z":"7787e736.1d7718","name":"red/yellow/green","topic":"","payload":"[{\"x\":100,\"y\":100,\"h\":10,\"w\":50,\"c\":\"red\"},{\"x\":200,\"y\":200,\"h\":20,\"w\":15,\"c\":\"yellow\"},{\"x\":300,\"y\":300,\"h\":60,\"w\":80,\"c\":\"green\"}]","payloadType":"json","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":320,"y":720,"wires":[["bdd2dfdf.34aba8"]]},{"id":"17971c45.caeb9c","type":"file in","z":"423957aa.39d6","name":"testdata.json","filename":"/root/testdata.json","format":"","chunk":false,"sendError":false,"encoding":"none","x":320,"y":400,"wires":[["b19468f2.8bfd48"]]},{"id":"b19468f2.8bfd48","type":"function","z":"423957aa.39d6","name":"","func":"var msg1={};\n\n//msg.topic=\"SELECT * FROM ? person WHERE sex='F' AND income > 60000\";\n// Do the query\nvar alasql = global.get('alasql');\nvar query =[];\nlet results =[];\nquery.push([\"SELECT distinct [Power Supplier] FROM ? data where [Cause]=''\", [msg.payload]]);\nquery.push([\"SELECT distinct [Cause] FROM ? data \", [msg.payload]]);\nquery.push([\"SELECT SUM (CAST([Total Impacted Customers] AS NUMBER)) FROM ? data\" , [msg.payload]]);\nquery.push([\"SELECT count( [Power Supplier]) FROM ? data where Planned='Yes'\" , [msg.payload]]);\nquery.push([\"SELECT count(*) total FROM ? data\" , [msg.payload]]);\nquery.forEach(topic => {\n//node.log(topic);\n      results.push(alasql(topic[0],topic[1]));\n            });\n//msg.payload=alasql('insert into msg.payload values(1,2,3,4,5)');\n\nmsg1.result=results;\nmsg1.query =query;\nmsg1.payload=msg.payload;\nreturn msg1;","outputs":1,"noerr":0,"x":490,"y":400,"wires":[["b26f124d.6912f8"]]},{"id":"b26f124d.6912f8","type":"debug","z":"423957aa.39d6","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":670,"y":400,"wires":[]},{"id":"aa2013c6.c9c1e8","type":"inject","z":"423957aa.39d6","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":140,"y":320,"wires":[["42b8f5a1.82c384"]]},{"id":"42b8f5a1.82c384","type":"file in","z":"423957aa.39d6","name":"testdata.json","filename":"/root/testdata.json","format":"utf8","chunk":false,"sendError":false,"encoding":"none","x":330,"y":320,"wires":[["143a6931.a0b3d7"]]},{"id":"143a6931.a0b3d7","type":"json","z":"423957aa.39d6","name":"","property":"payload","action":"","pretty":false,"x":500,"y":320,"wires":[["bef3e72a.892db","b19468f2.8bfd48"]]},{"id":"10a6bd71.db2093","type":"redlink store","z":"e60de991.75ae48","listenAddress":"localhost","listenPort":"4001","southInsert":false,"peerAddress":"0.0.0.0","peerPort":443,"headers":[],"name":"MAO1","meshName":"mesh0","interStoreLB":false,"oldStore":true,"showRegistration":true,"showDebug":false,"outputs":2,"isUserCertificate":false,"userKey":"","userCertificate":"","x":160,"y":100,"wires":[[],["4898980a.701218"]]},{"id":"18e1fbef.1b99e4","type":"redlink store","z":"e60de991.75ae48","listenAddress":"localhost","listenPort":"4002","southInsert":false,"peerAddress":"0.0.0.0","peerPort":443,"headers":[],"name":"MAO2","meshName":"mesh0","interStoreLB":false,"oldStore":true,"showRegistration":true,"showDebug":false,"outputs":2,"isUserCertificate":false,"userKey":"","userCertificate":"","x":160,"y":220,"wires":[[],["e4c65c91.d78c"]]},{"id":"b7f11aaa.0b01f","type":"redlink store","z":"e60de991.75ae48","listenAddress":"localhost","listenPort":"4003","southInsert":true,"peerAddress":"0.0.0.0","peerPort":443,"headers":[{"ip":"localhost","port":"4004"}],"name":"MAO3","meshName":"mesh0","interStoreLB":true,"oldStore":true,"showRegistration":true,"showDebug":false,"outputs":2,"isUserCertificate":false,"userKey":"","userCertificate":"","x":160,"y":340,"wires":[[],["52d1af1b.3c14e8"]]},{"id":"96059982.61aa7","type":"redlink consumer","z":"e60de991.75ae48","name":"MyService","reNotifyInterval":1,"consumerStoreName":"mesh0:MAO1","intransit":1,"manualReadReceiveSend":false,"rateTypeReceiveSend":"none","rateReceiveSend":1,"rateUnitsReceiveSend":"second","nbRateUnitsReceiveSend":"","topicReceiveSend":"","cmd":"read","showStatsReceiveSend":false,"statsFrequencyReceiveSend":0,"showDebugReceiveSend":false,"outputs":3,"x":570,"y":100,"wires":[["2f3b095.c070ef6"],["525dccd4.05f8a4"],[]]},{"id":"4b3893d6.99e9dc","type":"redlink consumer","z":"e60de991.75ae48","name":"MyService","reNotifyInterval":1,"consumerStoreName":"mesh0:MAO2","intransit":1,"manualReadReceiveSend":false,"rateTypeReceiveSend":"none","rateReceiveSend":1,"rateUnitsReceiveSend":"second","nbRateUnitsReceiveSend":"","topicReceiveSend":"","cmd":"read","showStatsReceiveSend":false,"statsFrequencyReceiveSend":0,"showDebugReceiveSend":false,"outputs":3,"x":570,"y":220,"wires":[["e361744e.0e3e"],["55dee7b.7a98f18"],[]]},{"id":"2f3b095.c070ef6","type":"function","z":"e60de991.75ae48","name":"","func":"msg.payload='MAO1 is Alive';\nreturn msg;","outputs":1,"noerr":0,"x":570,"y":40,"wires":[["96059982.61aa7"]]},{"id":"e361744e.0e3e","type":"function","z":"e60de991.75ae48","name":"","func":"msg.payload='MAO2 is Alive';\nreturn msg;","outputs":1,"noerr":0,"x":570,"y":160,"wires":[["4b3893d6.99e9dc"]]},{"id":"4753721f.fd9a0c","type":"comment","z":"e60de991.75ae48","name":"Load Balancer goes here","info":"","x":410,"y":440,"wires":[]},{"id":"55dee7b.7a98f18","type":"debug","z":"e60de991.75ae48","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":750,"y":220,"wires":[]},{"id":"525dccd4.05f8a4","type":"debug","z":"e60de991.75ae48","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":750,"y":100,"wires":[]},{"id":"db90fcc9.e64c88","type":"redlink store","z":"e60de991.75ae48","listenAddress":"localhost","listenPort":"4004","southInsert":true,"peerAddress":"0.0.0.0","peerPort":443,"headers":[{"ip":"localhost","port":"4001"},{"ip":"localhost","port":"4002"}],"name":"Lucky","meshName":"mesh0","interStoreLB":true,"oldStore":true,"showRegistration":true,"showDebug":false,"outputs":2,"isUserCertificate":false,"userKey":"","userCertificate":"","x":420,"y":480,"wires":[["32f40411.23bebc"],["8cac1700.09f6e"]]},{"id":"bd0a46eb.7ada38","type":"redlink producer","z":"e60de991.75ae48","name":"A producer","producerStoreName":"mesh0:Lucky","producerConsumer":"MyService","producerTTL":15,"producerETT":300,"priority":0,"timeout":-1,"sendOnly":false,"manualRead":false,"enforceReversePath":true,"rateTypeSendReceive":"none","rateSendReceive":1,"rateUnitsSendReceive":"second","nbRateUnitsSendReceive":"","topic":"","cmd":"send","private":false,"ttl":null,"tba":null,"showDebug":false,"outputs":3,"notifyInterval":15,"x":610,"y":660,"wires":[["f777bcde.8dde1"],[],[]]},{"id":"f803c275.a44348","type":"inject","z":"e60de991.75ae48","name":"","topic":"","payload":"Hello LuckyMaoMao","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":150,"y":660,"wires":[["16e21f9e.c02378"]]},{"id":"f777bcde.8dde1","type":"debug","z":"e60de991.75ae48","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":850,"y":640,"wires":[]},{"id":"32f40411.23bebc","type":"debug","z":"e60de991.75ae48","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":630,"y":460,"wires":[]},{"id":"cdd7eab4.395398","type":"inject","z":"e60de991.75ae48","name":"","topic":"listRegistrations","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":140,"y":500,"wires":[["db90fcc9.e64c88"]]},{"id":"9121f5be.d39d28","type":"inject","z":"e60de991.75ae48","name":"","topic":"listStore","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":120,"y":540,"wires":[["db90fcc9.e64c88"]]},{"id":"876fbe45.5dfea","type":"inject","z":"e60de991.75ae48","name":"","topic":"listServices","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":130,"y":460,"wires":[["db90fcc9.e64c88"]]},{"id":"52d1af1b.3c14e8","type":"debug","z":"e60de991.75ae48","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":350,"y":340,"wires":[]},{"id":"8cac1700.09f6e","type":"debug","z":"e60de991.75ae48","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":630,"y":500,"wires":[]},{"id":"4898980a.701218","type":"debug","z":"e60de991.75ae48","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":350,"y":100,"wires":[]},{"id":"e4c65c91.d78c","type":"debug","z":"e60de991.75ae48","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":350,"y":220,"wires":[]},{"id":"16e21f9e.c02378","type":"trigger","z":"e60de991.75ae48","op1":"1","op2":"0","op1type":"str","op2type":"str","duration":"-250","extend":false,"units":"ms","reset":"","bytopic":"all","name":"","x":380,"y":660,"wires":[["bd0a46eb.7ada38"]]},{"id":"1b01f810.f116a","type":"redlink consumer","z":"e60de991.75ae48","name":"MyService","reNotifyInterval":1,"consumerStoreName":"mesh0:MAO3","intransit":1,"manualReadReceiveSend":false,"rateTypeReceiveSend":"none","rateReceiveSend":1,"rateUnitsReceiveSend":"second","nbRateUnitsReceiveSend":"","topicReceiveSend":"","cmd":"read","showStatsReceiveSend":false,"statsFrequencyReceiveSend":0,"showDebugReceiveSend":false,"outputs":3,"x":570,"y":340,"wires":[["5725b8f0.14fb28"],["24214e7e.fb54e2"],[]]},{"id":"5725b8f0.14fb28","type":"function","z":"e60de991.75ae48","name":"","func":"msg.payload='MAO3 is Alive';\nreturn msg;","outputs":1,"noerr":0,"x":570,"y":300,"wires":[["1b01f810.f116a"]]},{"id":"24214e7e.fb54e2","type":"debug","z":"e60de991.75ae48","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":770,"y":340,"wires":[]},{"id":"5d634acc.e4f14c","type":"comment","z":"e60de991.75ae48","name":"South Service","info":"","x":150,"y":300,"wires":[]},{"id":"2fd46dc4.372eea","type":"comment","z":"e60de991.75ae48","name":"North Service","info":"","x":150,"y":60,"wires":[]},{"id":"65b06e57.f4d02","type":"comment","z":"e60de991.75ae48","name":"North Service","info":"","x":150,"y":180,"wires":[]},{"id":"ad4c924e.151e88","type":"inject","z":"b1956b20.6ac36","name":"Just Read","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":300,"y":560,"wires":[["8306b131.ccc728"]]},{"id":"8306b131.ccc728","type":"AWS SQS","z":"b1956b20.6ac36","aws":"","operation":"ReceiveMessage","QueueUrl":"https://sqs.ap-southeast-2.amazonaws.com/213386079945/OUTAGE_NOTIFY_RESPONSE","Label":"","AWSAccountIds":"","Actions":"","ReceiptHandle":"","VisibilityTimeout":"","Entries":"","QueueName":"","MessageBody":"","Attributes":"","Tags":"","TagKeys":"","name":"SQS Receive","x":480,"y":560,"wires":[["af59335f.a91ea"],["550e2a2a.0f471c"]]},{"id":"af59335f.a91ea","type":"debug","z":"b1956b20.6ac36","name":"Outage response message","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":740,"y":520,"wires":[]},{"id":"550e2a2a.0f471c","type":"debug","z":"b1956b20.6ac36","name":"Error SQS Receive","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":730,"y":580,"wires":[]},{"id":"952647ba.e43a68","type":"AWS SQS","z":"b1956b20.6ac36","aws":"","operation":"SendMessage","QueueUrl":"https://sqs.ap-southeast-2.amazonaws.com/213386079945/OUTAGE_NOTIFY_RESPONSE","Label":"","AWSAccountIds":"","Actions":"","ReceiptHandle":"","VisibilityTimeout":"","Entries":"","QueueName":"","MessageBody":"","Attributes":"","Tags":"","TagKeys":"","name":"SQS Send Outage Response","x":1050,"y":340,"wires":[["4afc82f4.cf43e4"],["5efe602d.0f886"]]},{"id":"4afc82f4.cf43e4","type":"debug","z":"b1956b20.6ac36","name":"Sent","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1300,"y":300,"wires":[]},{"id":"5efe602d.0f886","type":"debug","z":"b1956b20.6ac36","name":"Error Sending","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1330,"y":380,"wires":[]},{"id":"9c2053d9.896d1","type":"change","z":"b1956b20.6ac36","name":"Sample Response RECEIVE after Data Processing Layer receives request","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\"response\":{\"status\":\"RECEIVED\",\"requestId\":\"0123456789\",\"notificationId\":\"123456789012345678901234\"}}","tot":"json"}],"action":"","property":"","from":"","to":"","reg":false,"x":510,"y":160,"wires":[["a7f9e6d8.ff0c08"]]},{"id":"50011861.0c376","type":"inject","z":"b1956b20.6ac36","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":100,"y":160,"wires":[["9c2053d9.896d1"]]},{"id":"a7f9e6d8.ff0c08","type":"json","z":"b1956b20.6ac36","name":"convert to JSON String","property":"payload","action":"str","pretty":false,"x":790,"y":280,"wires":[["8b04cd5b.30d4"]]},{"id":"8b04cd5b.30d4","type":"change","z":"b1956b20.6ac36","name":"set MessageBody","rules":[{"t":"set","p":"MessageBody","pt":"msg","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":770,"y":340,"wires":[["952647ba.e43a68"]]},{"id":"44f40e2c.619bb","type":"comment","z":"b1956b20.6ac36","name":"Setup mock response samples","info":"","x":130,"y":100,"wires":[]},{"id":"6872e9ec.cd20a","type":"change","z":"b1956b20.6ac36","name":"Sample Response after CRQ creation","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\"response\":{\"status\":\"PROCESSED\",\"requestId\":\"0123456789\",\"notificationId\":\"123456789012345678901234\",\"crq\":\"CRQ123456789\"}}","tot":"json"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":220,"wires":[["a7f9e6d8.ff0c08"]]},{"id":"f2927dbd.df28e","type":"inject","z":"b1956b20.6ac36","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":100,"y":220,"wires":[["6872e9ec.cd20a"]]},{"id":"754cc395.a39f3c","type":"AWS SQS","z":"b1956b20.6ac36","aws":"","operation":"ReceiveMessage","QueueUrl":"https://sqs.ap-southeast-2.amazonaws.com/213386079945/OUTAGE_NOTIFY_RESPONSE","Label":"","AWSAccountIds":"","Actions":"","ReceiptHandle":"","VisibilityTimeout":"","Entries":"","QueueName":"","MessageBody":"HELLO","Attributes":"","Tags":"","TagKeys":"","name":"SQS Response Rx","x":370,"y":920,"wires":[["e5b3c5f3.aca808","8f1fafb2.79dce8"],["ca633aa9.293d48","2dff7c7a.0eb304"]]},{"id":"a114f8f1.35a528","type":"inject","z":"b1956b20.6ac36","name":"Read and Delete","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":160,"y":920,"wires":[["754cc395.a39f3c"]]},{"id":"e5b3c5f3.aca808","type":"debug","z":"b1956b20.6ac36","name":"Debug Rx Message","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":420,"y":1020,"wires":[]},{"id":"ca633aa9.293d48","type":"debug","z":"b1956b20.6ac36","name":"Error Send Request","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":420,"y":1060,"wires":[]},{"id":"e3cee450.d6c268","type":"debug","z":"b1956b20.6ac36","name":"Delete Success","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1300,"y":720,"wires":[]},{"id":"4e4330c4.bb2568","type":"debug","z":"b1956b20.6ac36","name":"Delete Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":1690,"y":900,"wires":[]},{"id":"8f1fafb2.79dce8","type":"change","z":"b1956b20.6ac36","name":"ReceiptHandle","rules":[{"t":"set","p":"ReceiptHandle","pt":"msg","to":"payload.Messages[0].ReceiptHandle","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":620,"y":900,"wires":[["1f6d2f70.86b821","b86c1f72.546088"]]},{"id":"1f6d2f70.86b821","type":"debug","z":"b1956b20.6ac36","name":"Debug ReceiptHandle","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"ReceiptHandle","targetType":"msg","x":860,"y":860,"wires":[]},{"id":"b86c1f72.546088","type":"switch","z":"b1956b20.6ac36","name":"Check ReceiptHandle Exists","property":"ReceiptHandle","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"},{"t":"empty"}],"checkall":"false","repair":false,"outputs":3,"x":870,"y":920,"wires":[["d0cf4de0.7b376"],["70b24305.b41e9c"],["70b24305.b41e9c"]]},{"id":"70b24305.b41e9c","type":"debug","z":"b1956b20.6ac36","name":"No Message to delete","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1120,"y":960,"wires":[]},{"id":"fddf2750.828bb","type":"AWS SQS","z":"b1956b20.6ac36","aws":"","operation":"DeleteMessage","QueueUrl":"https://sqs.ap-southeast-2.amazonaws.com/213386079945/OUTAGE_NOTIFY_RESPONSE","Label":"","AWSAccountIds":"","Actions":"","ReceiptHandle":"","VisibilityTimeout":"","Entries":"","QueueName":"","MessageBody":"","Attributes":"","Tags":"","TagKeys":"","name":"Delete Response Rx Message","x":1130,"y":780,"wires":[["e3cee450.d6c268","2bfb9703.447438"],["4e4330c4.bb2568","d5397b9f.7bc118"]]},{"id":"d0cf4de0.7b376","type":"change","z":"b1956b20.6ac36","name":"Set sqsMessage","rules":[{"t":"set","p":"sqsMessage","pt":"msg","to":"payload.Messages[0]","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":840,"wires":[["fddf2750.828bb"]]},{"id":"d363023.fa37b","type":"comment","z":"b1956b20.6ac36","name":"Show outage response and delete message","info":"","x":390,"y":500,"wires":[]},{"id":"2bfb9703.447438","type":"change","z":"b1956b20.6ac36","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"sqsMessage.Body","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1410,"y":780,"wires":[["ed44521b.3919d8","434a552a.93ed7c"]]},{"id":"ed44521b.3919d8","type":"json","z":"b1956b20.6ac36","name":"","property":"payload","action":"obj","pretty":false,"x":1590,"y":780,"wires":[["42ee1d43.74bf3c","b2d1c7a6.a57588"]]},{"id":"42ee1d43.74bf3c","type":"debug","z":"b1956b20.6ac36","name":"THE JSON RESPONSE","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1750,"y":680,"wires":[]},{"id":"434a552a.93ed7c","type":"debug","z":"b1956b20.6ac36","name":"msg.sqsMessage.Body","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1570,"y":720,"wires":[]},{"id":"62902e83.893fc","type":"link in","z":"b1956b20.6ac36","name":"AWS Outage Notify Response","links":[],"x":115,"y":840,"wires":[["754cc395.a39f3c"]]},{"id":"d5397b9f.7bc118","type":"link out","z":"b1956b20.6ac36","name":"Error Delete","links":[],"x":1715,"y":840,"wires":[]},{"id":"b2d1c7a6.a57588","type":"link out","z":"b1956b20.6ac36","name":"Success","links":[],"x":1735,"y":780,"wires":[]},{"id":"2dff7c7a.0eb304","type":"link out","z":"b1956b20.6ac36","name":"Error Receive","links":[],"x":335,"y":1100,"wires":[]},{"id":"d1c99317.fc96b","type":"comment","z":"b1956b20.6ac36","name":"Entry point","info":"","x":120,"y":760,"wires":[]},{"id":"876d3db.a5378c","type":"change","z":"b1956b20.6ac36","name":"Sample Response without impacted assets","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\"response\":{\"status\":\"PROCESSED\",\"requestId\":\"0123456789\",\"notificationId\":\"123456789012345678901234\",\"crq\":\"\",\"message\":\"No impacted assets found within the polygon\"}}","tot":"json"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":280,"wires":[["a7f9e6d8.ff0c08"]]},{"id":"bc2c7358.b1d6e","type":"inject","z":"b1956b20.6ac36","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":100,"y":280,"wires":[["876d3db.a5378c"]]},{"id":"c30f3582.a48cb","type":"change","z":"b1956b20.6ac36","name":"Sample Response FAILURE","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\"response\":{\"status\":\"FAILED\",\"requestId\":\"0123456789\",\"notificationId\":\"123456789012345678901234\",\"crq\":\"\",\"message\":\"Technical Exception\"}}","tot":"json"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":340,"wires":[["a7f9e6d8.ff0c08"]]},{"id":"d1cd84ff.eea9e","type":"inject","z":"b1956b20.6ac36","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":100,"y":340,"wires":[["c30f3582.a48cb"]]},{"id":"cea8e02c.9cb11","type":"inject","z":"ba63dc5d.9c6748","name":"Array of Inplay objects","topic":"","payload":"[{\"id\":1,\"AAA\":\"efg\",\"BBB\":\"hij\"},{\"id\":2,\"AAA\":\"abc\",\"BBB\":\"def\"}]","payloadType":"json","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":200,"y":360,"wires":[["7b5dcf83.c0f83"]]},{"id":"7b5dcf83.c0f83","type":"split","z":"ba63dc5d.9c6748","name":"For Each Array","splt":"","spltType":"str","arraySplt":1,"arraySpltType":"len","stream":false,"addname":"","x":420,"y":360,"wires":[["a5598f26.b9e888","ed682397.6a402"]]},{"id":"a5598f26.b9e888","type":"debug","z":"ba63dc5d.9c6748","name":"Debug split","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":590,"y":320,"wires":[]},{"id":"ed682397.6a402","type":"function","z":"ba63dc5d.9c6748","name":"*** Search received outages","func":"// Check if Received outage exists\n\n// if so\n//msg.payload.exists = true;\n\n// if not\nmsg.payload.exists = false;\n\nreturn msg;","outputs":1,"noerr":0,"x":620,"y":480,"wires":[["be251d34.4937b8"]]},{"id":"be251d34.4937b8","type":"switch","z":"ba63dc5d.9c6748","name":"Exists","property":"payload.exists","propertyType":"msg","rules":[{"t":"true"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":850,"y":480,"wires":[["9eab0c0d.b1295"],["8161706a.127ba"]]},{"id":"9eab0c0d.b1295","type":"debug","z":"ba63dc5d.9c6748","name":"When exists, do nothing","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1070,"y":440,"wires":[]},{"id":"f82686e6.fbd1c8","type":"link out","z":"ba63dc5d.9c6748","name":"SQS Push","links":["ac36db9d.fc6288"],"x":1895,"y":660,"wires":[]},{"id":"658e7bb2.b9c884","type":"change","z":"ba63dc5d.9c6748","name":"Cancel Request Sample JSON","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\"request\":{\"requestId\":\"0123456789\",\"notificationId\":\"123456789012345678901234\",\"notificationType\":\"CANCEL\",\"eventType\":\"PLANNED\",\"crq\":\"CRQ123456789\"}}","tot":"json"}],"action":"","property":"","from":"","to":"","reg":false,"x":1630,"y":660,"wires":[["f82686e6.fbd1c8"]]},{"id":"4b04115c.fedbe8","type":"comment","z":"ba63dc5d.9c6748","name":"SQS Push","info":"","x":1940,"y":620,"wires":[]},{"id":"8161706a.127ba","type":"function","z":"ba63dc5d.9c6748","name":"*** Need to inc CRQCancelCount for vendor","func":"var docs= [];\nvar prevMsg = msg.payload;\nvar cnt = msg.payload.CRQcancelCnt;\n\nif (cnt && isNan(cnt)){\n    cnt+=1;\n} else {\n    cnt = 1;\n}\n\nfunction ref(){\n    var upd = { $set: { \"CRQcancelCnt\": cnt } }\n    var myquery = { supplierReference: prevMsg.supplierReference };\n    return { $set: { \"CRQcancelCnt\": cnt } , supplierReference: prevMsg.supplierReference};\n}\n\n//var upd = { \"$inc\": { \"CRQcancelCnt\": 1 }};\nvar upd = { $set: { \"CRQcancelCnt\": cnt } }\n\ndocs.push(msg.payload);\ndocs.push(upd);\n\n//msg.payload={prevMsg, upd};\n//msg.payload = docs;\n\n//msg.payload=[{\"supplierReference\":supplierRef},{limit:1}];\nmsg = {};\n//msg.payload=ref();\n\n//[[ {_id: 1243}, {_id: 2345}]]\nmsg.payload= [];\nmsg.payload.push( {\"$set\": { \"CRQcancelCnt\": cnt }, \"supplierReference\": prevMsg.supplierReference});\n\n\nmsg.operation=\"update\";\nmsg.collection='power-outages-inPlay';\n\nreturn msg;","outputs":1,"noerr":0,"x":570,"y":700,"wires":[["3cd8654.c86501a","94625f3a.58be68"]]},{"id":"84e07398.5c0358","type":"switch","z":"ba63dc5d.9c6748","name":"Check CRQcancelCnt","property":"payload.CRQcancelCnt","propertyType":"msg","rules":[{"t":"gte","v":"3","vt":"num"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":960,"y":720,"wires":[["d7c9e32a.a70ad8"],["e6131b59.a2605"]]},{"id":"b882a1e8.7d5408","type":"comment","z":"ba63dc5d.9c6748","name":"msg.payload","info":"","x":630,"y":440,"wires":[]},{"id":"d7c9e32a.a70ad8","type":"function","z":"ba63dc5d.9c6748","name":"*** Construct JSON Request","func":"\nreturn msg;","outputs":1,"noerr":0,"x":1300,"y":660,"wires":[["658e7bb2.b9c884"]]},{"id":"2a4d161c.2d6792","type":"debug","z":"ba63dc5d.9c6748","name":"Don't do anthing yet","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1760,"y":960,"wires":[]},{"id":"e6131b59.a2605","type":"function","z":"ba63dc5d.9c6748","name":"*** Check if Expired","func":"\nreturn msg;","outputs":1,"noerr":0,"x":1280,"y":860,"wires":[["5f8d1f1c.d1532"]]},{"id":"5f8d1f1c.d1532","type":"switch","z":"ba63dc5d.9c6748","name":"Expired","property":"payload","propertyType":"msg","rules":[{"t":"true"},{"t":"else"}],"checkall":"true","repair":false,"outputs":2,"x":1480,"y":860,"wires":[["cddcb959.292238"],["2a4d161c.2d6792"]]},{"id":"cddcb959.292238","type":"function","z":"ba63dc5d.9c6748","name":"*** Delete from MONGO","func":"\nreturn msg;","outputs":1,"noerr":0,"x":1750,"y":860,"wires":[[]]},{"id":"bc3822e3.2d879","type":"function","z":"ba63dc5d.9c6748","name":"Get All power-outages-inPlay","func":"msg={};\nmsg.operation=\"find.toArray\";\nmsg.collection='power-outages-inPlay';\nreturn msg;","outputs":1,"noerr":0,"x":400,"y":160,"wires":[["b9b16f4f.896f58"]]},{"id":"b9b16f4f.896f58","type":"mongodb3 in","z":"ba63dc5d.9c6748","service":"_ext_","configNode":"872c8e55.c5e9a","name":"","collection":"","operation":"","x":630,"y":160,"wires":[["2a088e30.26457a","7b5dcf83.c0f83"]]},{"id":"8ebdd6cf.9e0928","type":"inject","z":"ba63dc5d.9c6748","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":160,"y":160,"wires":[["bc3822e3.2d879"]]},{"id":"2a088e30.26457a","type":"debug","z":"ba63dc5d.9c6748","name":"Debug All power-outages-inPlay","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload[1]","targetType":"msg","x":870,"y":140,"wires":[]},{"id":"3cd8654.c86501a","type":"mongodb3 in","z":"ba63dc5d.9c6748","service":"_ext_","configNode":"872c8e55.c5e9a","name":"","collection":"","operation":"","x":790,"y":780,"wires":[["84e07398.5c0358","c03db0ba.08c738"]]},{"id":"c03db0ba.08c738","type":"debug","z":"ba63dc5d.9c6748","name":"Debug Update result","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1000,"y":880,"wires":[]},{"id":"94625f3a.58be68","type":"debug","z":"ba63dc5d.9c6748","name":"Debug UPDATE input","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":570,"y":840,"wires":[]},{"id":"fea66f0.e01a59","type":"catch","z":"ba63dc5d.9c6748","name":"","scope":null,"uncaught":false,"x":540,"y":1060,"wires":[["184dcc6c.441914"]]},{"id":"184dcc6c.441914","type":"debug","z":"ba63dc5d.9c6748","name":"CATCH","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":750,"y":1060,"wires":[]},{"id":"8319160d.5a8468","type":"comment","z":"ba63dc5d.9c6748","name":"Need the mongodb details","info":"","x":650,"y":100,"wires":[]},{"id":"812513f7.f904b","type":"ui_table","z":"a722b61b.82b25","group":"c2b01293.681dd8","name":"","order":1,"width":"28","height":"12","columns":[],"outputs":1,"cts":true,"x":270,"y":520,"wires":[["ca3e6b2e.abe8","dcf3f957.94d1b"]]},{"id":"a8f80a78.bdf858","type":"inject","z":"a722b61b.82b25","name":"","topic":"","payload":"{\"requestId\":\"0123456789\",\"notificationId\":\"012345678901234567890123\",\"notificationType\":\"NEW\",\"eventType\":\"PLANNED\",\"cause\":\"Power  equipment  undergoing  maintenance\",\"supplier\":\"AUSGRID\",\"supplierReferenceId\":\"01234567890123456789\",\"startTimeStamp\":\"06-11-2019  13:07:00  AEST\",\"endTimeStamp\":\"07-11-2019  13:07:00  AEST\",\"estTimeStamp\":\"07-11-2019  13:07:00  AEST\",\"polygon\":{\"type\":\"Feature\",\"geometry\":{\"type\":\"Polygon\",\"coordinates\":[[[100,0],[101,0],[101,1],[100,1],[100,0]]]}}}","payloadType":"json","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":110,"y":480,"wires":[["73648f05.ceee98"]]},{"id":"d833e1aa.f2bff8","type":"ui_svg_graphics","z":"e9ac6f0a.396628","group":"e8692868.37e8e","order":5,"width":"14","height":"10","svgString":"<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:svg=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"cursor:move\" preserveAspectRatio=\"none\" x=\"0\" y=\"0\" viewBox=\"-0.14965985715389252 0 900.29931640625 710\" width=\"100%\" height=\"100%\">\n  <image width=\"889\" height=\"703\" id=\"background\" xlink:href=\"https://www.roomsketcher.com/wp-content/uploads/2016/10/1-Bedroom-Floor-Plans.jpg\" />\n  <text id=\"camera_living\" x=\"310\" y=\"45\" font-family=\"FontAwesome\" fill=\"blue\" stroke=\"black\" font-size=\"35\" text-anchor=\"middle\" alignment-baseline=\"middle\" stroke-width=\"1\">fa-video-camera</text>\n</svg>","clickableShapes":[{"targetId":"#camera_living","action":"click","payload":"light_kitchen","payloadType":"str","topic":"light_kitchen"}],"smilAnimations":[{"id":"myanimation","targetId":"pir_living","classValue":"","attributeName":"r","fromValue":"0","toValue":"40","trigger":null,"duration":"2","durationUnit":"s","repeatCount":"0","end":"restore","delay":"","delayUnit":"s","custom":""}],"bindings":[],"showCoordinates":false,"autoFormatAfterEdit":true,"outputField":"","editorUrl":"","directory":"/var/tmp","name":"","x":320,"y":160,"wires":[["e1fca41f.8264a8","685eb2b3.bee16c"]]},{"id":"6b4d9625.e4a7f","type":"debug","z":"e9ac6f0a.396628","name":"Clicked menu item","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":810,"y":260,"wires":[]},{"id":"685eb2b3.bee16c","type":"ui_context_menu","z":"e9ac6f0a.396628","group":"e8692868.37e8e","order":5,"width":0,"height":-1,"fontSize":16,"position":"msg","outputField":"payload","xCoordinate":50,"yCoordinate":50,"menu":"fixed","menuItems":[{"id":"STOP","icon":"fa-stop","label":"Stop playing","topic":"","payload":"stop","payloadType":"str","visible":true,"enabled":true},{"id":"PLAY","icon":"fa-play","label":"Second","topic":"","payload":"play","payloadType":"str","visible":true,"enabled":true},{"id":"PAUSE","icon":"fa-pause","label":"Pause","topic":"","payload":"pause","payloadType":"str","visible":true,"enabled":true}],"colors":"native","textColor":"#ff8040","backgroundColor":"#7ed669","borderColor":"#b1aa12","intervalLength":"0","intervalUnit":"secs","name":"","x":600,"y":240,"wires":[["6b4d9625.e4a7f"]]},{"id":"e1fca41f.8264a8","type":"debug","z":"e9ac6f0a.396628","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":560,"y":160,"wires":[]},{"id":"1cea1557.881b6b","type":"inject","z":"e9ac6f0a.396628","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":260,"y":260,"wires":[["14374a1d.f236f6"]]},{"id":"14374a1d.f236f6","type":"function","z":"e9ac6f0a.396628","name":"","func":"msg.position ={\n    x:802,\n    y:151\n}\nreturn msg;","outputs":1,"noerr":0,"x":420,"y":360,"wires":[[]]},{"id":"e5205855.434da","type":"ui_svg_graphics","z":"ba63dc5d.9c6748","group":"e8692868.37e8e","order":5,"width":"14","height":"10","svgString":"<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:svg=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"cursor:move\" preserveAspectRatio=\"none\" x=\"0\" y=\"0\" viewBox=\"-0.14965985715389252 0 900.29931640625 710\" width=\"100%\" height=\"100%\">\n  <image width=\"889\" height=\"703\" id=\"background\" xlink:href=\"https://www.roomsketcher.com/wp-content/uploads/2016/10/1-Bedroom-Floor-Plans.jpg\" />\n  <text id=\"camera_living\" x=\"310\" y=\"45\" font-family=\"FontAwesome\" fill=\"blue\" stroke=\"black\" font-size=\"35\" text-anchor=\"middle\" alignment-baseline=\"middle\" stroke-width=\"1\">fa-video-camera</text>\n</svg>","clickableShapes":[{"targetId":"#camera_living","action":"click","payload":"light_kitchen","payloadType":"str","topic":"light_kitchen"}],"smilAnimations":[{"id":"myanimation","targetId":"pir_living","classValue":"","attributeName":"r","fromValue":"0","toValue":"40","trigger":null,"duration":"2","durationUnit":"s","repeatCount":"0","end":"restore","delay":"","delayUnit":"s","custom":""}],"bindings":[],"showCoordinates":false,"autoFormatAfterEdit":true,"outputField":"","editorUrl":"","directory":"/var/tmp","name":"","x":206,"y":76,"wires":[[]]},{"id":"ca3e6b2e.abe8","type":"debug","z":"a722b61b.82b25","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":430,"y":420,"wires":[]},{"id":"73648f05.ceee98","type":"function","z":"a722b61b.82b25","name":"","func":"function pad ( num, size ) {\n  if (num.toString().length >= size) return num;\n  return ( Math.pow( 10, size ) + Math.floor(num) ).toString().substring( 1 );\n}\n\nvar output =[];\nvar count=1234567890;\nvar nid = 0;\nfor (var a=0;  a<100; a++ ){\n    count=count+1;\n    nid=nid+1;\n    var mydate = Date.now();\n    var mydate2 = new Date().toLocaleString().replace(/\\D/g,'')+pad(nid, 8);\n    var mypayload=\n    {\n    \"requestId\": count,\n    \"crq\": count+200,\n    \"notificationId\": mydate2,\n    \"notificationType\": \"NEW\",\n    \"eventType\": \"PLANNED\",\n    \"cause\": \"Power  equipment  undergoing  maintenance\",\n    \"supplier\": \"AUSGRID\",\n    \"supplierReferenceId\": \"01234567890123456789\",\n    \"tzone\": \"AEST\",\n    \"startTimeStamp\": mydate,\n    \"endTimeStamp\": mydate,\n    \"polygon\": {\n        \"type\": \"Feature\",\n        \"geometry\": {\n            \"type\": \"Polygon\",\n            \"coordinates\": [\n                [\n                    [\n                        100,\n                        0\n                    ],\n                    [\n                        101,\n                        0\n                    ],\n                    [\n                        101,\n                        1\n                    ],\n                    [\n                        100,\n                        1\n                    ],\n                    [\n                        100,\n                        0\n                    ]\n                ]\n            ]\n        }\n    },\n    \"action\":\"NEW\"\n}\n output.push(mypayload);\n}\n    mypayload=\n    {\n    \"requestId\": count+1,\n    \"notificationId\":\"\", \n    \"notificationType\": \"NEW\",\n    \"eventType\": \"\",\n    \"cause\": \"\",\n    \"supplier\": \"\",\n    \"supplierReferenceId\": \"\",\n    \"startTimeStamp\": \"\",\n    \"endTimeStamp\": \"\",\n    \"estTimeStamp\": \"\",\n    \"polygon\": {\n        \"type\": \"Feature\",\n        \"geometry\": {\n            \"type\": \"Polygon\",\n            \"coordinates\": [],\n        }\n    },\n    \"action\":\"NEW\"\n}\noutput.push(mypayload);\nmsg.payload =output;\nreturn msg;","outputs":1,"noerr":0,"x":110,"y":520,"wires":[["812513f7.f904b","b8c4080f.2a446"]]},{"id":"7ae3235c.d1fcc4","type":"debug","z":"a722b61b.82b25","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":910,"y":640,"wires":[]},{"id":"c5c2ccb.002f6b","type":"debug","z":"e9ac6f0a.396628","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":960,"y":580,"wires":[]},{"id":"679c1338.62b7ec","type":"ui_context_menu","z":"a722b61b.82b25","group":"c2b01293.681dd8","order":3,"width":0,"height":-1,"fontSize":16,"position":"fixed","outputField":"action","xCoordinate":"150","yCoordinate":"150","menu":"fixed","menuItems":[{"id":"NEW","icon":"fa-star","label":"NEW","topic":"","payload":"saved","payloadType":"flow","visible":true,"enabled":true},{"id":"UPDATE Field","icon":"fa-star-o","label":"UPDATE","topic":"","payload":"saved","payloadType":"flow","visible":true,"enabled":true},{"id":"CANCEL","icon":"fa-stop","label":"CANCEL","topic":"","payload":"saved","payloadType":"flow","visible":true,"enabled":true}],"colors":"native","textColor":"#ff8040","backgroundColor":"#7ed669","borderColor":"#b1aa12","intervalLength":"0","intervalUnit":"secs","name":"","x":720,"y":640,"wires":[["7ae3235c.d1fcc4"]]},{"id":"b8c4080f.2a446","type":"debug","z":"a722b61b.82b25","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":410,"y":380,"wires":[]},{"id":"3bc5a6d2.ab8c42","type":"switch","z":"a722b61b.82b25","name":"","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"requestId","vt":"str"},{"t":"eq","v":"crq","vt":"str"},{"t":"eq","v":"notificationId","vt":"str"},{"t":"eq","v":"notificationType","vt":"str"},{"t":"eq","v":"eventType","vt":"str"},{"t":"eq","v":"cause","vt":"str"},{"t":"eq","v":"tzone","vt":"str"},{"t":"eq","v":"supplier","vt":"str"},{"t":"eq","v":"supplierReference","vt":"str"},{"t":"eq","v":"startTimeStamp","vt":"str"},{"t":"eq","v":"endTimeStamp","vt":"str"},{"t":"eq","v":"polygon","vt":"str"},{"t":"eq","v":"action","vt":"str"}],"checkall":"false","repair":true,"outputs":13,"x":530,"y":540,"wires":[[],[],["5b66cca1.e2e6c4"],["7f52de96.58b61"],["314ab6d.34ee24a"],["b6f8f7a1.81a99"],["faf0468d.89fef"],["a1a4dd0.8cc0ea"],["467ab1b9.26528"],[],[],[],["679c1338.62b7ec"]]},{"id":"dcf3f957.94d1b","type":"function","z":"a722b61b.82b25","name":"","func":"flow.set(\"saved\",msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":410,"y":520,"wires":[["3bc5a6d2.ab8c42","273c3204.8bbfce"]]},{"id":"46dd4b44.1200fc","type":"debug","z":"a722b61b.82b25","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":1150,"y":40,"wires":[]},{"id":"c0b0b70b.78de2","type":"ui_context_menu","z":"a722b61b.82b25","group":"c2b01293.681dd8","order":4,"width":0,"height":-1,"fontSize":16,"position":"fixed","outputField":"action","xCoordinate":"150","yCoordinate":"150","menu":"fixed","menuItems":[{"id":"EDIT","icon":"fa-edit,before,.fa-pencil-square-o","label":"Edit","topic":"","payload":"saved","payloadType":"flow","visible":true,"enabled":true},{"id":"CANCEL","icon":"","label":"Cancel","topic":"","payload":"","payloadType":"str","visible":true,"enabled":true}],"colors":"native","textColor":"#ff8040","backgroundColor":"#7ed669","borderColor":"#b1aa12","intervalLength":"0","intervalUnit":"secs","name":"Fields","x":190,"y":40,"wires":[["d5eb3303.20aa7"]]},{"id":"273c3204.8bbfce","type":"debug","z":"a722b61b.82b25","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":370,"y":680,"wires":[]},{"id":"d5eb3303.20aa7","type":"function","z":"a722b61b.82b25","name":"","func":"msg.payload=flow.get(\"saved\");\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":40,"wires":[["46dd4b44.1200fc"]]},{"id":"7ca59dd5.b42874","type":"link in","z":"a722b61b.82b25","name":"","links":["b6f8f7a1.81a99","467ab1b9.26528"],"x":75,"y":40,"wires":[["c0b0b70b.78de2"]]},{"id":"8da96865.8e0b9","type":"link out","z":"a722b61b.82b25","name":"","links":[],"x":1095,"y":480,"wires":[]},{"id":"b6f8f7a1.81a99","type":"link out","z":"a722b61b.82b25","name":"","links":["7ca59dd5.b42874"],"x":655,"y":520,"wires":[]},{"id":"467ab1b9.26528","type":"link out","z":"a722b61b.82b25","name":"","links":["7ca59dd5.b42874"],"x":718,"y":565,"wires":[]},{"id":"6fd9437b.3f9354","type":"debug","z":"a722b61b.82b25","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":1150,"y":80,"wires":[]},{"id":"ab733fc4.e8e718","type":"ui_context_menu","z":"a722b61b.82b25","group":"c2b01293.681dd8","order":5,"width":0,"height":-1,"fontSize":16,"position":"fixed","outputField":"action","xCoordinate":"150","yCoordinate":"150","menu":"fixed","menuItems":[{"id":"NEW","icon":"fa-arrow-right","label":"NEW","topic":"","payload":"","payloadType":"str","visible":true,"enabled":true},{"id":"UPDATE","icon":"fa-arrow-up","label":"UPDATE","topic":"","payload":"","payloadType":"str","visible":true,"enabled":true},{"id":"CANCEL","icon":"fa-arrow-down","label":"Cancel","topic":"","payload":"","payloadType":"str","visible":true,"enabled":true}],"colors":"native","textColor":"#ff8040","backgroundColor":"#7ed669","borderColor":"#b1aa12","intervalLength":"0","intervalUnit":"secs","name":"New/Update/Cancel","x":240,"y":80,"wires":[["f61314f6.1895d8"]]},{"id":"f61314f6.1895d8","type":"function","z":"a722b61b.82b25","name":"","func":"msg.payload=flow.get(\"saved\");\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":80,"wires":[["6fd9437b.3f9354"]]},{"id":"56434d06.27a9cc","type":"link in","z":"a722b61b.82b25","name":"","links":["7f52de96.58b61"],"x":75,"y":80,"wires":[["ab733fc4.e8e718"]]},{"id":"7f52de96.58b61","type":"link out","z":"a722b61b.82b25","name":"","links":["56434d06.27a9cc"],"x":715,"y":500,"wires":[]},{"id":"73a05ff4.449d88","type":"debug","z":"a722b61b.82b25","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":550,"y":120,"wires":[]},{"id":"22ba135c.9b64d4","type":"ui_context_menu","z":"a722b61b.82b25","group":"c2b01293.681dd8","order":6,"width":0,"height":-1,"fontSize":16,"position":"fixed","outputField":"action","xCoordinate":"150","yCoordinate":"150","menu":"fixed","menuItems":[{"id":"PLANNED","icon":"fa-arrow-up","label":"PLANNED","topic":"","payload":"","payloadType":"str","visible":true,"enabled":true},{"id":"UNPLANNED","icon":"fa-arrow-down","label":"UNPLANNED","topic":"","payload":"","payloadType":"str","visible":true,"enabled":true},{"id":"CANCEL","icon":"","label":"CANCEL","topic":"","payload":"","payloadType":"str","visible":true,"enabled":true}],"colors":"native","textColor":"#ff8040","backgroundColor":"#7ed669","borderColor":"#b1aa12","intervalLength":"0","intervalUnit":"secs","name":"Un/Planned","x":210,"y":120,"wires":[["b3c04cee.c90e8"]]},{"id":"b3c04cee.c90e8","type":"function","z":"a722b61b.82b25","name":"","func":"msg.payload=flow.get(\"saved\");\nmsg.payload.eventType=\"CRAP\";\nreturn msg;","outputs":1,"noerr":0,"x":410,"y":120,"wires":[["73a05ff4.449d88"]]},{"id":"61918a2d.dac7fc","type":"link in","z":"a722b61b.82b25","name":"","links":["314ab6d.34ee24a"],"x":75,"y":120,"wires":[["22ba135c.9b64d4"]]},{"id":"314ab6d.34ee24a","type":"link out","z":"a722b61b.82b25","name":"","links":["61918a2d.dac7fc"],"x":775,"y":520,"wires":[]},{"id":"19c8e373.a1fca5","type":"function","z":"a722b61b.82b25","name":"","func":"msg.menu=\n[\n        {\n        \"text\": \"Edit Supplier\",\n        \"icon\": \"fa-list\",\n        \"sub\": [\n            {\n                \"text\": \"EndeavourEnergy\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            },\n            {\n                \"text\": \"Energex\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            },\n            {\n                \"text\": \"ErgonEnergy\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            },\n            {\n                \"text\": \"EssentialEnergy\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            },\n            {\n                \"text\": \"WesternPower\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            },\n            {\n                \"text\": \"Ausgrid\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            },\n            {\n                \"text\": \"UnitedEnergy\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            },\n            {\n                \"text\": \"Evoenergy\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            },\n            {\n                \"text\": \"HorizonPower\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            },\n            {\n                \"text\": \"PowerNetworks\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            },\n            {\n                \"text\": \"TasNetworks\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            },\n            {\n                \"text\": \"AusNet\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            },\n            {\n                \"text\": \"CitiPower/Powercor\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            },\n            {\n                \"text\": \"PowerWater\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            },\n            {\n                \"text\": \"Jemena\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            }\n        ]\n    },\n    {\n        \"text\": \"Cancel\",\n        \"icon\": \"\",\n        \"enabled\": true,\n        \"payload\": \"\",\n        \"payloadType\": \"\"\n    }\n]\n\nreturn msg;","outputs":1,"noerr":0,"x":190,"y":160,"wires":[["88e807cf.60d898"]]},{"id":"88e807cf.60d898","type":"ui_context_menu","z":"a722b61b.82b25","group":"c2b01293.681dd8","order":7,"width":0,"height":-1,"fontSize":16,"position":"fixed","outputField":"action","xCoordinate":"150","yCoordinate":"150","menu":"msg","menuItems":[{"id":"PLANNED","icon":"fa-arrow-up","label":"PLANNED","topic":"","payload":"","payloadType":"str","visible":true,"enabled":true},{"id":"UNPLANNED","icon":"fa-arrow-down","label":"UNPLANNED","topic":"","payload":"","payloadType":"str","visible":true,"enabled":true},{"id":"CANCEL","icon":"","label":"CANCEL","topic":"","payload":"","payloadType":"str","visible":true,"enabled":true}],"colors":"native","textColor":"#ff8040","backgroundColor":"#7ed669","borderColor":"#b1aa12","intervalLength":"5","intervalUnit":"secs","name":"Supplier","x":350,"y":160,"wires":[["6a8878af.9f892"]]},{"id":"a1a4dd0.8cc0ea","type":"link out","z":"a722b61b.82b25","name":"","links":["69c7c938.2acdf"],"x":795,"y":540,"wires":[]},{"id":"69c7c938.2acdf","type":"link in","z":"a722b61b.82b25","name":"","links":["a1a4dd0.8cc0ea"],"x":75,"y":160,"wires":[["19c8e373.a1fca5"]]},{"id":"6a8878af.9f892","type":"function","z":"a722b61b.82b25","name":"","func":"msg.payload=flow.get(\"saved\");\nmsg.payload.eventType=\"CRAP\";\nreturn msg;","outputs":1,"noerr":0,"x":500,"y":160,"wires":[["370c8911.267626"]]},{"id":"370c8911.267626","type":"debug","z":"a722b61b.82b25","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":631,"y":160,"wires":[]},{"id":"7d0f5261.522f0c","type":"inject","z":"a722b61b.82b25","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":500,"y":760,"wires":[["b636136c.63d668"]]},{"id":"b636136c.63d668","type":"function","z":"a722b61b.82b25","name":"","func":"var myDate = new Date( msg.payload );\n msg.date= myDate.toLocaleString();\nreturn msg;","outputs":1,"noerr":0,"x":680,"y":760,"wires":[["88dfa3d5.52a558"]]},{"id":"88dfa3d5.52a558","type":"debug","z":"a722b61b.82b25","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":860,"y":760,"wires":[]},{"id":"24b573d5.25fdd4","type":"http in","z":"db196750.07f4d","name":"","url":"/mysite","method":"get","swaggerDoc":"","x":290,"y":240,"wires":[["b9add784.8950d"]]},{"id":"f44bb6d9.b99c7","type":"http in","z":"db196750.07f4d","name":"","url":"/mysitepost","method":"post","swaggerDoc":"","x":310,"y":440,"wires":[["290e6437.d7c544","68324694.64be"]]},{"id":"b9add784.8950d","type":"function","z":"db196750.07f4d","name":"msg.url = \"mysitepost\";","func":"msg.url = \"mysitepost\";\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":240,"wires":[["637d8b41.0bde64"]]},{"id":"290e6437.d7c544","type":"debug","z":"db196750.07f4d","name":"mysitepost","active":true,"console":"false","complete":"payload","x":950,"y":440,"wires":[]},{"id":"326f68d7.6a1988","type":"http response","z":"db196750.07f4d","name":"","x":970,"y":400,"wires":[]},{"id":"ee8bba76.a55778","type":"template","z":"db196750.07f4d","name":"CSS","field":"payload.style","fieldType":"msg","format":"html","syntax":"mustache","template":"input[type=text], select {\n    width: 100%;\n    padding: 12px 20px;\n    margin: 8px 0;\n    display: inline-block;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    box-sizing: border-box;\n}\n\ninput[type=submit] {\n    width: 100%;\n    background-color: #4CAF50;\n    color: white;\n    padding: 14px 20px;\n    margin: 8px 0;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n}\n\ninput[type=submit]:hover {\n    background-color: #45a049;\n}\n\ndiv {\n    border-radius: 5px;\n    background-color: #f2f2f2;\n    padding: 20px;\n}","x":690,"y":340,"wires":[["abd8da8b.615ba8"]]},{"id":"27eed956.8423f6","type":"template","z":"db196750.07f4d","name":"JavaScript","field":"payload.script","fieldType":"msg","format":"javascript","syntax":"plain","template":"$(document).ready(function(e) {\n    \n    $(\"form[ajax=true]\").submit(function(e) {\n        \n        e.preventDefault();\n        \n        var form_data = $(this).serialize();\n        var form_url = $(this).attr(\"action\");\n        var form_method = $(this).attr(\"method\").toUpperCase();\n        \n        $(\"#loadingimg\").show();\n        \n        $.ajax({\n            url: form_url, \n            type: form_method,      \n            data: form_data,     \n            cache: false,\n            success: function(returnhtml){                          \n                $(\"#result\").html(returnhtml); \n                $(\"#loadingimg\").hide();                    \n            }           \n        });    \n        \n    });\n    \n});","x":530,"y":340,"wires":[["ee8bba76.a55778"]]},{"id":"7d7a184c.7c7658","type":"http response","z":"db196750.07f4d","name":"","x":970,"y":340,"wires":[]},{"id":"abd8da8b.615ba8","type":"template","z":"db196750.07f4d","name":"HTML","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n  <head>\n    <title>My Site</title>\n    <meta name=\"viewport\" content=\"initial-scale=1.0, user-scalable=no\">\n    <meta charset=\"utf-8\">\n    <script src=\"http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js\"></script>\n    <style>{{{payload.style}}}</style>\n  </head>\n  \n\n    <h2>Using CSS to style an HTML form with AJAX POST and Node-RED</h2>\n    <h4><a href=\"http://www.internetoflego.com\">Internet of LEGO</a></h4>\n\n<div>\n  <form method=\"post\" action=\"/{{url}}\" ajax=\"true\">\n    <label for=\"fname\">First Name</label>\n    <input type=\"text\" id=\"fname\" name=\"firstname\">\n\n    <label for=\"lname\">Last Name</label>\n    <input type=\"text\" id=\"lname\" name=\"lastname\">\n\n    <label for=\"country\">Country</label>\n    <select id=\"country\" name=\"country\">\n      <option value=\"uk\">United Kingdom</option>\n      <option value=\"canada\">Canada</option>\n      <option value=\"usa\">USA</option>\n    </select>\n  \n    <input type=\"submit\" value=\"Submit\">\n  </form>\n</div>\n<div>\n    <span id=\"result\"></span>\n</div>\n\n</body>\n</html>\n<script>{{{payload.script}}}</script>","output":"str","x":830,"y":340,"wires":[["7d7a184c.7c7658","c7f538f5.cd766"]]},{"id":"36c9d29c.5ed4a6","type":"comment","z":"db196750.07f4d","name":"Login Form","info":"","x":490,"y":300,"wires":[]},{"id":"e2177332.5c1b58","type":"function","z":"db196750.07f4d","name":"return msg.payload to client","func":"msg.payload = 'The following data was submitted and available in the msg.payload: '+msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":700,"y":400,"wires":[["326f68d7.6a1988"]]},{"id":"dceef9b4.3357c8","type":"comment","z":"db196750.07f4d","name":"Inject msg object properties","info":"","x":500,"y":200,"wires":[]},{"id":"68324694.64be","type":"json","z":"db196750.07f4d","name":"","x":510,"y":400,"wires":[["e2177332.5c1b58"]]},{"id":"e0658890.8cb238","type":"comment","z":"db196750.07f4d","name":"Website","info":"","x":270,"y":160,"wires":[]},{"id":"2cca5c45.2c6cb4","type":"comment","z":"db196750.07f4d","name":"Form Submission","info":"","x":300,"y":380,"wires":[]},{"id":"8207fec2.fe9368","type":"comment","z":"db196750.07f4d","name":"Node-RED Public Site - README","info":"This Flow demonstrates how to create\na simple frontend webpage with Node-RED.\n\nThe public facing page consists of the \nclient side JavaScript, CSS and HTML. \n\nThe important technique is how the mustache \ntemplates are used. Each template will set the\n\"property\" relative to the content. \n\nThe CSS node sets the \"msg.payload.style\" property.\nThe JavaScript node sets the \"msg.payload.script\" property.\nThe HTML node then includes these properties \n<script>{{{payload.script}}}</script>\n<style>{{{payload.style}}}</style>\n\n\nThis example was created by http://www.InternetofLEGO.com\n\n","x":610,"y":120,"wires":[]},{"id":"810fbbfb.655a58","type":"function","z":"a722b61b.82b25","name":"","func":"msg.position = {\n    x:150,y:150\n}\n\nmsg.menu=\n[\n    {\n        \"text\": \"Options\",\n        \"icon\": \"fa-list\",\n        \"sub\": [\n            {\n                \"text\": \"Edit\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": [ 1, 2, 3, 4, 5 ],\n                \"payloadType\": \"JSON\",\n                \"outputField\" : \"editArray\"\n            },\n            {\n                \"text\": \"Cut\",\n                \"icon\": \"fa-cut\",\n                \"enabled\": true,\n                \"topic\": \"cut\",\n                \"payload\": \"true\",\n                \"payloadType\": \"bool\"\n            }\n        ]\n    },\n    {\n        \"text\": \"---\"\n    },\n    {\n        \"text\": \"Delete\",\n        \"icon\": \"fa-trash\",\n        \"enabled\": true,\n        \"payload\": \"12\",\n        \"payloadType\": \"num\"\n    },\n    {\n        \"text\": \"---\"\n    },\n    {\n        \"text\": \"Quit\",\n        \"icon\": \"fa-times\",\n        \"enabled\": false\n    }\n] \n\nreturn msg;","outputs":1,"noerr":0,"x":210,"y":760,"wires":[[]]},{"id":"c7f538f5.cd766","type":"ui_template","z":"db196750.07f4d","group":"c2b01293.681dd8","name":"","order":9,"width":0,"height":0,"format":"<div ng-bind-html=\"msg.payload\"></div>","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":960,"y":220,"wires":[[]]},{"id":"3eeb0523.129062","type":"template","z":"db196750.07f4d","name":"Javascript","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"$(document).ready(function(e) {\n    \n    $(\"form[ajax=true]\").submit(function(e) {\n        \n        e.preventDefault();\n        \n        var form_data = $(this).serialize();\n        var form_url = $(this).attr(\"action\");\n        var form_method = $(this).attr(\"method\").toUpperCase();\n        \n        $(\"#loadingimg\").show();\n        \n        $.ajax({\n            url: form_url, \n            type: form_method,      \n            data: form_data,     \n            cache: false,\n            success: function(returnhtml){                          \n                $(\"#result\").html(returnhtml); \n                $(\"#loadingimg\").hide();                    \n            }           \n        });    \n        \n    });\n    \n});","output":"str","x":370,"y":620,"wires":[["c7bc084f.a3e25"]]},{"id":"c7bc084f.a3e25","type":"template","z":"db196750.07f4d","name":"CSS","field":"payload","fieldType":"msg","format":"handlebars","syntax":"plain","template":"/**\n * Style-sheet for dtpicker\n * https://github.com/mugifly/jquery-simple-datetimepicker\n */\n\n.datepicker {\n\tposition: relative;\n\tdisplay: inline-block;\n\tfont: 15px/1.5 \"Helvetica Neue\", mplus-2c, Helvetica, Arial, \"Hiragino Kaku Gothic Pro\", Meiryo, sans-serif;\n\tfont-weight: 300;\n\tborder: 1px solid #dfdfdf;\n\tborder-radius: 3px;\n\t\t-webkit-border-radius: 3px;\n\t\t-moz-border-radius: 3px;\n\tbox-shadow: 0.5px 0.5px 0px #c8c8c8;\n\t\t-webkit-box-shadow: 0.5px 0.5px 3px #eeeeee;\n\t\t-moz-box-shadow: 0.5px 0.5px 3px #eeeeee;\n}\n\n/*\n * datepicker_header\n*/\n\n.datepicker > .datepicker_header {\n\tpadding-top:\t2px;\n\tpadding-bottom: 2px;\n\tpadding-left:\t5px;\n\tpadding-right: 5px;\n\tbackground-color:\t#eeeeee;\n\tcolor: #3f3f3f;\n\ttext-align: center;\n\tfont-size: 9pt;\n\tfont-weight: bold;\n\tmin-height: 30px;\n\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n}\n\n.datepicker > .datepicker_header > span {\n\tdisplay: inline-block;\n\tmargin-top: -2px;\n}\n\n.datepicker > .datepicker_header > a {\n\tcolor: #3b7796;\n\tcursor: pointer;\n\tfont-size: 20px;\n\tpadding: 3px 16px;\n\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n\tvertical-align: middle;\n}\n\n.datepicker > .datepicker_header > a:hover {\n\tcolor: #303030;\n\tbackground-color:\t#c8c8c8;\n}\n\n.datepicker > .datepicker_header > a:active {\n\tcolor: #ffffff;\n\tbackground-color:\t#808080;\n}\n\n.datepicker > .datepicker_header > span {\n\tmargin-left: 20px;\n\tmargin-right: 20px;\n\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n}\n\n.datepicker > .datepicker_header > .icon-home {\n\tposition:\tabsolute;\n\tdisplay:\t\tblock;\n\twidth:\t\t16px;\n\theight:\t\t16px;\n\tvertical-align: middle;\n\tpadding: 8px;\n\ttop: 0;\n\tleft: 0;\n}\n\n.datepicker > .datepicker_header > .icon-close {\n\tposition: absolute;\n\tdisplay: block;\n\twidth: 16px;\n\theight: 16px;\n\tvertical-align: middle;\n\tpadding: 8px;\n\ttop: 0;\n\tright: 0;\n}\n.datepicker > .datepicker_header > .icon-home > div {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAYAAAB3AH1ZAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAepJREFUSEudk71Kw2AUhnVxVnCyN1EcCjXUujmKF1AoRRCcNU4OIg5dtXF36tAb6B107qjg0iC4STt0EdTnTU8+v5rGNh54aM7Pe/J+abLmR3AZ7QeXD0+WZkI9zViaiXq9vg+5evU0Y+ksgjCqsrgPA2jBOzQs91FNPc0o70vLQtGHAbTgHRqW+6imnmaUS1PVqWL4SgijJr8juHK1H1Qb2Uxai1kivowmjODKq6Wopp5m0losA95Noh43ONXi+XpCPOsx49W9ZaIHp+CbSlFNPc24+i8DxfGX/YeZgTDqQrsgXc9AF9oFkcY9gQN7J3MjuOhs2WUS0ngGluqZmdNLs7IBTltmZsrvsZUKGaBfhik4vTSw3EBwfrdBfwhvwcX9tpVXNkBvA4bwBk4vDSw2UD27WbdLnf42mQmjIysl8ZeBWq3m9PRubWZOL43qGQOccpf8lc9tj5tWuP7g+tHaLqSR1pY7Pde78Ap7UIEPyOip5RgIOzvkzzCGF4gxtWltF9LAIgM78AxjeAF9/xk9tfy/gBuWOLVMfPIUDq08F3kGFOQlkIlPWKiXBvJfQl6+EjdvWJqJvwwoqMlErl4aabVowmmvbWEBEs2EJeLaFhZBmone8hMtAj2JIkykZYmQifRprAqa+sk3UgBXF8VWaxMAAAAASUVORK5CYII=);\n}\n.datepicker > .datepicker_header > .icon-close> div {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAYAAAB3AH1ZAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAfhJREFUSEvNVEtKA0EUHHBhsvZ7D0HF4PRMnERxI+hCQ4xuBE/g5yLRA+il/CCIXkDElRGt6qkZO91j1JUW1KJf1XvVn2Gif4XGUX986aRf0zIANXq0DBBv7Iwvb+192U+NHi2H0Tg+O2ycnN2DV+CcyiVQW5B2T6/KJUxr7dAkySN4bVbaiyqXMM1s3mr0wKtyDgytgQ/gu/gKbkumvgsOpJH0lieNN3s1O9iYd/EN657kyJikZ2uFDi97JDOgX8fAWyeg2MQO6IeT8Pbrao+Wtw/qJklvywBnE5ZuOAkve9SeA0PnQT+Ia7/2BoZXnK0uBkH5Oqxl4RNZYHAH9ANdMnxP9gA42X5FoMuhp6kEAnjlDPpVeIERm0B4+m0/N9AFq26Bta5sX0JvPvDCycFPTs+PbtQTUOvIHgAhu+DoJ4BH9mFgcAzyy3cDee3+c9ATq60ErjfDcP/kDPQ3hJtIM7XlwMAJ8FoBBe2bi/4m6J1QO34yrWlc740XxDffr/wm6EWP2u0GJsEnDS/DJVPvge7T0DspmT+aGQx+cUKGPriKTcCbzEhGwOn5GAZegM/gHdiSVAK1VBo9F+yRFJn2+hgGXtrBSXpn0mbQb5orbavl4ZfskZRDm5gGp1QKQM16nPACdhNpczZur3+ezAM1eoLwv0MUfQBkquZISGUUwgAAAABJRU5ErkJggg==);\n}\n.datepicker > .datepicker_header > a:hover > div, .datepicker > .datepicker_header > a:hover > div  {\n\tbackground-position: -16px 0px;\n}\n\n/*\n * datepicker_inner_container\n*/\n\n.datepicker > .datepicker_inner_container {\n\tmargin: -2px 0px -2px 0px;\n\tbackground-color: #d2d2d2;\n\tborder: 1px solid #c8c8c8;\n\tborder-radius: 3px;\n\t\t-webkit-border-radius: 3px;\n\t\t-moz-border-radius: 3px;\n\n\tbox-shadow: 0.5px 0px 3px #c8c8c8;\n\t\t-webkit-box-shadow: 0.5px 0px 3px #c8c8c8;\n\t\t-moz-box-shadow: 0.5px 0px 3px #c8c8c8;\n}\n\n.datepicker > .datepicker_inner_container:after {\n\tcontent: \".\";\n\tdisplay: block;\n\theight: 0;\n\tclear: both;\n\tvisibility: hidden;\n}\n\n/*\n * datepicker_inner_container > datepicker_calendar\n*/\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar {\n\tfloat: left;\n\twidth: 18.3em;\n\n\tmargin-top: -0.5px;\n\tmargin-left: -1px;\n\tmargin-bottom: -2px;\n\n\tbackground-color:\t#ffffff;\n\tborder: 1px solid #c8c8c8;\n\n\tborder-top:none;\n\tborder-top-left-radius: 3px;\n\tborder-bottom-left-radius: 3px;\n\t\t-webkit-border-top-left-radius:\t3px;\n\t\t-webkit-border-bottom-left-radius: 3px;\n\t\t-moz-border-radius-topleft:\t\t3px;\n\t\t-moz-border-radius-bottomleft:\t3px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > table {\n\tpadding: 10px;\n}\n\n/*\n * datepicker_inner_container > datepicker_calendar > datepicker_table > tbody > tr > th (WDay-cell)\n*/\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > th {\n\tcolor:\t#646464;\n\twidth: 18px;\n\tfont-size: small;\n\tfont-weight: normal;\n\ttext-align:center;\n}\n\n/*\n * datepicker_inner_container > datepicker_calendar > datepicker_table > tbody > tr > td (Day-cell)\n*/\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td {\n\tcolor:\t#000000;\n\tfont-size: small;\n\ttext-align:center;\n\n\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n\tcursor: pointer;\n\tpadding: 10px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.today {\n\tborder-bottom: #bfbfbf solid 2px;\n\tmargin-bottom: -2px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.wday_sat {\n\tcolor:\t#0044aa;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.wday_sun {\n\tcolor:\t#e13b00;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.day_another_month {\n\tcolor:\t#cccccc;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.day_in_past {\n\tcursor: default;\n\tcolor: #cccccc;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.day_in_unallowed {\n\tcursor: default;\n\tcolor: #cccccc;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.out_of_range {\n\tcursor: default;\n\tcolor: #cccccc;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.active {\n\tcolor: #ffffff;\n\tbackground-color:\t#808080;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.hover {\n\tcolor: #000000;\n\tbackground-color:\t#c8c8c8;\n}\n\n/*\n * datepicker_inner_container > datepicker_timelist\n*/\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist {\n\tfloat: left;\n\n\tmargin-top: -0.5px;\n\tpadding: 5px 0px;\n\n\toverflow: auto;\n\toverflow-x: hidden;\n\n\tbackground-color:\t#ffffff;\n\n\tborder-top-right-radius: 3px;\n\tborder-bottom-right-radius: 3px;\n\t-webkit-border-top-right-radius:\t3px;\n\t-webkit-border-bottom-right-radius: 3px;\n\t-moz-border-radius-topright:\t\t3px;\n\t-moz-border-radius-bottomright:\t3px;\n\ttext-align: right;\n\twidth: 4.9em;\n}\n\n/*\n.datepicker > .datepicker_inner_container > .datepicker_timelist::after {\n\tcontent: \".\";\n\tdisplay: block;\n\theight: 0;\n\tclear: both;\n\tvisibility: hidden;\n}\n*/\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar {\n\toverflow: hidden;\n\twidth: 6px;\n\tbackground: #fafafa;\n\n\tborder-top-right-radius: 3px;\n\tborder-bottom-right-radius: 3px;\n\t-webkit-border-top-right-radius:\t3px;\n\t-webkit-border-bottom-right-radius: 3px;\n\t-moz-border-radius-topright:\t\t3px;\n\t-moz-border-radius-bottomright:\t3px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar:horizontal {\n\theight: 1px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar-button {\n\tdisplay: none;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar-piece {\n\tbackground: #eee;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar-piece:start {\n\tbackground: #eee;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar-thumb {\n\tbackground: #aaaaaa;\n\tborder-radius: 3px;\n\t\t-webkit-border-radius: 3px;\n\t\t-moz-border-radius: 3px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar-corner {\n\tbackground: #333;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist > div.timelist_item {\n\tpadding-top:   5px;\n\tpadding-bottom:5px;\n\tpadding-left:  7px;\n\tpadding-right: 7px;\n\tmargin-top: 5px;\n\tmargin-bottom: 2px;\n\tfont-size: small;\n\n\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n\tcursor: pointer;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist > div.timelist_item.time_in_past {\n\tcursor: default;\n\tcolor: #cccccc;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist > div.timelist_item.out_of_range {\n\tcursor: default;\n\tcolor: #cccccc;\n}\n.datepicker > .datepicker_inner_container > .datepicker_timelist > div.timelist_item.active {\n\tcolor: #ffffff;\n\tbackground-color:\t#808080;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist > div.timelist_item.hover {\n\tcolor: #000000;\n\tbackground-color:\t#c8c8c8;\n}","output":"str","x":530,"y":620,"wires":[["637d8b41.0bde64"]]},{"id":"637d8b41.0bde64","type":"template","z":"db196750.07f4d","name":"HTML","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!DOCTYPE html>\n\n<html>\n<head>\n\n<style>\n.datepicker {\n\tposition: relative;\n\tdisplay: inline-block;\n\tfont: 15px/1.5 \"Helvetica Neue\", mplus-2c, Helvetica, Arial, \"Hiragino Kaku Gothic Pro\", Meiryo, sans-serif;\n\tfont-weight: 300;\n\tborder: 1px solid #dfdfdf;\n\tborder-radius: 3px;\n\t\t-webkit-border-radius: 3px;\n\t\t-moz-border-radius: 3px;\n\tbox-shadow: 0.5px 0.5px 0px #c8c8c8;\n\t\t-webkit-box-shadow: 0.5px 0.5px 3px #eeeeee;\n\t\t-moz-box-shadow: 0.5px 0.5px 3px #eeeeee;\n}\n\n/*\n * datepicker_header\n*/\n\n.datepicker > .datepicker_header {\n\tpadding-top:\t2px;\n\tpadding-bottom: 2px;\n\tpadding-left:\t5px;\n\tpadding-right: 5px;\n\tbackground-color:\t#eeeeee;\n\tcolor: #3f3f3f;\n\ttext-align: center;\n\tfont-size: 9pt;\n\tfont-weight: bold;\n\tmin-height: 30px;\n\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n}\n\n.datepicker > .datepicker_header > span {\n\tdisplay: inline-block;\n\tmargin-top: -2px;\n}\n\n.datepicker > .datepicker_header > a {\n\tcolor: #3b7796;\n\tcursor: pointer;\n\tfont-size: 20px;\n\tpadding: 3px 16px;\n\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n\tvertical-align: middle;\n}\n\n.datepicker > .datepicker_header > a:hover {\n\tcolor: #303030;\n\tbackground-color:\t#c8c8c8;\n}\n\n.datepicker > .datepicker_header > a:active {\n\tcolor: #ffffff;\n\tbackground-color:\t#808080;\n}\n\n.datepicker > .datepicker_header > span {\n\tmargin-left: 20px;\n\tmargin-right: 20px;\n\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n}\n\n.datepicker > .datepicker_header > .icon-home {\n\tposition:\tabsolute;\n\tdisplay:\t\tblock;\n\twidth:\t\t16px;\n\theight:\t\t16px;\n\tvertical-align: middle;\n\tpadding: 8px;\n\ttop: 0;\n\tleft: 0;\n}\n\n.datepicker > .datepicker_header > .icon-close {\n\tposition: absolute;\n\tdisplay: block;\n\twidth: 16px;\n\theight: 16px;\n\tvertical-align: middle;\n\tpadding: 8px;\n\ttop: 0;\n\tright: 0;\n}\n.datepicker > .datepicker_header > .icon-home > div {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAYAAAB3AH1ZAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAepJREFUSEudk71Kw2AUhnVxVnCyN1EcCjXUujmKF1AoRRCcNU4OIg5dtXF36tAb6B107qjg0iC4STt0EdTnTU8+v5rGNh54aM7Pe/J+abLmR3AZ7QeXD0+WZkI9zViaiXq9vg+5evU0Y+ksgjCqsrgPA2jBOzQs91FNPc0o70vLQtGHAbTgHRqW+6imnmaUS1PVqWL4SgijJr8juHK1H1Qb2Uxai1kivowmjODKq6Wopp5m0losA95Noh43ONXi+XpCPOsx49W9ZaIHp+CbSlFNPc24+i8DxfGX/YeZgTDqQrsgXc9AF9oFkcY9gQN7J3MjuOhs2WUS0ngGluqZmdNLs7IBTltmZsrvsZUKGaBfhik4vTSw3EBwfrdBfwhvwcX9tpVXNkBvA4bwBk4vDSw2UD27WbdLnf42mQmjIysl8ZeBWq3m9PRubWZOL43qGQOccpf8lc9tj5tWuP7g+tHaLqSR1pY7Pde78Ap7UIEPyOip5RgIOzvkzzCGF4gxtWltF9LAIgM78AxjeAF9/xk9tfy/gBuWOLVMfPIUDq08F3kGFOQlkIlPWKiXBvJfQl6+EjdvWJqJvwwoqMlErl4aabVowmmvbWEBEs2EJeLaFhZBmone8hMtAj2JIkykZYmQifRprAqa+sk3UgBXF8VWaxMAAAAASUVORK5CYII=);\n}\n.datepicker > .datepicker_header > .icon-close> div {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAYAAAB3AH1ZAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAfhJREFUSEvNVEtKA0EUHHBhsvZ7D0HF4PRMnERxI+hCQ4xuBE/g5yLRA+il/CCIXkDElRGt6qkZO91j1JUW1KJf1XvVn2Gif4XGUX986aRf0zIANXq0DBBv7Iwvb+192U+NHi2H0Tg+O2ycnN2DV+CcyiVQW5B2T6/KJUxr7dAkySN4bVbaiyqXMM1s3mr0wKtyDgytgQ/gu/gKbkumvgsOpJH0lieNN3s1O9iYd/EN657kyJikZ2uFDi97JDOgX8fAWyeg2MQO6IeT8Pbrao+Wtw/qJklvywBnE5ZuOAkve9SeA0PnQT+Ia7/2BoZXnK0uBkH5Oqxl4RNZYHAH9ANdMnxP9gA42X5FoMuhp6kEAnjlDPpVeIERm0B4+m0/N9AFq26Bta5sX0JvPvDCycFPTs+PbtQTUOvIHgAhu+DoJ4BH9mFgcAzyy3cDee3+c9ATq60ErjfDcP/kDPQ3hJtIM7XlwMAJ8FoBBe2bi/4m6J1QO34yrWlc740XxDffr/wm6EWP2u0GJsEnDS/DJVPvge7T0DspmT+aGQx+cUKGPriKTcCbzEhGwOn5GAZegM/gHdiSVAK1VBo9F+yRFJn2+hgGXtrBSXpn0mbQb5orbavl4ZfskZRDm5gGp1QKQM16nPACdhNpczZur3+ezAM1eoLwv0MUfQBkquZISGUUwgAAAABJRU5ErkJggg==);\n}\n.datepicker > .datepicker_header > a:hover > div, .datepicker > .datepicker_header > a:hover > div  {\n\tbackground-position: -16px 0px;\n}\n\n/*\n * datepicker_inner_container\n*/\n\n.datepicker > .datepicker_inner_container {\n\tmargin: -2px 0px -2px 0px;\n\tbackground-color: #d2d2d2;\n\tborder: 1px solid #c8c8c8;\n\tborder-radius: 3px;\n\t\t-webkit-border-radius: 3px;\n\t\t-moz-border-radius: 3px;\n\n\tbox-shadow: 0.5px 0px 3px #c8c8c8;\n\t\t-webkit-box-shadow: 0.5px 0px 3px #c8c8c8;\n\t\t-moz-box-shadow: 0.5px 0px 3px #c8c8c8;\n}\n\n.datepicker > .datepicker_inner_container:after {\n\tcontent: \".\";\n\tdisplay: block;\n\theight: 0;\n\tclear: both;\n\tvisibility: hidden;\n}\n\n/*\n * datepicker_inner_container > datepicker_calendar\n*/\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar {\n\tfloat: left;\n\twidth: 18.3em;\n\n\tmargin-top: -0.5px;\n\tmargin-left: -1px;\n\tmargin-bottom: -2px;\n\n\tbackground-color:\t#ffffff;\n\tborder: 1px solid #c8c8c8;\n\n\tborder-top:none;\n\tborder-top-left-radius: 3px;\n\tborder-bottom-left-radius: 3px;\n\t\t-webkit-border-top-left-radius:\t3px;\n\t\t-webkit-border-bottom-left-radius: 3px;\n\t\t-moz-border-radius-topleft:\t\t3px;\n\t\t-moz-border-radius-bottomleft:\t3px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > table {\n\tpadding: 10px;\n}\n\n/*\n * datepicker_inner_container > datepicker_calendar > datepicker_table > tbody > tr > th (WDay-cell)\n*/\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > th {\n\tcolor:\t#646464;\n\twidth: 18px;\n\tfont-size: small;\n\tfont-weight: normal;\n\ttext-align:center;\n}\n\n/*\n * datepicker_inner_container > datepicker_calendar > datepicker_table > tbody > tr > td (Day-cell)\n*/\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td {\n\tcolor:\t#000000;\n\tfont-size: small;\n\ttext-align:center;\n\n\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n\tcursor: pointer;\n\tpadding: 10px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.today {\n\tborder-bottom: #bfbfbf solid 2px;\n\tmargin-bottom: -2px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.wday_sat {\n\tcolor:\t#0044aa;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.wday_sun {\n\tcolor:\t#e13b00;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.day_another_month {\n\tcolor:\t#cccccc;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.day_in_past {\n\tcursor: default;\n\tcolor: #cccccc;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.day_in_unallowed {\n\tcursor: default;\n\tcolor: #cccccc;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.out_of_range {\n\tcursor: default;\n\tcolor: #cccccc;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.active {\n\tcolor: #ffffff;\n\tbackground-color:\t#808080;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.hover {\n\tcolor: #000000;\n\tbackground-color:\t#c8c8c8;\n}\n\n/*\n * datepicker_inner_container > datepicker_timelist\n*/\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist {\n\tfloat: left;\n\n\tmargin-top: -0.5px;\n\tpadding: 5px 0px;\n\n\toverflow: auto;\n\toverflow-x: hidden;\n\n\tbackground-color:\t#ffffff;\n\n\tborder-top-right-radius: 3px;\n\tborder-bottom-right-radius: 3px;\n\t-webkit-border-top-right-radius:\t3px;\n\t-webkit-border-bottom-right-radius: 3px;\n\t-moz-border-radius-topright:\t\t3px;\n\t-moz-border-radius-bottomright:\t3px;\n\ttext-align: right;\n\twidth: 4.9em;\n}\n\n/*\n.datepicker > .datepicker_inner_container > .datepicker_timelist::after {\n\tcontent: \".\";\n\tdisplay: block;\n\theight: 0;\n\tclear: both;\n\tvisibility: hidden;\n}\n*/\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar {\n\toverflow: hidden;\n\twidth: 6px;\n\tbackground: #fafafa;\n\n\tborder-top-right-radius: 3px;\n\tborder-bottom-right-radius: 3px;\n\t-webkit-border-top-right-radius:\t3px;\n\t-webkit-border-bottom-right-radius: 3px;\n\t-moz-border-radius-topright:\t\t3px;\n\t-moz-border-radius-bottomright:\t3px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar:horizontal {\n\theight: 1px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar-button {\n\tdisplay: none;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar-piece {\n\tbackground: #eee;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar-piece:start {\n\tbackground: #eee;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar-thumb {\n\tbackground: #aaaaaa;\n\tborder-radius: 3px;\n\t\t-webkit-border-radius: 3px;\n\t\t-moz-border-radius: 3px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar-corner {\n\tbackground: #333;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist > div.timelist_item {\n\tpadding-top:   5px;\n\tpadding-bottom:5px;\n\tpadding-left:  7px;\n\tpadding-right: 7px;\n\tmargin-top: 5px;\n\tmargin-bottom: 2px;\n\tfont-size: small;\n\n\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n\tcursor: pointer;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist > div.timelist_item.time_in_past {\n\tcursor: default;\n\tcolor: #cccccc;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist > div.timelist_item.out_of_range {\n\tcursor: default;\n\tcolor: #cccccc;\n}\n.datepicker > .datepicker_inner_container > .datepicker_timelist > div.timelist_item.active {\n\tcolor: #ffffff;\n\tbackground-color:\t#808080;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist > div.timelist_item.hover {\n\tcolor: #000000;\n\tbackground-color:\t#c8c8c8;\n}   \n    </style>\n\t<meta charset=\"UTF-8\">\n\t<title>Demo - jquery-simple-datetimepicker</title>\n\n\t<!--Requirement jQuery-->\n\t<script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js\"></script>\n\t<!--Load Script and Stylesheet -->\n\t<script type=\"text/javascript\" src=\"jquery.simple-dtpicker.js\"></script>\n<!--\t<link type=\"text/css\" href=\"jquery.simple-dtpicker.css\" rel=\"stylesheet\" />\n\t<!---->\n\n\t<style type=\"text/css\">\n\t\tbody { background-color: #fefefe; padding-left: 2%; padding-bottom: 100px; color: #101010; }\n\t\tfooter{ font-size:small;position:fixed;right:5px;bottom:5px; }\n\t\ta:link, a:visited  { color: #0000ee; }\n\t\tpre{ background-color: #eeeeee; margin-left: 1%; margin-right: 2%; padding: 2% 2% 2% 5%; }\n\t\tp { font-size: 0.9rem; }\n\t\tul { font-size: 0.9rem; }\n\t\thr { border: 2px solid #eeeeee; margin: 2% 0% 2% -3%; }\n\t\th3 { border-bottom: 2px solid #eeeeee; margin: 2rem 0 2rem -1%; padding-left: 1%; padding-bottom: 0.1em; }\n\t\th4 { border-bottom: 1px solid #eeeeee; margin-top: 2rem; margin-left: -1%; padding-left: 1%; padding-bottom: 0.1em; }\n\t</style>\n</head>\n<body>\n\t<header>\n\t\t<h2>Demo - jquery-simple-datetimepicker</h2>\n\t</header>\n\t<small class=\"nav\"><a href=\"#\">Top</a> | <a href=\"#section_available_options\">Avaiable options</a> | <a href=\"#section_more_methods\">More methods</a></small>\n\n\t<h3>Inline</h3>\n\t<div id=\"date_picker\"> </div>\n\t<script type=\"text/javascript\">\n\t\t$(function(){\n\t\t\t$('#date_picker').dtpicker();\n\t\t});\n\t</script>\n\n\t<h3>Append to Input-field</h3>\n\t<input type=\"text\" name=\"date\" value=\"\">\n\t<script type=\"text/javascript\">\n\t\t$(function(){\n\t\t\t$('*[name=date]').appendDtpicker();\n\t\t});\n\t</script>\n\n\t<h3>Append to Input-field (Inline)</h3>\n\t<input type=\"text\" name=\"date2\" value=\"2012/01/01 10:00\">\n\t<script type=\"text/javascript\">\n\t\t$(function(){\n\t\t\t$('*[name=date2]').appendDtpicker({\"inline\": true});\n\t\t});\n\t</script>\n\t<small>In addition, this default date has specified by the input's value (\"2012-01-01 10:00\").</small>\n\n\t<hr />\n\n\t<h3 id=\"section_available_options\">Avaiable options</h3>\n\n\t\t<h4>Current date (\"current\": \"2012-3-4 12:30\")</h4>\n\t\t<input type=\"text\" name=\"date3\" value=\"\">\n\t\t<script type=\"text/javascript\">\n\t\t\t$(function(){\n\t\t\t\t$('*[name=date3]').appendDtpicker({\n\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\"current\": \"2012-3-4 12:30\"\n\t\t\t\t});\n\t\t\t});\n\t\t</script>\n\n\t\t<h4>dateFormat (\"dateFormat\": \"DD.MM.YY H:mmTT\")</h4>\n\t\t<input type=\"text\" name=\"date4\" value=\"\">\n\t\t<script type=\"text/javascript\">\n\t\t\t$(function(){\n\t\t\t\t$('*[name=date4]').appendDtpicker({\n\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\"dateFormat\": \"DD.MM.YY H:mmTT\"\n\t\t\t\t});\n\t\t\t});\n\t\t</script>\n\t\t<h5>Format options:</h5>\n\t\t<ul>\n\t\t\t<li>YYYY: Year, 4 digit</li>\n\t\t\t<li>YY: Year, 2 digit</li>\n\t\t\t<li>MM: Month, 01-12</li>\n\t\t\t<li>M: Month, 1-12</li>\n\t\t\t<li>DD: Day, 01-31</li>\n\t\t\t<li>D: Day, 1-31</li>\n\t\t\t<li>HH: Hour using 12-hour clock 01-12</li>\n\t\t\t<li>H: Hour using 12-hour clock 1-12</li>\n\t\t\t<li>hh: Hour using 24-hour clock 00-23</li>\n\t\t\t<li>h: Hour using 24-hour clock 0-23</li>\n\t\t\t<li>mm: Minute, 00-59</li>\n\t\t\t<li>m: Minute, 0-59</li>\n\t\t\t<li>tt: am/pm</li>\n\t\t\t<li>TT: AM/PM</li>\n\t\t</ul>\n\n\t\t<h4>locale (\"locale\": \"ja\")</h4>\n\t\t<input type=\"text\" name=\"date5\" value=\"\">\n\t\t<script type=\"text/javascript\">\n\t\t\t$(function(){\n\t\t\t\t$('*[name=date5]').appendDtpicker({\n\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\"locale\": \"ja\"\n\t\t\t\t});\n\t\t\t});\n\t\t</script>\n\t\t<h5>Available locales:</h5>\n\t\t<ul style=\"font-size: 0.8em;\">\n\t\t\t<li>\"en\" : English (default)</li>\n\t\t\t<li>\"et\" : Estonian - Thanks to: <a href=\"https://github.com/mpuusaar\">mpuusaar</a></li>\n\t\t\t<li>\"br\" : Brazil - Thanks to: <a href=\"http://www.mauricioprof.com/site/principal.php\">Mauricio</a></li>\n\t\t\t<li>\"cn\" : Chinese - Thanks to: <a href=\"https://github.com/jasonslyvia\">jasonslyvia</a></li>\n\t\t\t<li>\"cz\" : Czech - Thanks to: <a href=\"http://rotten77.cz/\">Jan Zatloukal</a></li>\n\t\t\t<li>\"da\" : Danish - Thanks to: <a href=\"https://github.com/danielnielsen\">danielnielsen</a>, <a href=\"https://github.com/Web-Engine\">Web-Engine</a>, <a href=\"https://github.com/jmnote\">jmnote</a></li>\n\t\t\t<li>\"de\" : German - Thanks to: <a href=\"https://github.com/rtakeda\">rtakeda</a></li>\n\t\t\t<li>\"es\" : Spanish - Thanks to: <a href=\"https://github.com/maw\">maw</a>, <a href=\"https://github.com/vagyriag\">vagyriag</a></li>\n\t\t\t<li>\"fr\" : French - Thanks to: <a href=\"https://github.com/matll42\">matll42</a></li>\n\t\t\t<li>\"gr\" : Greek - Thanks to: <a href=\"https://github.com/sincetomorrow\">sincetomorrow</a></li>\n\t\t\t<li>\"hu\" : Hungarian - Thanks to: <a href=\"https://github.com/greenformatics-peter\">greenformatics-peter</a></li>\n\t\t\t<li>\"id\" : Bahasa Indonesia - Thanks to: <a href=\"https://github.com/robzlabz\">robzlabz</a></li>\n\t\t\t<li>\"it\" : Italian - Thanks to: Mauro Zuccato</li>\n\t\t\t<li>\"ja\" : Japanese</li>\n\t\t\t<li>\"ko\" : Korean - Thanks to: <a href=\"https://github.com/perhapsspy\">perhapsspy</a></li>\n\t\t\t<li>\"nl\" : Dutch (Naderlands) - Thanks to: <a href=\"https://github.com/Mondane\">Mondane</a></li>\n\t\t\t<li>\"no\" : Norwegian - Thanks to: <a href=\"https://github.com/HelgeSverre\">HelgeSverre</a></li>\n\t\t\t<li>\"pt\" : Portuguese - Thanks to: <a href=\"https://github.com/adc-tcarvalho\">adc-tcarvalho</a></li>\n\t\t\t<li>\"pl\" : Polish - Thanks to: <a href=\"https://github.com/viszman\">viszman</a></li>\n\t\t\t<li>\"ro\" : Romanian - Thanks to: <a href=\"https://github.com/IngerAlHaosului\">IngerAlHaosului</a></li>\n\t\t\t<li>\"ru\" : Russian - Thanks to: <a href=\"https://github.com/rdolgushin\">rdolgushin</a></li>\n\t\t\t<li>\"sv\" : Swedish - Thanks to: <a href=\"https://github.com/MacDknife\">MacDknife</a></li>\n\t\t\t<li>\"tr\" : Turkish - Thanks to: <a href=\"https://github.com/myfell\">myfell</a></li>\n\t\t\t<li>\"ua\" : Ukrainian - Thanks to: goti2</li>\n\t\t</ul>\n\n\t\t<h4>externalLocale</h4>\n\t\t<input type=\"text\" name=\"externalLocale\" value=\"\">\n\t\t<script type=\"text/javascript\">\n\t\t\t$(function(){\n\t\t\t\t$('*[name=externalLocale]').appendDtpicker({\n\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\"locale\": \"foo\",\n\t\t\t\t\t\"externalLocale\": {\n\t\t\t\t\t\tfoo: {\n\t\t\t\t\t\t\tdays: ['foo', 'bar', 'foo', 'bar', 'foo', 'bar', 'foo'],\n\t\t\t\t\t\t\tmonths: ['Foo', 'Bar', 'Foo', 'Bar', 'Foo', 'Bar', 'Foo', 'Bar', 'Foo', 'Bar', 'Foo', 'Bar'],\n\t\t\t\t\t\t\tsep: '.',\n\t\t\t\t\t\t\tformat: 'YYYY.MM.DD hh:mm',\n\t\t\t\t\t\t\tprevMonth: 'Foo',\n\t\t\t\t\t\t\tnextMonth: 'Bar',\n\t\t\t\t\t\t\ttoday: 'Foobar'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t</script>\n\t\t<h5>externalLocale format:</h5>\n\t\t<pre>foo: {\n\tdays: ['foo', 'bar', 'foo', 'bar', 'foo', 'bar', 'foo'],\n\tmonths: ['Foo', 'Bar', 'Foo', 'Bar', 'Foo', 'Bar', 'Foo', 'Bar', 'Foo', 'Bar', 'Foo', 'Bar'],\n\tsep: '.',\n\tformat: 'YYYY.MM.DD hh:mm',\n\tprevMonth: 'Foo',\n\tnextMonth: 'Bar',\n\ttoday: 'Foobar'\n}</pre>\n\n\t\t<h4>Change the interval of minute (\"minuteInterval\": 15)</h4>\n\t\t<input type=\"text\" name=\"date6\" value=\"\">\n\t\t<script type=\"text/javascript\">\n\t\t\t$(function(){\n\t\t\t\t$('*[name=date6]').appendDtpicker({\n\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\"minuteInterval\": 15\n\t\t\t\t});\n\t\t\t});\n\t\t</script>\n\t\t<h5>Avaiable value:</h5>\n\t\t<small>min: 5, max: 30. (default: 30 minute. it means interval of each 30 minute.)</small><br />\n\n\t\t<h4>Change the first day of the week (\"firstDayOfWeek\": 1)</h4>\n\t\t<input type=\"text\" name=\"date8\" value=\"\">\n\t\t<script type=\"text/javascript\">\n\t\t\t$(function(){\n\t\t\t\t$('*[name=date8]').appendDtpicker({\n\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\"firstDayOfWeek\": 1\n\t\t\t\t});\n\t\t\t});\n\t\t</script>\n\t\t<h5>Avaiable value:</h5>\n\t\t<small>min: 0 (sunday), max: 6 (satday), default: 0 (sunday). </small><br />\n\t\t<small>Thanks to: <a href=\"https://github.com/concept1hundred\">concept1hundred</a>.</small>\n\n\t\t<h4>Close when selected date &amp; time (\"closeOnSelected\": true) with append to Input-field mode</h4>\n\t\t<p>\n\t\t\t<input type=\"text\" name=\"date9\" value=\"\">\n\t\t\t<script type=\"text/javascript\">\n\t\t\t\t$(function(){\n\t\t\t\t\t$('*[name=date9]').appendDtpicker({\n\t\t\t\t\t\t\"closeOnSelected\": true\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t</script>\n\t\t</p>\n\n\t\t<p>\n\t\t\tIt's will also useful for use with two input-fields.<br />\n\t\t\t<input type=\"text\" name=\"date10\" value=\"\">\n\t\t\t-\n\t\t\t<input type=\"text\" name=\"date11\" value=\"\">\n\t\t\t<script type=\"text/javascript\">\n\t\t\t\t$(function(){\n\t\t\t\t\t$('*[name=date10]').appendDtpicker({\n\t\t\t\t\t\t\"closeOnSelected\": true\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t$(function(){\n\t\t\t\t\t$('*[name=date11]').appendDtpicker({\n\t\t\t\t\t\t\"closeOnSelected\": true\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t</script>\n\t\t</p>\n\n\t\t<h4>Disable the automatic scroll of time-list (\"timelistScroll\": false)</h4>\n\t\t<input type=\"text\" name=\"date12\" value=\"\">\n\t\t<script type=\"text/javascript\">\n\t\t\t$(function(){\n\t\t\t\t$('*[name=date12]').appendDtpicker({\n\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\"timelistScroll\": false\n\t\t\t\t});\n\t\t\t});\n\t\t</script>\n\n\t\t<h4>Disable the fade animation (\"animation\": false)</h4>\n\t\t<input type=\"text\" name=\"date7\" value=\"\">\n\t\t<script type=\"text/javascript\">\n\t\t\t$(function(){\n\t\t\t\t$('*[name=date7]').appendDtpicker({\n\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\"animation\": false\n\t\t\t\t});\n\t\t\t});\n\t\t</script>\n\n\t\t<h4>Disable the calendar scroll with mouse wheel (\"calendarMouseScroll\": false)</h4>\n\t\t<input type=\"text\" name=\"date13\" value=\"\">\n\t\t<script type=\"text/javascript\">\n\t\t\t$(function(){\n\t\t\t\t$('*[name=date13]').appendDtpicker({\n\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\"calendarMouseScroll\": false\n\t\t\t\t});\n\t\t\t});\n\t\t</script>\n\n\t\t<h4>Disable the Today button (\"todayButton\": false)</h4>\n\t\t<input type=\"text\" name=\"date14\" value=\"\">\n\t\t<script type=\"text/javascript\">\n\t\t\t$(function(){\n\t\t\t\t$('*[name=date14]').appendDtpicker({\n\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\"todayButton\": false\n\t\t\t\t});\n\t\t\t});\n\t\t</script>\n\n\t\t<h4>Date-only mode (\"dateOnly\": true)</h4>\n\t\t<input type=\"text\" name=\"date15\" value=\"\">\n\t\t<script type=\"text/javascript\">\n\t\t\t$(function(){\n\t\t\t\t$('*[name=date15]').appendDtpicker({\n\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\"dateOnly\": true,\n\t\t\t\t\t\"dateFormat\": \"DD-MM-YYYY\"\n\t\t\t\t});\n\t\t\t});\n\t\t</script>\n\n\t\t<h4>Time-only mode (\"timeOnly\": true)</h4>\n\t\t<input type=\"text\" name=\"date-time-only\" value=\"\">\n\t\t<script type=\"text/javascript\">\n\t\t\t$(function(){\n\t\t\t\t$('*[name=date-time-only]').appendDtpicker({\n\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\"timeOnly\": true,\n\t\t\t\t});\n\t\t\t});\n\t\t</script>\n\n\t\t<h4>Only allow future datetimes (\"futureOnly\": true)</h4>\n\t\t<input type=\"text\" name=\"date16\" value=\"\">\n\t\t<script type=\"text/javascript\">\n\t\t\t$(function(){\n\t\t\t\t$('*[name=date16]').appendDtpicker({\n\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\"futureOnly\": true\n\t\t\t\t});\n\t\t\t});\n\t\t</script>\n\n\t\t<h4>Show AM/PM in time list (\"amPmInTimeList\": true)</h4>\n\t\t<input type=\"text\" name=\"date19\" value=\"\">\n\t\t<script type=\"text/javascript\">\n\t\t\t$(function(){\n\t\t\t\t$('*[name=date19]').appendDtpicker({\n\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\"amPmInTimeList\": true\n\t\t\t\t});\n\t\t\t});\n\t\t</script>\n\n\t\t<h4>Initialize with the input-field as blank (\"autodateOnStart\": false)</h4>\n\t\t<div>\n\t\t\t<input type=\"text\" name=\"date_false_autodateonstart\" value=\"\">\n\t\t\t<script type=\"text/javascript\">\n\t\t\t\t$(function(){\n\t\t\t\t\t$('*[name=date_false_autodateonstart]').appendDtpicker({\n\t\t\t\t\t\t\"autodateOnStart\": false\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t</script>\n\t\t\t<pre>\n&lt;input type=&quot;text&quot; id=&quot;date_foo&quot; value=&quot;&quot;&gt;\n\n$('#date_foo').appendDtpicker({\n\t\"autodateOnStart\": false\n});</pre>\n\t\t</div>\n\n\t\t<h4>Initialize with the no close button (\"closeButton\": false)</h4>\n\t\t<div>\n\t\t\t<input type=\"text\" name=\"date_false_closeButton\" value=\"\">\n\t\t\t<script type=\"text/javascript\">\n\t\t\t\t$(function(){\n\t\t\t\t\t$('*[name=date_false_closeButton]').appendDtpicker({\n\t\t\t\t\t\t\"closeButton\": false\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t</script>\n\t\t\t<pre>\n&lt;input type=&quot;text&quot; id=&quot;date_foo&quot; value=&quot;&quot;&gt;\n\n$('#date_foo').appendDtpicker({\n\t\"closeButton\": false\n});</pre>\n\t\t</div>\n\n\t\t<h4>Date Ranges (not compatible with 'inline:true' at this time)</h4>\n\t\t<label for='start_time'> Start Date: </label>\n\t\t\t<input type=\"text\" name=\"start_time\" id=\"start_time\" value=\"\">\n\n\t\t<label for='end_time'> End Date: </label>\n\t\t\t<input type=\"text\" name=\"end_time\" id=\"end_time\" value=\"\">\n\t\t<script type=\"text/javascript\">\n\t\t\t$(function(){\n\t\t\t \t// -- Example Only - Set the date range --\n\t\t\t\tvar d = new Date();\n\t\t\t\td.setDate(10);\n\t\t\t\t$('#start_time').val(d.getFullYear() + '-' + d.getMonth() + '-' + d.getDate() + \" 1:00 pm\");\n\t\t\t\t// Example Only - Set the end date to 7 days in the future so we have an actual\n\t\t\t\td.setDate(d.getDate() + 7);\n\t\t\t\t$('#end_time').val(d.getFullYear() + '-' + d.getMonth() + '-' + d.getDate() + \" 13:45 \");\n\t\t\t\t// -- End Example Only Code --\n\n\t\t\t\t// Attach a change event to end_time -\n\t\t\t\t// NOTE we are using '#ID' instead of '*[name=]' selectors in this example to ensure we have the correct field\n\t\t\t\t$('#end_time').change(function() {\n\t\t\t\t    $('#start_time').appendDtpicker({\n\t\t\t\t\t    maxDate: $('#end_time').val() // when the end time changes, update the maxDate on the start field\n\t\t\t\t    });\n\t\t\t\t});\n\n\t\t\t\t$('#start_time').change(function() {\n\t\t\t\t    $('#end_time').appendDtpicker({\n\t\t\t\t\t    minDate: $('#start_time').val() // when the start time changes, update the minDate on the end field\n\t\t\t\t    });\n\t\t\t\t});\n\n\t\t\t\t// trigger change event so datapickers get attached\n\t\t\t\t$('#end_time').trigger('change');\n\t\t\t\t$('#start_time').trigger('change');\n\t\t\t});\n\t\t</script>\n\n\t\t<h4>Date Ranges with setMinDate/setMaxDate Functions</h4>\n\t\t<h5>Not lower then start date example</h5>\n\t\t<label for='startdt'> Start Date: </label>\n\t\t\t<input type=\"text\" class=\"dtpicker\" name=\"startdt\" id=\"startdt\" value=\"\">\n\n\t\t<label for='enddt'> End Date: </label>\n\t\t\t<input type=\"text\" class=\"dtpicker\" name=\"enddt\" id=\"enddt\" value=\"\">\n\t\t<script type=\"text/javascript\">\n\t\t\t$(function(){\n\t\t\t \t// -- append by class just for lower strings count --\n\t\t\t\t$('.dtpicker').appendDtpicker({\"minuteInterval\": 15, \"calendarMouseScroll\": false, \"futureOnly\": true, \"autodateOnStart\": false});\n\n\t\t\t\t$('#startdt').change(function() {\n\t\t\t\t     $('#enddt').handleDtpicker('setMinDate', $('#startdt').val()); //set end datetime not lower then start datetime\n\t\t\t\t});\n\t\t\t});\n\t\t</script>\n\n\t\t<h5>Both end limited range example</h5>\n\t\t<label for='startdt2'> Start Date: </label>\n\t\t\t<input type=\"text\" class=\"dtpicker2\" name=\"startdt2\" id=\"startdt2\" value=\"\">\n\n\t\t<label for='enddt2'> End Date: </label>\n\t\t\t<input type=\"text\" class=\"dtpicker2\" name=\"enddt2\" id=\"enddt2\" value=\"\">\n\t\t<script type=\"text/javascript\">\n\t\t\t$(function(){\n\t\t\t \t// -- append by class just for lower strings count --\n\t\t\t\t$('.dtpicker2').appendDtpicker({\"futureOnly\": false, \"autodateOnStart\": false});\n\n\t\t\t\t$('#startdt2').change(function() {\n\t\t\t\t     var de = new Date($('#startdt2').handleDtpicker('getDate')); // constructor need to avoid linking object\n\t\t\t\t\t de.setDate(de.getDate() + 7);\n\t\t\t\t\t $('#enddt2').handleDtpicker('setMinDate', de); //set min end date is 7 day later then start date\n\t\t\t\t});\n\t\t\t\t$('#enddt2').change(function() {\n\t\t\t\t     var ds = new Date($('#enddt2').handleDtpicker('getDate'));\n\t\t\t\t\t ds.setDate(ds.getDate() - 7);\n\t\t\t\t\t $('#startdt2').handleDtpicker('setMaxDate', ds); //set max end date is 7 day earlier then end date\n\t\t\t\t});\n\t\t\t});\n\t\t</script>\n\n\t\t<h4>Set min and max times (\"minTime\":\"hh:mm\" and \"maxTime\":\"hh:mm\")</h4>\n\t\t<h5>e.g. 08:30 - 19:15, and future-only</h5>\n\t\t<div>\n\t\t\t<input type=\"text\" name=\"date17\" value=\"\">\n\t\t\t<script type=\"text/javascript\">\n\t\t\t\t$(function(){\n\t\t\t\t\t$('*[name=date17]').appendDtpicker({\n\t\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\t\"futureOnly\": true,\n\t\t\t\t\t\t\"minTime\":\"08:30\",\n\t\t\t\t\t\t\"maxTime\":\"19:15\"\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t</script>\n\t\t</div>\n\n\t\t<h4>Only allow the specified days of the week (\"allowWdays\")</h4>\n\t\t<h5>e.g., Weekdays only</h5>\n\t\t<div>\n\t\t\t<input type=\"text\" name=\"date_allowddays\" value=\"\">\n\t\t\t<script type=\"text/javascript\">\n\t\t\t\t$(function(){\n\t\t\t\t\t$('*[name=date_allowddays]').appendDtpicker({\n\t\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\t\"allowWdays\": [1, 2, 3, 4, 5]\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t</script>\n\t\t\t<pre>\n&lt;input type=&quot;text&quot; id=&quot;date_foo&quot; value=&quot;&quot;&gt;\n\n$('#date_foo').appendDtpicker({\n\t\"inline\": true,\n\t\"allowWdays\": [1, 2, 3, 4, 5] // 0: Sun, 1: Mon, 2: Tue, 3: Wed, 4: Thr, 5: Fri, 6: Sat\n});</pre>\n\t\t</div>\n\n\t\t<h4>Set the user event-handler (on* methods)</h4>\n\t\t<div>\n\t\t\t<ul>\n\t\t\t\t<li>\"onInit\" - Called when a picker has been initialized.</li>\n\t\t\t\t<li>\"onShow\" - Called when a picker has shown.</li>\n\t\t\t\t<li>\"onHide\" - Called when a picker has hidden.</li>\n\t\t\t\t<li>\"onSelect\" - Called when a picker date is clicked on and selected.</li>\n\t\t\t</ul>\n\t\t\t<p>\n\t\t\t\tIn normally, a picker has been shown/hidden by automatically when necessary.<br/>\n\t\t\t\tBut you can also catch it, And handle a picker by yourself with using methods of \"<a href=\"#event-handler_methods\">handler</a>\" object.\n\t\t\t</p>\n\n\t\t\t<h5><a name=\"event-handler_methods\">Available methods in <u>handler</u> object</a></h5>\n\t\t\t<div>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>\"destroy()\" - Destroy a picker.</li>\n\t\t\t\t\t<li>\"getInput()\" - Get a input-field object (jQuery element).</li>\n\t\t\t\t\t<li>\"getPicker()\" - Get a picker object (jQuery element).</li>\n\t\t\t\t\t<li>\"getDate()\" - Get a selected date from a picker.</li>\n\t\t\t\t\t<li>\"setDate(date)\" - Set a specific date to a picker.</li>\n\t\t\t\t\t<li>\"hide()\" - Hide a picker.</li>\n\t\t\t\t\t<li>\"show()\" - Show a picker.</li>\n\t\t\t\t\t<li>\"isShow()\" - Get the display state of a picker.</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t\t<h5>e.g. Show a dialog, when picker has been shown or hidden.</h5>\n\t\t\t<div>\n\t\t\t\t<input type=\"text\" name=\"date18\" value=\"\">\n\t\t\t\t<script type=\"text/javascript\">\n\t\t\t\t\t$(function(){\n\t\t\t\t\t\t$('*[name=date18]').appendDtpicker({\n\t\t\t\t\t\t\t\"onShow\": function(handler){\n\t\t\t\t\t\t\t\twindow.alert('Picker is shown!');\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"onHide\": function(handler){\n\t\t\t\t\t\t\t\twindow.alert('Picker is hidden!');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t</script>\n\t\t\t\t<pre>\n&lt;input type=&quot;text&quot; id=&quot;date_foo&quot; value=&quot;&quot;&gt;\n\n$('#date_foo').appendDtpicker({\n\t\"onShow\": function(handler){\n\t\twindow.alert('Picker is shown!');\n\t},\n\t\"onHide\": function(handler){\n\t\twindow.alert('Picker is hidden!');\n\t}\n});</pre>\n\t\t\t</div>\n\n\t\t\t<h5>e.g. Show a dialog with the selected date, when picker Date has been clicked on to select a day.  Useful for saving selected Date with a server AJAX POST as well as updating areas of the DOM when the date selected changes.</h5>\n\t\t\t<div>\n\t\t\t\t<input type=\"text\" name=\"date20\" value=\"\">\n\t\t\t\t<script type=\"text/javascript\">\n\t\t\t\t\t$(function(){\n\t\t\t\t\t\t$('*[name=date20]').appendDtpicker({\n\t\t\t\t\t\t\t\"dateOnly\": true,\n\t\t\t\t\t\t\t\"onSelect\": function(handler, targetDate){\n\t\t\t\t\t\t\t\twindow.alert(handler.getDate());\n\t\t\t\t\t\t\t\tconsole.log(targetDate);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t</script>\n\t\t\t\t<pre>\n&lt;input type=&quot;text&quot; id=&quot;date_foo&quot; value=&quot;&quot;&gt;\n\n// handler parameter is used for all the handler functions.\n// targetDate parameter has the current selected date value\n$('#date_foo').appendDtpicker({\n\t\"dateOnly\": true,\n\t\"onSelect\": function(handler, targetDate){\n\t\twindow.alert(handler.getDate());\n\t\tconsole.log(targetDate);\n\t}\n});</pre>\n\t\t\t</div>\n\n\t\t\t<h5>e.g. Just-in-time generate.</h5>\n\t\t\t<div>\n\t\t\t\t<input type=\"text\" id=\"date_jit\" value=\"\">\n\t\t\t\t<input type=\"button\" id=\"btn_generate\" value=\"Generate a picker\">\n\t\t\t\t<script type=\"text/javascript\">\n\t\t\t\t\t$(function(){\n\t\t\t\t\t\t$('#btn_generate').click(function(){\n\t\t\t\t\t\t\twindow.alert(\"Generate\");\n\t\t\t\t\t\t\t$('#date_jit').appendDtpicker({\n\t\t\t\t\t\t\t\t\"onInit\": function(handler){\n\t\t\t\t\t\t\t\t\thandler.show();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\"onHide\": function(handler){\n\t\t\t\t\t\t\t\t\twindow.alert(\"Picker is hidden, Then destroy a picker\");\n\t\t\t\t\t\t\t\t\thandler.destroy();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t</script>\n\t\t\t\t<pre>&lt;input type=&quot;text&quot; id=&quot;date_jit&quot; value=&quot;&quot;&gt;\n&lt;input type=&quot;button&quot; id=&quot;btn_generate&quot; value=&quot;Generate a picker&quot;&gt;\n\n$('#btn_generate').click(function(){\n\twindow.alert(\"Generate\");\n\t$('#date_jit').appendDtpicker({\n\t\t\"onInit\": function(handler){\n\t\t\thandler.show();\n\t\t},\n\t\t\"onHide\": function(handler){\n\t\t\twindow.alert(\"Picker is hidden, Then destroy a picker\");\n\t\t\thandler.destroy();\n\t\t}\n\t});\n});</pre>\n\t\t\t</div>\n\t\t</div>\n\n\t<hr />\n\n\t<h3 id=\"section_more_methods\">More methods</h3></a>\n\n\t\t<h4>Manual handling of the appended picker</h4>\n\t\t<div>\n\t\t\t<p>\n\t\t\t\tYou can handle the appended picker with using \"handleDtpicker\" method into the input-field.<br/>\n\t\t\t\tTo handle a picker using handleDtpicker method, call the handleDtpicker method with setting the your hope method-name (e.g. \"show\" and <a href=\"#manual-handling_method-names\">more</a>) as a parameter.\n\t\t\t</p>\n\n\t\t\t<h5><a name=\"manual-handling_method-names\">Available method-names as parameter of <u>handleDtpicker</u> method</a></h5>\n\t\t\t<div>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>\"destroy - Destroy a picker.</li>\n\t\t\t\t\t<li>\"hide\" - Hide a picker.</li>\n\t\t\t\t\t<li>\"show\" - Show a picker.</li>\n\t\t\t\t\t<li>\"getDate\" -  Get a selected date from a picker.</li>\n\t\t\t\t\t<li>\"setDate\" - Set a specific date to a picker.</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t\t<h5>e.g. Generate a picker as inline and handle by manual.</h5>\n\t\t\t<div>\n\t\t\t\t<input type=\"text\" id=\"date_manual\" value=\"\">\n\t\t\t\t<input type=\"button\" id=\"btn_manual_generate\" value=\"Generate\">\n\t\t\t\t<input type=\"button\" id=\"btn_manual_show\" value=\"Show\">\n\t\t\t\t<input type=\"button\" id=\"btn_manual_hide\" value=\"Hide\">\n\t\t\t\t<input type=\"button\" id=\"btn_manual_get_date\" value=\"getDate\">\n\t\t\t\t<input type=\"button\" id=\"btn_manual_set_date\" value=\"setDate\">\n\t\t\t\t<input type=\"button\" id=\"btn_manual_destroy\" value=\"Destroy\">\n\t\t\t\t<script type=\"text/javascript\">\n\t\t\t\t\t$(function(){\n\t\t\t\t\t\t$('#btn_manual_generate').click(function(){\n\t\t\t\t\t\t\t$('#date_manual').appendDtpicker({\n\t\t\t\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\t\t\t\"closeButton\": true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$('#btn_manual_show').click(function(){\n\t\t\t\t\t\t\t$('#date_manual').handleDtpicker('show');\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$('#btn_manual_hide').click(function(){\n\t\t\t\t\t\t\t$('#date_manual').handleDtpicker('hide');\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$('#btn_manual_get_date').click(function(){\n\t\t\t\t\t\t\tvar date = $('#date_manual').handleDtpicker('getDate');\n\t\t\t\t\t\t\twindow.alert(date.toString());\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$('#btn_manual_set_date').click(function(){\n\t\t\t\t\t\t\t$('#date_manual').handleDtpicker('setDate', new Date(2014, 04, 25, 0, 0, 0));\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$('#btn_manual_destroy').click(function(){\n\t\t\t\t\t\t\t$('#date_manual').handleDtpicker('destroy');\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t</script>\n\t\t\t\t<pre>&lt;input type=&quot;text&quot; id=&quot;date_manual&quot; value=&quot;&quot;&gt;\n&lt;input type=&quot;button&quot; id=&quot;btn_manual_generate&quot; value=&quot;Generate&quot;&gt;\n&lt;input type=&quot;button&quot; id=&quot;btn_manual_show&quot; value=&quot;Show&quot;&gt;\n&lt;input type=&quot;button&quot; id=&quot;btn_manual_hide&quot; value=&quot;Hide&quot;&gt;\n&lt;input type=&quot;button&quot; id=&quot;btn_manual_destroy&quot; value=&quot;Destroy&quot;&gt;\n\n&lt;script type=&quot;text/javascript&quot;&gt;\n\t$(function(){\n\t\t$(&#039;#btn_manual_generate&#039;).click(function(){\n\t\t\t$(&#039;#date_manual&#039;).appendDtpicker({\n\t\t\t\t&quot;inline&quot;: true,\n\t\t\t\t&quot;closeButton&quot;: true\n\t\t\t});\n\t\t});\n\t\t$(&#039;#btn_manual_show&#039;).click(function(){\n\t\t\t$(&#039;#date_manual&#039;).handleDtpicker(&#039;show&#039;);\n\t\t});\n\t\t$(&#039;#btn_manual_hide&#039;).click(function(){\n\t\t\t$(&#039;#date_manual&#039;).handleDtpicker(&#039;hide&#039;);\n\t\t});\n\t\t$(&#039;#btn_manual_get_date&#039;).click(function(){\n\t\t\tvar date = $(&#039;#date_manual&#039;).handleDtpicker(&#039;getDate&#039;);\n\t\t\twindow.alert(date.toString());\n\t\t});\n\t\t$(&#039;#btn_manual_set_date&#039;).click(function(){\n\t\t\t$(&#039;#date_manual&#039;).handleDtpicker(&#039;setDate&#039;, new Date(2014, 04, 25, 0, 0, 0));\n\t\t});\n\t\t$(&#039;#btn_manual_destroy&#039;).click(function(){\n\t\t\t$(&#039;#date_manual&#039;).handleDtpicker(&#039;destroy&#039;);\n\t\t});\n\t});\n&lt;/script&gt;</pre>\n\t\t\t</div>\n\t\t</div>\n\n\t<footer>\n\t\t<a href=\"https://github.com/mugifly/jquery-simple-datetimepicker\">jquery.simple-dtpicker.js (jquery-simple-datetimepicker)</a><br>\n\t\t - Your feedback is highly appreciated :)\n\t</footer>\n</body>\n</html>","output":"str","x":710,"y":620,"wires":[["dffcdb38.c0f6e8"]]},{"id":"dffcdb38.c0f6e8","type":"http response","z":"db196750.07f4d","name":"","x":890,"y":600,"wires":[]},{"id":"fdd0d52a.1ba65","type":"ui_template","z":"ad1ffbd1.a4d228","group":"","name":"Batt_NEW","order":0,"width":0,"height":0,"format":"<!DOCTYPE html>\n<html>\n<head>\n\n<style>\n\n/*Initial Code By Mickael Novotny*/\n\n:root {\n --batt_lev: {{msg.payload}}%;\n --batt_col: {{msg.color}}\n \n}\n\nbody {\n padding: 25px 50px;\n}\n\n.battery {\n/* Battery outerwall*/\n border: 5px solid #333;\n width: 278px;\n height: 108px;\n padding: 4px;\n border-radius: 2px;\n position: relative;\n margin: 15px 0;\n} \n\n\n.battery::before {\n/* Battery Pole */\n content: \"\";\n height: 90px;\n width: 16px;\n background: #333;\n display: block;\n position: absolute;\n top: 7.5px;\n right: -16px;\n border-radius: 0 4px 4px 0;\n}\n\n.battery::after {\n/* Battery inner margins*/\n content: \"\";\n display: block;\n position: absolute;\n top: -3px;\n left: -3px;\n right: -3px;\n bottom: -3px;\n border: 6px solid #fff;\n border-radius: 2px;\n}\n\n-->\n\n.battery-level {\n/* battery level*/\n background: var(--batt_col, blue); \n position: absolute;\n top: 0px;\n bottom: 0px;\n width: var(--batt_lev, 50%);\n left: 0%;\n}\n\n.battery-text{\n z-index:99;\n position: absolute;\n font-size:32px;\n top: 20px;\n left:120px;\n color:'';\n}\n\n.warn {\n background-color: #efaf13;\n}\n \n.alert {\n background-color: #e81309;\n} \n\n.alert::after {\n background-image: url('data:image/svg+xml;charset=US-ASCII,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%2232%22%20height%3D%2232%22%20viewBox%3D%220%200%2032%2032%22%3E%3Cg%3E%3C%2Fg%3E%20%3Cpath%20fill%3D%22%23e81309%22%20d%3D%22M17.927%2012l2.68-10.28c0.040-0.126%200.060-0.261%200.060-0.4%200-0.726-0.587-1.32-1.314-1.32-0.413%200-0.78%200.187-1.019%200.487l-13.38%2017.353c-0.18%200.227-0.287%200.513-0.287%200.827%200%200.733%200.6%201.333%201.333%201.333h8.073l-2.68%2010.28c-0.041%200.127-0.060%200.261-0.060%200.4%200.001%200.727%200.587%201.32%201.314%201.32%200.413%200%200.78-0.186%201.020-0.487l13.379-17.353c0.181-0.227%200.287-0.513%200.287-0.827%200-0.733-0.6-1.333-1.333-1.333h-8.073z%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E'); \n background-repeat: no-repeat;\n background-size: 18px;\n height: 18px;\n width: 18px;\n margin: 6px 0 0 8px;\n content: \"\";\n display: inline-block;\n position: absolute;\n}\n\n</style>\n</head>\n\n<body>\n\n<div class=\"battery\">\n <div class=\"battery-level\"></div>\n <div class=\"battery-text\"><p><span id=\"myMsg\"></span>%</p></div>\n</div>\n\n<!--\n<div class=\"battery\">\n <div class=\"battery-level warn\" style=\"width:18%;\"></div>\n</div>\n\n<div class=\"battery\">\n <div class=\"battery-level alert\" style=\"width:10%;\"></div>\n</div>\n\n-->\n\n\n<script>\n(function(scope) {\n scope.$watch('msg', function(msg) {\n // new message received\n document.getElementById(\"myMsg\").innerHTML = msg.payload;\n \n });\n})(scope);\n\n</script>\n\n</body>\n\n</html>","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":630,"y":160,"wires":[[]]},{"id":"35bb4f3b.772d3","type":"inject","z":"ad1ffbd1.a4d228","name":"Trigger","topic":"","payload":"","payloadType":"date","repeat":"0.9","crontab":"","once":true,"onceDelay":0.1,"x":120,"y":160,"wires":[["4f3350f8.241d28"]]},{"id":"4f3350f8.241d28","type":"change","z":"ad1ffbd1.a4d228","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload%100","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":280,"y":160,"wires":[["fb139791.ec9fe8"]]},{"id":"fb139791.ec9fe8","type":"function","z":"ad1ffbd1.a4d228","name":"Set color","func":"let pay = msg.payload;\nlet col = \"lime\";\n\nswitch (true) {\n    case (pay >70):\n        col = \"lime\";\n        break;\n    case (pay >50):\n        col = \"orange\";\n        break; \n    case (pay >0):\n        col = \"red\";\n        break;\n}\n\nmsg.color = col;\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":160,"wires":[["fdd0d52a.1ba65"]]},{"id":"6e1c8745.0e5ec8","type":"debug","z":"5b613819.3d3138","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":590,"y":240,"wires":[]},{"id":"696e5ddc.1c0d74","type":"file in","z":"5b613819.3d3138","name":"","filename":"/http/datepicker2/jquery.simple-dtpicker.css","format":"utf8","chunk":false,"sendError":false,"encoding":"none","x":390,"y":100,"wires":[["8e00d169.f5eb5"]]},{"id":"8e00d169.f5eb5","type":"function","z":"5b613819.3d3138","name":"","func":"msg.css = msg.payload;\nvar data = {\n    css: msg.css,\n    js : msg.javascript\n}\n//msg.payload = data;\nreturn msg;","outputs":1,"noerr":0,"x":650,"y":100,"wires":[["2dc12b24.753d6c"]]},{"id":"2dc12b24.753d6c","type":"file in","z":"5b613819.3d3138","name":"","filename":"/http/datepicker2/jquery.simple-dtpicker.js","format":"utf8","chunk":false,"sendError":false,"encoding":"none","x":380,"y":160,"wires":[["c37cb1dc.de4fc8"]]},{"id":"c37cb1dc.de4fc8","type":"function","z":"5b613819.3d3138","name":"","func":"msg.js = msg.payload;\n\nreturn msg;","outputs":1,"noerr":0,"x":650,"y":160,"wires":[["39fb4b32.cdd214"]]},{"id":"662c737c.a55364","type":"ui_template","z":"5b613819.3d3138","group":"","name":"","order":8,"width":"0","height":"0","format":"","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":460,"y":340,"wires":[["6e1c8745.0e5ec8"]]},{"id":"8c5413ee.73d758","type":"function","z":"5b613819.3d3138","name":"","func":"msg.template=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":470,"y":420,"wires":[["662c737c.a55364","dc6980e.7b0b98"]]},{"id":"2c84713e.74099e","type":"file","z":"5b613819.3d3138","name":"","filename":"/http/onefile.log","appendNewline":false,"createDir":false,"overwriteFile":"true","encoding":"none","x":770,"y":480,"wires":[[]]},{"id":"c86484e9.8598d8","type":"file in","z":"5b613819.3d3138","name":"","filename":"/http/datepicker2/jquery.min.js","format":"utf8","chunk":false,"sendError":false,"encoding":"none","x":350,"y":60,"wires":[["35084e79.7dfeda"]]},{"id":"35084e79.7dfeda","type":"function","z":"5b613819.3d3138","name":"","func":"msg.jquery = msg.payload;\n\nreturn msg;","outputs":1,"noerr":0,"x":650,"y":60,"wires":[["696e5ddc.1c0d74"]]},{"id":"f322a773.5c0458","type":"ui_template","z":"e6ad03ef.ddf898","group":"","name":"","order":0,"width":0,"height":0,"format":"<!DOCTYPE html>\n<html>\n<script type=\"text/javascript\">\nvar theScope = scope;\ntheScope.send({payload:'Starting Up'});\nvar bleh = null;\n\n// Watch the payload and update\n(function(scope) {\n scope.$watch('msg.payload', function(data) {\n update(data+'qwerty');\n });\n})(scope);\n\nfunction update(dta) {\n theScope.send({payload:dta});\n bleh = dta.name;\n otherStuff();\n}\n\nfunction otherStuff() {\n theScope.send({payload:bleh});\n}\n\n</script>\n</html>","storeOutMessages":false,"fwdInMessages":false,"templateScope":"local","x":480,"y":340,"wires":[["a89e181c.c3577"]]},{"id":"f176c717.242618","type":"inject","z":"e6ad03ef.ddf898","name":"","topic":"","payload":"{\"name\":\"jmacle\"}","payloadType":"json","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":420,"y":250,"wires":[["f322a773.5c0458","dca582f0.37766"]]},{"id":"a89e181c.c3577","type":"debug","z":"e6ad03ef.ddf898","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":580,"y":420,"wires":[]},{"id":"dca582f0.37766","type":"debug","z":"e6ad03ef.ddf898","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":590,"y":160,"wires":[]},{"id":"e1a3bc71.61604","type":"inject","z":"5b613819.3d3138","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":200,"y":300,"wires":[["5a828b98.c012ec"]]},{"id":"39fb4b32.cdd214","type":"function","z":"5b613819.3d3138","name":"","func":"msg.ref='23232323';\nmsg.date=1574292965034;\nmsg.minInterval=15;\nmsg.payload=\"wombat\";\nreturn msg;","outputs":1,"noerr":0,"x":620,"y":340,"wires":[["74b4f7c5.ab9d4","7e2cca99.84a974"]]},{"id":"5a828b98.c012ec","type":"function","z":"5b613819.3d3138","name":"","func":"msg.date=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":210,"y":220,"wires":[["c86484e9.8598d8"]]},{"id":"e9a2a878.a0cf18","type":"function","z":"9741dff8.5b7248","name":"","func":"var timestamp = 1574215860;\nvar d = new Date(timestamp * 1000);\n\nmsg.payload=\n{\n  yyyy: d.getFullYear().toString(),\n  mon: (\"00\" + (d.getMonth() + 1)).slice(-2),\n  day: (\"00\" + d.getDate()).slice(-2),\n  hour:(\"00\" + d.getHours()).slice(-2),\n  min: (\"00\" + d.getMinutes()).slice(-2),\n  sec: (\"00\" + d.getSeconds()).slice(-2)\n}\nmsg.year = d;\nreturn msg;","outputs":1,"noerr":0,"x":470,"y":360,"wires":[["bffdf10.a99489"]]},{"id":"9b38e816.d938f","type":"inject","z":"9741dff8.5b7248","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":240,"y":340,"wires":[["e9a2a878.a0cf18"]]},{"id":"bffdf10.a99489","type":"debug","z":"9741dff8.5b7248","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":680,"y":380,"wires":[]},{"id":"7e2cca99.84a974","type":"debug","z":"5b613819.3d3138","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":790,"y":280,"wires":[]},{"id":"3f0bb1c1.8548be","type":"function","z":"9741dff8.5b7248","name":"Round Time Function","func":"\nfunction roundTime(timeIn, minuteBoundary) {\n  var timeOffset = Math.round(timeIn/minuteBoundary);\n  return (timeOffset*minuteBoundary)%60;\n}\nmsg.payload=roundTime(54,10);\nreturn msg;","outputs":1,"noerr":0,"x":500,"y":460,"wires":[["40ef087f.9d62f8"]]},{"id":"9fafb796.fceb98","type":"inject","z":"9741dff8.5b7248","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":220,"y":440,"wires":[["3f0bb1c1.8548be"]]},{"id":"40ef087f.9d62f8","type":"debug","z":"9741dff8.5b7248","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":710,"y":460,"wires":[]},{"id":"74b4f7c5.ab9d4","type":"template","z":"5b613819.3d3138","name":"","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!DOCTYPE html>\n<html>\n<head>\n  <style  type=\"text/css\"> {{{css}}} </style>\n  <script type=\"application/javascript\"> {{{jquery}}} </script>\n  <script type=\"application/javascript\"> {{{js}}} </script>\n</head>\n\n<body>\n\t<div id=\"date_manual\"> </div>\n\t<script type=\"application/javascript\">\n\t    var myScope=scope;\n\t    var dateIn = {{{date}}};\n\t    var minInterval = {{{minInterval}}};\n\t    var payload = \"{{{payload}}}\";\n\t    \n\t    function myDate (dateIn) {\n            var d = new Date(dateIn);\t        \n            var dateOut= {\n                yyyy: d.getFullYear(),\n                mon: Number((\"00\" + (d.getMonth() + 1)).slice(-2)),\n                day: Number((\"00\" + d.getDate()).slice(-2)),\n                hour:Number((\"00\" + d.getHours()).slice(-2)),\n                min: Number((\"00\" + d.getMinutes()).slice(-2)),\n                sec: Number((\"00\" + d.getSeconds()).slice(-2))\n                };\n            return dateOut;    \n\t    }\n\t    \n\t    function roundTime(timeIn, minuteBoundary) {\n            var timeOffset = Math.round(timeIn/minuteBoundary);\n            return (timeOffset*minuteBoundary)%60;\n        }\n\t\t$(function(){\n\t\t         var d = myDate(dateIn);\n\t\t         \n\t\t\t\t$('#date_manual').appendDtpicker({\n\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\"closeButton\": true,\n\t\t\t\t\t\"minuteInterval\": 1,\n\t\t\t\t\t\"todayButton\": true,\n\t\t\t\t\t//\"autodateOnStart\": false,\n\t\t\t\t\t\"onSelect\": function(handler, targetDate){\n\t                    myScope.send({reference:{{{ref}}},\n\t                    dateIn: dateIn,\n\t                    dateInObj: myDate(dateIn),\n\t                    dateOut: handler.getDate().valueOf(),\n\t                    dateOutObj: myDate(handler.getDate().valueOf()),\n\t                    payload:payload});\n//                        $('#date_manual').handleDtpicker('destroy');\n        \t            },  \n\t\t\t\t});\n\t\t\t\t$('#date_manual').handleDtpicker('setDate',new Date(d.yyyy, d.mon, d.day, d.hour, roundTime(d.min,15), 0));\n    \t});\n\t</script>\n</body>\n</html>\n\n","output":"str","x":540,"y":500,"wires":[["8c5413ee.73d758","2c84713e.74099e"]]},{"id":"dc6980e.7b0b98","type":"debug","z":"5b613819.3d3138","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":770,"y":400,"wires":[]},{"id":"581f7728.5ef2c8","type":"ui_ui_control","z":"5b613819.3d3138","name":"","x":660,"y":540,"wires":[["f95524b9.8e5be"]]},{"id":"4d1e7ba7.a62c3c","type":"inject","z":"5b613819.3d3138","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":470,"y":540,"wires":[["581f7728.5ef2c8"]]},{"id":"f95524b9.8e5be","type":"debug","z":"5b613819.3d3138","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":830,"y":540,"wires":[]},{"id":"fc659da5.045c7","type":"comment","z":"5b613819.3d3138","name":"","info":"<!DOCTYPE html>\n<html>\n<head>\n  <style  type=\"text/css\"> {{{css}}} </style>\n  <script type=\"application/javascript\"> {{{jquery}}} </script>\n  <script type=\"application/javascript\"> {{{js}}} </script>\n</head>\n\n<body>\n\t<div id=\"date_manual\"> </div>\n\t<script type=\"application/javascript\">\n\t    var myScope=scope;\n\t    var dateIn = {{{date}}};\n\t    var minInterval = {{{minInterval}}};\n\t    var payload = \"{{{payload}}}\";\n\t    \n\t    function myDate (dateIn) {\n            var d = new Date(dateIn);\t        \n            var dateOut= {\n                yyyy: d.getFullYear(),\n                mon: Number((\"00\" + (d.getMonth() + 1)).slice(-2)),\n                day: Number((\"00\" + d.getDate()).slice(-2)),\n                hour:Number((\"00\" + d.getHours()).slice(-2)),\n                min: Number((\"00\" + d.getMinutes()).slice(-2)),\n                sec: Number((\"00\" + d.getSeconds()).slice(-2))\n                };\n            return dateOut;    \n\t    }\n\t    \n\t    function roundTime(timeIn, minuteBoundary) {\n            var timeOffset = Math.round(timeIn/minuteBoundary);\n            return (timeOffset*minuteBoundary)%60;\n        }\n\t\t$(function(){\n\t\t         var d = myDate(dateIn);\n\t\t         \n\t\t\t\t$('#date_manual').appendDtpicker({\n\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\"closeButton\": true,\n\t\t\t\t\t\"minuteInterval\": 1,\n\t\t\t\t\t\"todayButton\": true,\n\t\t\t\t\t//\"autodateOnStart\": false,\n\t\t\t\t\t\"onSelect\": function(handler, targetDate){\n\t                    myScope.send({reference:{{{ref}}},\n\t                    dateIn: dateIn,\n\t                    dateInObj: myDate(dateIn),\n\t                    dateOut: handler.getDate().valueOf(),\n\t                    dateOutObj: myDate(handler.getDate().valueOf()),\n\t                    payload:payload});\n//                        $('#date_manual').handleDtpicker('destroy');\n        \t            },  \n\t\t\t\t});\n\t\t\t\t$('#date_manual').handleDtpicker('setDate',new Date(d.yyyy, d.mon, d.day, d.hour, roundTime(d.min,15), 0));\n    \t});\n\t</script>\n</body>\n</html>\n\n","x":160,"y":440,"wires":[]},{"id":"36b0da40.1895b6","type":"ui_template","z":"129957c7.544ac8","group":"c2b01293.681dd8","name":"DateTime Picker","order":2,"width":"7","height":"6","format":"","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":830,"y":160,"wires":[["736a8a7b.8423e4"]]},{"id":"4abbd1c4.b7fea8","type":"function","z":"129957c7.544ac8","name":"","func":"msg.template=msg.payload;\nmsg.payload='';\nreturn msg;","outputs":1,"noerr":0,"x":650,"y":160,"wires":[["36b0da40.1895b6","3182d088.adabc8"]]},{"id":"58f88123.30c92","type":"inject","z":"129957c7.544ac8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":200,"y":100,"wires":[["ade28bae.dae468"]]},{"id":"ade28bae.dae468","type":"function","z":"129957c7.544ac8","name":"","func":"msg.ref='23232323';\nmsg.date=1574292965034;\nmsg.minInterval=15;\nmsg.data=\"wombat\";\n\nreturn msg;","outputs":1,"noerr":0,"x":270,"y":200,"wires":[["c86e926b.8aea18"]]},{"id":"40485945.ed82","type":"template","z":"129957c7.544ac8","name":"DateTime Template","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!DOCTYPE html>\n<html>\n<head>\n\n<style  type=\"text/css\"> \n  .datepicker {\n\tposition: relative;\n\tdisplay: inline-block;\n\tfont: 15px/1.5 \"Helvetica Neue\", mplus-2c, Helvetica, Arial, \"Hiragino Kaku Gothic Pro\", Meiryo, sans-serif;\n\tfont-weight: 300;\n\tborder: 1px solid #dfdfdf;\n\tborder-radius: 3px;\n\t\t-webkit-border-radius: 3px;\n\t\t-moz-border-radius: 3px;\n\tbox-shadow: 0.5px 0.5px 0px #c8c8c8;\n\t\t-webkit-box-shadow: 0.5px 0.5px 3px #eeeeee;\n\t\t-moz-box-shadow: 0.5px 0.5px 3px #eeeeee;\n}\n\n.datepicker > .datepicker_header {\n\tpadding-top:\t2px;\n\tpadding-bottom: 2px;\n\tpadding-left:\t5px;\n\tpadding-right: 5px;\n\tbackground-color:\t#eeeeee;\n\tcolor: #3f3f3f;\n\ttext-align: center;\n\tfont-size: 9pt;\n\tfont-weight: bold;\n\tmin-height: 30px;\n\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n}\n\n.datepicker > .datepicker_header > span {\n\tdisplay: inline-block;\n\tmargin-top: -2px;\n}\n\n.datepicker > .datepicker_header > a {\n\tcolor: #3b7796;\n\tcursor: pointer;\n\tfont-size: 20px;\n\tpadding: 3px 16px;\n\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n\tvertical-align: middle;\n}\n\n.datepicker > .datepicker_header > a:hover {\n\tcolor: #303030;\n\tbackground-color:\t#c8c8c8;\n}\n\n.datepicker > .datepicker_header > a:active {\n\tcolor: #ffffff;\n\tbackground-color:\t#808080;\n}\n\n.datepicker > .datepicker_header > span {\n\tmargin-left: 20px;\n\tmargin-right: 20px;\n\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n}\n\n.datepicker > .datepicker_header > .icon-home {\n\tposition:\tabsolute;\n\tdisplay:\tblock;\n\twidth:\t\t16px;\n\theight:\t\t16px;\n\tvertical-align: middle;\n\tpadding: 8px;\n\ttop: 0;\n\tleft: 0;\n}\n\n.datepicker > .datepicker_header > .icon-close {\n\tposition: absolute;\n\tdisplay: block;\n\twidth: 16px;\n\theight: 16px;\n\tvertical-align: middle;\n\tpadding: 8px;\n\ttop: 0;\n\tright: 0;\n}\n.datepicker > .datepicker_header > .icon-home > div {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAYAAAB3AH1ZAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAepJREFUSEudk71Kw2AUhnVxVnCyN1EcCjXUujmKF1AoRRCcNU4OIg5dtXF36tAb6B107qjg0iC4STt0EdTnTU8+v5rGNh54aM7Pe/J+abLmR3AZ7QeXD0+WZkI9zViaiXq9vg+5evU0Y+ksgjCqsrgPA2jBOzQs91FNPc0o70vLQtGHAbTgHRqW+6imnmaUS1PVqWL4SgijJr8juHK1H1Qb2Uxai1kivowmjODKq6Wopp5m0losA95Noh43ONXi+XpCPOsx49W9ZaIHp+CbSlFNPc24+i8DxfGX/YeZgTDqQrsgXc9AF9oFkcY9gQN7J3MjuOhs2WUS0ngGluqZmdNLs7IBTltmZsrvsZUKGaBfhik4vTSw3EBwfrdBfwhvwcX9tpVXNkBvA4bwBk4vDSw2UD27WbdLnf42mQmjIysl8ZeBWq3m9PRubWZOL43qGQOccpf8lc9tj5tWuP7g+tHaLqSR1pY7Pde78Ap7UIEPyOip5RgIOzvkzzCGF4gxtWltF9LAIgM78AxjeAF9/xk9tfy/gBuWOLVMfPIUDq08F3kGFOQlkIlPWKiXBvJfQl6+EjdvWJqJvwwoqMlErl4aabVowmmvbWEBEs2EJeLaFhZBmone8hMtAj2JIkykZYmQifRprAqa+sk3UgBXF8VWaxMAAAAASUVORK5CYII=);\n}\n.datepicker > .datepicker_header > .icon-close> div {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAYAAAB3AH1ZAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAfhJREFUSEvNVEtKA0EUHHBhsvZ7D0HF4PRMnERxI+hCQ4xuBE/g5yLRA+il/CCIXkDElRGt6qkZO91j1JUW1KJf1XvVn2Gif4XGUX986aRf0zIANXq0DBBv7Iwvb+192U+NHi2H0Tg+O2ycnN2DV+CcyiVQW5B2T6/KJUxr7dAkySN4bVbaiyqXMM1s3mr0wKtyDgytgQ/gu/gKbkumvgsOpJH0lieNN3s1O9iYd/EN657kyJikZ2uFDi97JDOgX8fAWyeg2MQO6IeT8Pbrao+Wtw/qJklvywBnE5ZuOAkve9SeA0PnQT+Ia7/2BoZXnK0uBkH5Oqxl4RNZYHAH9ANdMnxP9gA42X5FoMuhp6kEAnjlDPpVeIERm0B4+m0/N9AFq26Bta5sX0JvPvDCycFPTs+PbtQTUOvIHgAhu+DoJ4BH9mFgcAzyy3cDee3+c9ATq60ErjfDcP/kDPQ3hJtIM7XlwMAJ8FoBBe2bi/4m6J1QO34yrWlc740XxDffr/wm6EWP2u0GJsEnDS/DJVPvge7T0DspmT+aGQx+cUKGPriKTcCbzEhGwOn5GAZegM/gHdiSVAK1VBo9F+yRFJn2+hgGXtrBSXpn0mbQb5orbavl4ZfskZRDm5gGp1QKQM16nPACdhNpczZur3+ezAM1eoLwv0MUfQBkquZISGUUwgAAAABJRU5ErkJggg==);\n}\n.datepicker > .datepicker_header > a:hover > div, .datepicker > .datepicker_header > a:hover > div  {\n\tbackground-position: -16px 0px;\n}\n\n\n.datepicker > .datepicker_inner_container {\n\tmargin: -2px 0px -2px 0px;\n\tbackground-color: #d2d2d2;\n\tborder: 1px solid #c8c8c8;\n\tborder-radius: 3px;\n\t\t-webkit-border-radius: 3px;\n\t\t-moz-border-radius: 3px;\n\n\tbox-shadow: 0.5px 0px 3px #c8c8c8;\n\t\t-webkit-box-shadow: 0.5px 0px 3px #c8c8c8;\n\t\t-moz-box-shadow: 0.5px 0px 3px #c8c8c8;\n}\n\n.datepicker > .datepicker_inner_container:after {\n\tcontent: \".\";\n\tdisplay: block;\n\theight: 0;\n\tclear: both;\n\tvisibility: hidden;\n}\n\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar {\n\tfloat: left;\n\twidth: 18.3em;\n\n\tmargin-top: -0.5px;\n\tmargin-left: -1px;\n\tmargin-bottom: -2px;\n\n\tbackground-color:\t#ffffff;\n\tborder: 1px solid #c8c8c8;\n\n\tborder-top:none;\n\tborder-top-left-radius: 3px;\n\tborder-bottom-left-radius: 3px;\n\t\t-webkit-border-top-left-radius:\t3px;\n\t\t-webkit-border-bottom-left-radius: 3px;\n\t\t-moz-border-radius-topleft:\t\t3px;\n\t\t-moz-border-radius-bottomleft:\t3px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > table {\n\tpadding: 10px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > th {\n\tcolor:\t#646464;\n\twidth: 18px;\n\tfont-size: small;\n\tfont-weight: normal;\n\ttext-align:center;\n}\n\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td {\n\tcolor:\t#000000;\n\tfont-size: small;\n\ttext-align:center;\n\n\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n\tcursor: pointer;\n\tpadding: 10px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.today {\n\tborder-bottom: #bfbfbf solid 2px;\n\tmargin-bottom: -2px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.wday_sat {\n\tcolor:\t#0044aa;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.wday_sun {\n\tcolor:\t#e13b00;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.day_another_month {\n\tcolor:\t#cccccc;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.day_in_past {\n\tcursor: default;\n\tcolor: #cccccc;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.day_in_unallowed {\n\tcursor: default;\n\tcolor: #cccccc;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.out_of_range {\n\tcursor: default;\n\tcolor: #cccccc;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.active {\n\tcolor: #ffffff;\n\tbackground-color:\t#808080;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.hover {\n\tcolor: #000000;\n\tbackground-color:\t#c8c8c8;\n}\n\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist {\n\tfloat: left;\n\n\tmargin-top: -0.5px;\n\tpadding: 5px 0px;\n\n\toverflow: auto;\n\toverflow-x: hidden;\n\n\tbackground-color:\t#ffffff;\n\n\tborder-top-right-radius: 3px;\n\tborder-bottom-right-radius: 3px;\n\t-webkit-border-top-right-radius:\t3px;\n\t-webkit-border-bottom-right-radius: 3px;\n\t-moz-border-radius-topright:\t\t3px;\n\t-moz-border-radius-bottomright:\t3px;\n\ttext-align: right;\n\twidth: 4.9em;\n}\n\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar {\n\toverflow: hidden;\n\twidth: 6px;\n\tbackground: #fafafa;\n\n\tborder-top-right-radius: 3px;\n\tborder-bottom-right-radius: 3px;\n\t-webkit-border-top-right-radius:\t3px;\n\t-webkit-border-bottom-right-radius: 3px;\n\t-moz-border-radius-topright:\t\t3px;\n\t-moz-border-radius-bottomright:\t3px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar:horizontal {\n\theight: 1px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar-button {\n\tdisplay: none;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar-piece {\n\tbackground: #eee;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar-piece:start {\n\tbackground: #eee;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar-thumb {\n\tbackground: #aaaaaa;\n\tborder-radius: 3px;\n\t\t-webkit-border-radius: 3px;\n\t\t-moz-border-radius: 3px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar-corner {\n\tbackground: #333;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist > div.timelist_item {\n\tpadding-top:   5px;\n\tpadding-bottom:5px;\n\tpadding-left:  7px;\n\tpadding-right: 7px;\n\tmargin-top: 5px;\n\tmargin-bottom: 2px;\n\tfont-size: small;\n\n\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n\tcursor: pointer;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist > div.timelist_item.time_in_past {\n\tcursor: default;\n\tcolor: #cccccc;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist > div.timelist_item.out_of_range {\n\tcursor: default;\n\tcolor: #cccccc;\n}\n.datepicker > .datepicker_inner_container > .datepicker_timelist > div.timelist_item.active {\n\tcolor: #ffffff;\n\tbackground-color:\t#808080;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist > div.timelist_item.hover {\n\tcolor: #000000;\n\tbackground-color:\t#c8c8c8;\n}\n</style>\n \n<script type=\"application/javascript\"> {{{payload}}}</script>\n\n<script type=\"application/javascript\">\n    (function($) {\n    //DateTime Library\n\tvar lang = {\n\t\ten: {\n\t\t\tdays: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\",\n\t\t\t\t\"Sep\", \"Oct\", \"Nov\", \"Dec\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'Previous month',\n\t\t\tnextMonth: 'Next month',\n\t\t\ttoday: 'Today'\n\t\t},\n\t\tro: {\n\t\t\tdays: ['Dum', 'Lun', 'Mar', 'Mie', 'Joi', 'Vin', 'Sâm'],\n\t\t\tmonths: ['Ian', 'Feb', 'Mar', 'Apr', 'Mai', 'Iun', 'Iul', 'Aug',\n\t\t\t\t'Sep', 'Oct', 'Nov', 'Dec'\n\t\t\t],\n\t\t\tsep: '.',\n\t\t\tformat: 'DD.MM.YYYY hh:mm',\n\t\t\tprevMonth: 'Luna precedentă',\n\t\t\tnextMonth: 'Luna următoare',\n\t\t\ttoday: 'Azi'\n\t\t},\n\n\t\tja: {\n\t\t\tdays: ['日', '月', '火', '水', '木', '金', '土'],\n\t\t\tmonths: [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\",\n\t\t\t\t\"11\", \"12\"\n\t\t\t],\n\t\t\tsep: '/',\n\t\t\tformat: 'YYYY/MM/DD hh:mm'\n\t\t},\n\t\tru: {\n\t\t\tdays: ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],\n\t\t\tmonths: [\"Янв\", \"Фев\", \"Мар\", \"Апр\", \"Май\", \"Июн\", \"Июл\", \"Авг\",\n\t\t\t\t\"Сен\", \"Окт\", \"Ноя\", \"Дек\"\n\t\t\t],\n\t\t\tformat: 'DD.MM.YYYY hh:mm'\n\t\t},\n\t\tbr: {\n\t\t\tdays: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb'],\n\t\t\tmonths: [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\",\n\t\t\t\t\"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\",\n\t\t\t\t\"Dezembro\"\n\t\t\t],\n\t\t\tformat: 'DD/MM/YYYY hh:mm'\n\t\t},\n\t\tpt: {\n\t\t\tdays: ['dom', 'seg', 'ter', 'qua', 'qui', 'sex', 'sáb'],\n\t\t\tmonths: [\"janeiro\", \"fevereiro\", \"março\", \"abril\", \"maio\", \"junho\",\n\t\t\t\t\"julho\", \"agosto\", \"setembro\", \"outubro\", \"novembro\",\n\t\t\t\t\"dezembro\"\n\t\t\t]\n\t\t},\n\t\tcn: {\n\t\t\tdays: ['日', '一', '二', '三', '四', '五', '六'],\n\t\t\tmonths: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\",\n\t\t\t\t\"十一月\", \"十二月\"\n\t\t\t]\n\t\t},\n\t\tda: {\n\t\t\tdays: ['Sø', 'Ma', 'Ti', 'On', 'To', 'Fr', 'Lø'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Juni\", \"Juli\", \"Aug\",\n\t\t\t\t\"Sept\", \"Okt\", \"Nov\", \"Dec\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'DD-MM-YYYY hh:mm',\n\t\t\tprevMonth: 'Forrige måned',\n\t\t\tnextMonth: 'Næste måned',\n\t\t\ttoday: 'I dag'\n\t\t},\n\t\tde: {\n\t\t\tdays: ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"März\", \"Apr\", \"Mai\", \"Juni\", \"Juli\", \"Aug\",\n\t\t\t\t\"Sept\", \"Okt\", \"Nov\", \"Dez\"\n\t\t\t],\n\t\t\tformat: 'DD.MM.YYYY hh:mm'\n\t\t},\n\t\tsv: {\n\t\t\tdays: ['Sö', 'Må', 'Ti', 'On', 'To', 'Fr', 'Lö'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Juni\", \"Juli\", \"Aug\",\n\t\t\t\t\"Sept\", \"Okt\", \"Nov\", \"Dec\"\n\t\t\t]\n\t\t},\n\t\tid: {\n\t\t\tdays: ['Min', 'Sen', 'Sel', 'Rab', 'Kam', 'Jum', 'Sab'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mei\", \"Jun\", \"Jul\", \"Agu\",\n\t\t\t\t\"Sep\", \"Okt\", \"Nov\", \"Des\"\n\t\t\t]\n\t\t},\n\t\tit: {\n\t\t\tdays: ['Dom', 'Lun', 'Mar', 'Mer', 'Gio', 'Ven', 'Sab'],\n\t\t\tmonths: [\"Gen\", \"Feb\", \"Mar\", \"Apr\", \"Mag\", \"Giu\", \"Lug\", \"Ago\",\n\t\t\t\t\"Set\", \"Ott\", \"Nov\", \"Dic\"\n\t\t\t],\n\t\t\tformat: 'DD/MM/YYYY hh:mm'\n\t\t},\n\t\ttr: {\n\t\t\tdays: ['Pz', 'Pzt', 'Sal', 'Çar', 'Per', 'Cu', 'Cts'],\n\t\t\tmonths: [\"Ock\", \"Şub\", \"Mar\", \"Nis\", \"May\", \"Haz\", \"Tem\", \"Agu\",\n\t\t\t\t\"Eyl\", \"Ekm\", \"Kas\", \"Arlk\"\n\t\t\t]\n\t\t},\n\t\tes: {\n\t\t\tdays: ['dom', 'lun', 'mar', 'miér', 'jue', 'vie', 'sáb'],\n\t\t\tmonths: [\"ene\", \"feb\", \"mar\", \"abr\", \"may\", \"jun\", \"jul\", \"ago\",\n\t\t\t\t\"sep\", \"oct\", \"nov\", \"dic\"\n\t\t\t],\n\t\t\tformat: 'DD/MM/YYYY hh:mm'\n\t\t},\n\t\tko: {\n\t\t\tdays: ['일', '월', '화', '수', '목', '금', '토'],\n\t\t\tmonths: [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\",\n\t\t\t\t\"11\", \"12\"\n\t\t\t],\n\t\t\tsep: '/',\n\t\t\tprevMonth: '이전 달',\n\t\t\tnextMonth: '다음 달',\n\t\t\ttoday: '오늘'\n\t\t},\n\t\tnl: {\n\t\t\tdays: ['zo', 'ma', 'di', 'wo', 'do', 'vr', 'za'],\n\t\t\tmonths: [\"jan\", \"feb\", \"mrt\", \"apr\", \"mei\", \"jun\", \"jul\", \"aug\",\n\t\t\t\t\"sep\", \"okt\", \"nov\", \"dec\"\n\t\t\t],\n\t\t\tformat: 'DD-MM-YYYY hh:mm'\n\t\t},\n\t\tno: {\n\t\t\tdays: ['Søn', 'Man', 'Tir', 'Ons', 'Tor', 'Fre', 'Lør'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mi\", \"Jun\", \"Jul\", \"Aug\", \"Sep\",\n\t\t\t\t\"Okt\", \"Nov\", \"Des\"\n\t\t\t],\n\t\t\tsep: '.',\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'Forrige Måned',\n\t\t\tnextMonth: 'Neste Måned',\n\t\t\ttoday: 'I dag'\n\t\t},\n\t\tcz: {\n\t\t\tdays: ['Ne', 'Po', 'Út', 'St', 'Čt', 'Pá', 'So'],\n\t\t\tmonths: [\"Led\", \"Úno\", \"Bře\", \"Dub\", \"Kvě\", \"Čer\", \"Čvc\", \"Srp\",\n\t\t\t\t\"Zář\", \"Říj\", \"Lis\", \"Pro\"\n\t\t\t],\n\t\t\tformat: 'DD.MM.YYYY hh:mm'\n\t\t},\n\t\tfr: {\n\t\t\tdays: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],\n\t\t\tmonths: [\"Janvier\", \"Février\", \"Mars\", \"Avril\", \"Mai\", \"Juin\",\n\t\t\t\t\"Juillet\", \"Août\", \"Septembre\", \"Octobre\", \"Novembre\",\n\t\t\t\t\"Décembre\"\n\t\t\t],\n\t\t\tformat: 'DD-MM-YYYY hh:mm'\n\t\t},\n\t\tpl: {\n\t\t\tdays: ['N', 'Pn', 'Wt', 'Śr', 'Cz', 'Pt', 'So'],\n\t\t\tmonths: [\"Styczeń\", \"Luty\", \"Marzec\", \"Kwiecień\", \"Maj\", \"Czerwiec\",\n\t\t\t\t\"Lipiec\", \"Sierpień\", \"Wrzesień\", \"Październik\", \"Listopad\",\n\t\t\t\t\"Grudzień\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'Poprzedni miesiąc',\n\t\t\tnextMonth: 'Następny miesiąc',\n\t\t\ttoday: 'Dzisiaj'\n\t\t},\n\t\tgr: {\n\t\t\tdays: ['Κυ', 'Δε', 'Τρ', 'Τε', 'Πε', 'Πα', 'Σα'],\n\t\t\tmonths: [\"Ιαν\", \"Φεβ\", \"Μαρ\", \"Απρ\", \"Μαϊ\", \"Ιουν\", \"Ιουλ\", \"Αυγ\",\n\t\t\t\t\"Σεπ\", \"Οκτ\", \"Νοε\", \"Δεκ\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'DD-MM-YYYY hh:mm',\n\t\t\tprevMonth: 'Προηγ. μήνας',\n\t\t\tnextMonth: 'Επόμ. μήνας',\n\t\t\ttoday: 'Σήμερα'\n\t\t},\n\t\tua: {\n\t\t\tdays: [\"Неділя\", \"Понеділок\", \"Вівторок\", \"Cереда\", \"Четвер\",\n\t\t\t\t\"П'ятниця\", \"Субота\"\n\t\t\t],\n\t\t\tmonths: [\"Cічень\", \"Лютий\", \"Березень\", \"Квітень\", \"Травень\",\n\t\t\t\t\"Червня\", \"Липня\", \"Серпня\", \"Вересня\", \"Жовтень\",\n\t\t\t\t\"Листопада\", \"Грудня\"\n\t\t\t],\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'Попередній місяць',\n\t\t\tnextMonth: 'Наступний місяць',\n\t\t\ttoday: 'Cьогодні'\n\t\t},\n\t\tet: {\n\t\t\tdays: ['P', 'E', 'T', 'K', 'N', 'R', 'L'],\n\t\t\tmonths: [\"Jaan\", \"Veebr\", \"Märts\", \"Apr\", \"Mai\", \"Juun\", \"Juul\",\n\t\t\t\t\"Aug\", \"Sept\", \"Okt\", \"Nov\", \"Dets\"\n\t\t\t],\n\t\t\tsep: '.',\n\t\t\tformat: 'DD.MM.YYYY hh:mm',\n\t\t\tprevMonth: 'Eelmine kuu',\n\t\t\tnextMonth: 'Järgmine kuu',\n\t\t\ttoday: 'Täna'\n\t\t},\n\t\thu: {\n\t\t\tdays: ['Va', 'Hé', 'Ke', 'Sze', 'Cs', 'Pé', 'Szo'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Már\", \"Ápr\", \"Máj\", \"Jún\", \"Júl\", \"Aug\",\n\t\t\t\t\"Szep\", \"Okt\", \"Nov\", \"Dec\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'YYYY-MM-DD hh:mm:00',\n\t\t\tprevMonth: 'Előző hónap',\n\t\t\tnextMonth: 'Következő hónap',\n\t\t\ttoday: 'Ma'\n\t\t},\n\t\tfa: {\n\t\t\tdays: ['یکشنبه', 'دوشنبه', 'سه شنبه', 'چهارشنبه', 'پنج شنبه', 'جمعه',\n\t\t\t\t'شنبه'\n\t\t\t],\n\t\t\tmonths: [\"ژانویه\", \"فبریه\", \"مارچ\", \"آپریل\", \"می\", \"ژوئن\", \"جولای\",\n\t\t\t\t\"آگوست\", \"سپتامبر\", \"اکتبر\", \"نوامبر\", \"دسامبر\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'ماه قبل',\n\t\t\tnextMonth: 'ماه بعد',\n\t\t\ttoday: 'امروز'\n\t\t},\n\t\tlv: {\n\t\t\tdays: ['Sv', 'P', 'O', 'T', 'C', 'P', 'S'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mai\", \"Jūn\", \"Jūl\", \"Avg\",\n\t\t\t\t\"Sep\", \"Okt\", \"Nov\", \"Dec\"\n\t\t\t],\n\t\t\tformat: 'DD.MM.YYYY hh:mm'\n\t\t},\n\t\tlt: {\n\t\t\tdays: ['Pr', 'A', 'T', 'K', 'P', 'Š', 'S'],\n\t\t\tmonths: [\"Saus.\", \"Vas.\", \"Kovas\", \"Bal.\", \"Geg.\", \"Birž.\", \"Liepa\",\n\t\t\t\t\"Rugp.\", \"Rugs.\", \"Spal.\", \"Lapkr.\", \"Gruod.\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'Praeitas mėnesis',\n\t\t\tnextMonth: 'Sekantis mėnesis',\n\t\t\ttoday: 'Šiandien'\n\t\t},\n\t\tis: {\n\t\t\tdays: ['Su', 'Má', 'Þr', 'Mi', 'Fi', 'Fö', 'La'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maí\", \"Jún\", \"Júl\", \"Ágú\",\n\t\t\t\t\"Sep\", \"Okt\", \"Nóv\", \"Des\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'Fyrri mánuður',\n\t\t\tnextMonth: 'Næsti mánuður',\n\t\t\ttoday: 'Í dag'\n\t\t},\n\t\tfi: {\n\t\t\tdays: ['Su', 'Ma', 'Ti', 'Ke', 'To', 'Pe', 'La'],\n\t\t\tmonths: [\"Tammikuu\", \"Helmikuu\", \"Maaliskuu\", \"Huhtikuu\", \"Toukokuu\",\n\t\t\t\t\"Kesäkuu\", \"Heinäkuu\", \"Elokuu\", \"Syyskuu\", \"Lokakuu\",\n\t\t\t\t\"Marraskuu\", \"Joulukuu\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'D.M.YYYY h:mm',\n\t\t\tprevMonth: 'Edellinen kuukausi',\n\t\t\tnextMonth: 'Seuraava kuukausi',\n\t\t\ttoday: 'Tänään'\n\t\t}\n\t};\n\t/* ----- */\n\n\t/**\n\t PickerHandler Object\n\t**/\n\tvar PickerHandler = function($picker, $input) {\n\t\tthis.$pickerObject = $picker;\n\t\tthis.$inputObject = $input;\n\t};\n\n\t/* Get a picker */\n\tPickerHandler.prototype.getPicker = function() {\n\t\treturn this.$pickerObject;\n\t};\n\n\t/* Get a input-field */\n\tPickerHandler.prototype.getInput = function() {\n\t\treturn this.$inputObject;\n\t};\n\n\t/* Get the display state of a picker */\n\tPickerHandler.prototype.isShow = function() {\n\t\tvar is_show = true;\n\t\tif (this.$pickerObject.css('display') == 'none') {\n\t\t\tis_show = false;\n\t\t}\n\t\treturn is_show;\n\t};\n\n\t/* Show a picker */\n\tPickerHandler.prototype.show = function() {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\n\t\t$picker.show();\n\n\t\tActivePickerId = $input.data('pickerId');\n\n\t\tif ($input != null && $picker.data('isInline') === false) { // Float mode\n\t\t\t// Relocate a picker to position of the appended input-field\n\t\t\tthis._relocate();\n\t\t}\n\t};\n\n\t/* Hide a picker */\n\tPickerHandler.prototype.hide = function() {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\t\t$picker.hide();\n\t};\n\n\t/* Get a selected date from a picker */\n\tPickerHandler.prototype.getDate = function() {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\t\treturn getPickedDate($picker);\n\t};\n\n\t/* Set a specific date to a picker */\n\tPickerHandler.prototype.setDate = function(date) {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\t\tif (!isObj('Date', date)) {\n\t\t\tdate = new Date(date);\n\t\t}\n\n\t\tdraw_date($picker, {\n\t\t\t\"isAnim\": true,\n\t\t\t\"isOutputToInputObject\": true\n\t\t}, date);\n\t};\n\n\t/* Set a specific min date to a picker and redraw */\n\tPickerHandler.prototype.setMinDate = function(date) {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\t\tif (!isObj('Date', date)) {\n\t\t\tdate = new Date(date);\n\t\t}\n\t\t$picker.data(\"minDate\", date);\n\t\tif ($input.val()) {\n\t\t\tdatepicked = new Date(getPickedDate($picker));\n\t\t\tdraw_date($picker, {\n\t\t\t\t\"isAnim\": true,\n\t\t\t\t\"isOutputToInputObject\": true\n\t\t\t}, ((datepicked > date) ? datepicked : date));\n\t\t} else {\n\t\t\tdraw_date($picker, {\n\t\t\t\t\"isAnim\": true,\n\t\t\t\t\"isOutputToInputObject\": false\n\t\t\t}, date);\n\t\t}\n\t};\n\n\t/* Set a specific max date to a picker and redraw */\n\tPickerHandler.prototype.setMaxDate = function(date) {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\t\tif (!isObj('Date', date)) {\n\t\t\tdate = new Date(date);\n\t\t}\n\t\t$picker.data(\"maxDate\", date);\n\t\tif ($input.val()) {\n\t\t\tdatepicked = new Date(getPickedDate($picker));\n\t\t\tdraw_date($picker, {\n\t\t\t\t\"isAnim\": true,\n\t\t\t\t\"isOutputToInputObject\": true\n\t\t\t}, ((datepicked < date) ? datepicked : date));\n\t\t} else {\n\t\t\tdraw_date($picker, {\n\t\t\t\t\"isAnim\": true,\n\t\t\t\t\"isOutputToInputObject\": false\n\t\t\t}, date);\n\t\t}\n\t};\n\n\t/* Destroy a picker */\n\tPickerHandler.prototype.destroy = function() {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar picker_id = $picker.data('pickerId');\n\t\tPickerObjects[picker_id] = null;\n\t\t$picker.remove();\n\t};\n\n\t/* Relocate a picker to position of the appended input-field. */\n\tPickerHandler.prototype._relocate = function() {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\n\t\tif ($input != null && $picker.data('isInline') === false) { // Float mode\n\t\t\t// Move position of a picker - vertical\n\t\t\tvar input_outer_height = $input.outerHeight({\n\t\t\t\t'margin': true\n\t\t\t});\n\t\t\tif (!isObj('Number', input_outer_height)) {\n\t\t\t\tinput_outer_height = $input.outerHeight();\n\t\t\t}\n\t\t\tvar picker_outer_height = $picker.outerHeight({\n\t\t\t\t'margin': true\n\t\t\t});\n\t\t\tif (!isObj('Number', picker_outer_height)) {\n\t\t\t\tpicker_outer_height = $picker.outerHeight();\n\t\t\t}\n\n\t\t\t// Set width to assure date and time are side by side\n\t\t\tif ($(\".datepicker_calendar\", $picker).width() !== 0 && $(\n\t\t\t\t\t\".datepicker_timelist\", $picker).width() !== 0) {\n\t\t\t\t$picker.parent().width($(\".datepicker_calendar\", $picker).width() +\n\t\t\t\t\t$(\".datepicker_timelist\", $picker).width() + 6);\n\t\t\t}\n\t\t\tif (parseInt($(window).height()) <= ($input.offset().top - $(document)\n\t\t\t\t\t.scrollTop() + input_outer_height + picker_outer_height)) {\n\t\t\t\t// Display to top of an input-field\n\t\t\t\t$picker.parent().css('top', ($input.offset().top - (\n\t\t\t\t\tinput_outer_height / 2) - picker_outer_height) + 'px');\n\t\t\t} else {\n\t\t\t\t// Display to bottom of an input-field\n\t\t\t\t$picker.parent().css('top', ($input.offset().top +\n\t\t\t\t\tinput_outer_height) + 'px');\n\t\t\t}\n\t\t\t// Move position of a picker - horizontal\n\t\t\tif ($picker.parent().width() + $input.offset().left > $(window).width() &&\n\t\t\t\t$picker.data('timeOnly') !== true) {\n\t\t\t\t// Display left side stick to window\n\t\t\t\t$picker.parent().css('left', (($(window).width() - $picker.parent()\n\t\t\t\t\t.width()) / 2) + 'px');\n\t\t\t} else {\n\t\t\t\t// Display left side stick to input\n\t\t\t\t$picker.parent().css('left', $input.offset().left + 'px');\n\t\t\t}\n\t\t\t// Display on most top of the z-index\n\t\t\t$picker.parent().css('z-index', 100000);\n\t\t}\n\t};\n\n\t/* ----- */\n\n\tvar PickerObjects = [];\n\tvar InputObjects = [];\n\tvar ActivePickerId = -1;\n\n\tvar getParentPickerObject = function(obj) {\n\t\treturn $(obj).closest('.datepicker');\n\t};\n\n\tvar getPickersInputObject = function($obj) {\n\t\tvar $picker = getParentPickerObject($obj);\n\t\tif ($picker.data(\"inputObjectId\") != null) {\n\t\t\treturn $(InputObjects[$picker.data(\"inputObjectId\")]);\n\t\t}\n\t\treturn null;\n\t};\n\n\tvar setToNow = function($obj) {\n\t\tvar $picker = getParentPickerObject($obj);\n\t\tvar date = new Date();\n\t\tvar year, month, day, hour, minute;\n\n\t\t// compare timestamps\n\t\tif ($picker.data('minDate') !== null && date < $picker.data('minDate')) {\n\t\t\tvar minDate = new Date($picker.data('minDate'));\n\t\t\tyear = minDate.getFullYear();\n\t\t\tmonth = minDate.getMonth();\n\t\t\tday = minDate.getDate();\n\t\t\thour = minDate.getHours();\n\t\t\tminute = minDate.getMinutes();\n\t\t} else if ($picker.data('maxDate') !== null && date > $picker.data(\n\t\t\t\t'maxDate')) {\n\t\t\tvar maxDate = new Date($picker.data('maxDate'));\n\t\t\tyear = maxDate.getFullYear();\n\t\t\tmonth = maxDate.getMonth();\n\t\t\tday = maxDate.getDate();\n\t\t\thour = maxDate.getHours();\n\t\t\tminute = maxDate.getMinutes();\n\t\t} else {\n\t\t\tyear = date.getFullYear();\n\t\t\tmonth = date.getMonth();\n\t\t\tday = date.getDate();\n\t\t\thour = date.getHours();\n\t\t\tminute = date.getMinutes();\n\t\t}\n\n\t\tdraw($picker, {\n\t\t\t\"isAnim\": true,\n\t\t\t\"isOutputToInputObject\": true\n\t\t}, year, month, day, hour, minute);\n\t};\n\n\tvar beforeMonth = function($obj) {\n\t\tvar $picker = getParentPickerObject($obj);\n\n\t\tif ($picker.data('stateAllowBeforeMonth') === false) { // Not allowed\n\t\t\treturn;\n\t\t}\n\n\t\tvar date = getShownDate($picker);\n\t\tvar targetMonth_lastDay = new Date(date.getFullYear(), date.getMonth(), 0)\n\t\t\t.getDate();\n\t\tif (targetMonth_lastDay < date.getDate()) {\n\t\t\tdate.setDate(targetMonth_lastDay);\n\t\t}\n\t\tdraw($picker, {\n\t\t\t\t\"isAnim\": true,\n\t\t\t\t\"isOutputToInputObject\": false,\n\t\t\t\t\"keepPickedDate\": true\n\t\t\t}, date.getFullYear(), date.getMonth() - 1, date.getDate(), date.getHours(),\n\t\t\tdate.getMinutes());\n\n\t\tvar todayDate = new Date();\n\t\tif ($picker.data(\"futureOnly\") && $picker.data(\"current\")) {\n\t\t\ttodayDate = new Date($picker.data(\"current\"));\n\t\t}\n\n\t\tvar isCurrentYear = todayDate.getFullYear() == date.getFullYear();\n\t\tvar isCurrentMonth = isCurrentYear && todayDate.getMonth() == date.getMonth();\n\n\t\tif (!isCurrentMonth || !$picker.data(\"futureOnly\")) {\n\t\t\tif (targetMonth_lastDay < date.getDate()) {\n\t\t\t\tdate.setDate(targetMonth_lastDay);\n\t\t\t}\n\t\t\tvar newdate = new Date(date.getFullYear(), date.getMonth() - 1, date.getDate(),\n\t\t\t\tdate.getHours(), date.getMinutes());\n\t\t\tif ($picker.data(\"minDate\") && newdate < $picker.data(\"minDate\"))\n\t\t\t\tnewdate = new Date($picker.data(\"minDate\"));\n\t\t\tdraw($picker, {\n\t\t\t\t\t\"isAnim\": true,\n\t\t\t\t\t\"isOutputToInputObject\": false,\n\t\t\t\t\t\"keepPickedDate\": true\n\t\t\t\t}, newdate.getFullYear(), newdate.getMonth(), newdate.getDate(),\n\t\t\t\tnewdate.getHours(), newdate.getMinutes());\n\t\t}\n\t};\n\n\tvar nextMonth = function($obj) {\n\t\tvar $picker = getParentPickerObject($obj);\n\t\tvar date = getShownDate($picker);\n\t\tvar targetMonth_lastDay = new Date(date.getFullYear(), date.getMonth() +\n\t\t\t1, 0).getDate();\n\t\tif (targetMonth_lastDay < date.getDate()) {\n\t\t\tdate.setDate(targetMonth_lastDay);\n\t\t}\n\n\t\t// Check a last date of a next month\n\t\tif (getLastDate(date.getFullYear(), date.getMonth() + 1) < date.getDate()) {\n\t\t\tdate.setDate(getLastDate(date.getFullYear(), date.getMonth() + 1));\n\t\t}\n\t\tvar newdate = new Date(date.getFullYear(), date.getMonth() + 1, date.getDate(),\n\t\t\tdate.getHours(), date.getMinutes());\n\t\tif ($picker.data(\"maxDate\") && newdate > $picker.data(\"maxDate\"))\n\t\t\tnewdate = new Date($picker.data(\"maxDate\"));\n\t\tdraw($picker, {\n\t\t\t\t\"isAnim\": true,\n\t\t\t\t\"isOutputToInputObject\": false,\n\t\t\t\t\"keepPickedDate\": true\n\t\t\t}, newdate.getFullYear(), newdate.getMonth(), newdate.getDate(),\n\t\t\tnewdate.getHours(), newdate.getMinutes());\n\t};\n\n\t/**\n\t Check a last date of a specified year and month\n\t **/\n\tvar getLastDate = function(year, month) {\n\t\tvar date = new Date(year, month + 1, 0);\n\t\treturn date.getDate();\n\t};\n\n\tvar getDateFormat = function(format, locale, is_date_only, is_time_only) {\n\t\tif (format == \"default\") {\n\t\t\t// Default format\n\t\t\tformat = translate(locale, 'format');\n\t\t\tif (is_date_only) {\n\t\t\t\t// Convert the format to date-only (ex: YYYY/MM/DD)\n\t\t\t\tformat = format.substring(0, format.search(' '));\n\t\t\t} else if (is_time_only) {\n\t\t\t\tformat = format.substring(format.search(' ') + 1);\n\t\t\t}\n\t\t}\n\t\treturn format; // Return date-format\n\t};\n\n\tvar normalizeYear = function(year) {\n\t\tif (year < 99) { // change year for 4 digits\n\t\t\tvar date = new Date();\n\t\t\treturn parseInt(year) + parseInt(date.getFullYear().toString().substr(\n\t\t\t\t0, 2) + \"00\");\n\t\t}\n\t\treturn year;\n\t};\n\tvar parseDate = function(str, opt_date_format) {\n\t\tvar re, m, date;\n\t\tif (opt_date_format != null) {\n\t\t\t// Parse date & time with date-format\n\n\t\t\t// Match a string with date format\n\t\t\tvar df = opt_date_format.replace(/hh:mm.*/, '(?:$&)?')\n\t\t\t\t.replace(/\\s/, '\\\\s?')\n\t\t\t\t.replace(/(-|\\/)/g, '[-\\/]')\n\t\t\t\t.replace(/YYYY/gi, '(\\\\d{2,4})')\n\t\t\t\t.replace(/(YY|MM|DD|HH|hh|mm)/g, '(\\\\d{1,2})')\n\t\t\t\t.replace(/(M|D|H|h|m)/g, '(\\\\d{1,2})')\n\t\t\t\t.replace(/(tt|TT)/g, '([aApP][mM])');\n\t\t\tre = new RegExp(df);\n\t\t\tm = re.exec(str);\n\t\t\tif (m != null) {\n\n\t\t\t\t// Generate the formats array (convert-table)\n\t\t\t\tvar formats = [];\n\t\t\t\tvar format_buf = '';\n\t\t\t\tvar format_before_c = '';\n\t\t\t\tvar df_ = opt_date_format;\n\t\t\t\twhile (df_ != null && 0 < df_.length) {\n\t\t\t\t\tvar format_c = df_.substring(0, 1);\n\t\t\t\t\tdf_ = df_.substring(1, df_.length);\n\t\t\t\t\tif (format_before_c != format_c) {\n\t\t\t\t\t\tif (/(YYYY|YY|MM|DD|mm|dd|M|D|HH|H|hh|h|m|tt|TT)/.test(\n\t\t\t\t\t\t\t\tformat_buf)) {\n\t\t\t\t\t\t\tformats.push(format_buf);\n\t\t\t\t\t\t\tformat_buf = '';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tformat_buf = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tformat_buf += format_c;\n\t\t\t\t\tformat_before_c = format_c;\n\t\t\t\t}\n\t\t\t\tif (format_buf !== '' &&\n\t\t\t\t\t/(YYYY|YY|MM|DD|mm|dd|M|D|HH|H|hh|h|m|tt|TT)/.test(format_buf)\n\t\t\t\t) {\n\t\t\t\t\tformats.push(format_buf);\n\t\t\t\t}\n\n\t\t\t\t// Convert a string (with convert-table) to a date object\n\t\t\t\tvar year, month, day, hour, min;\n\t\t\t\tvar is_successful = false;\n\t\t\t\tvar pm = false;\n\t\t\t\tvar H = false;\n\t\t\t\tfor (var i = 0; i < formats.length; i++) {\n\t\t\t\t\tif (m.length < i) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar f = formats[i];\n\t\t\t\t\tvar d = m[i + 1]; // Matched part of date\n\t\t\t\t\tif (f == 'YYYY') {\n\t\t\t\t\t\tyear = normalizeYear(d);\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'YY') {\n\t\t\t\t\t\tyear = parseInt(d) + 2000;\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'MM' || f == 'M') {\n\t\t\t\t\t\tmonth = parseInt(d) - 1;\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'DD' || f == 'D') {\n\t\t\t\t\t\tday = d;\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'hh' || f == 'h') {\n\t\t\t\t\t\thour = (typeof d != 'undefined') ? d : 0;\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'HH' || f == 'H') {\n\t\t\t\t\t\thour = (typeof d != 'undefined') ? d : 0;\n\t\t\t\t\t\tH = true;\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'mm' || f == 'm') {\n\t\t\t\t\t\tmin = (typeof d != 'undefined') ? d : 0;\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'tt' || f == 'TT') {\n\t\t\t\t\t\tif (d == 'pm' || d == 'PM') {\n\t\t\t\t\t\t\tpm = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (H) {\n\t\t\t\t\tif (pm) {\n\t\t\t\t\t\tif (hour != 12) {\n\t\t\t\t\t\t\thour = parseInt(hour) + 12;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (hour == 12) {\n\t\t\t\t\t\thour = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdate = new Date(year, month, day, hour, min);\n\n\t\t\t\tif (is_successful === true && isNaN(date) === false && isNaN(date\n\t\t\t\t\t\t.getDate()) === false) { // Parse successful\n\t\t\t\t\treturn date;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Parse date & time with common format\n\t\tre = /^(\\d{2,4})[-\\/](\\d{1,2})[-\\/](\\d{1,2}) (\\d{1,2}):(\\d{1,2})$/;\n\t\tm = re.exec(str);\n\t\tif (m !== null) {\n\t\t\tm[1] = normalizeYear(m[1]);\n\t\t\tdate = new Date(m[1], m[2] - 1, m[3], m[4], m[5]);\n\t\t} else {\n\t\t\t// Parse for date-only\n\t\t\tre = /^(\\d{2,4})[-\\/](\\d{1,2})[-\\/](\\d{1,2})$/;\n\t\t\tm = re.exec(str);\n\t\t\tif (m !== null) {\n\t\t\t\tm[1] = normalizeYear(m[1]);\n\t\t\t\tdate = new Date(m[1], m[2] - 1, m[3]);\n\t\t\t}\n\t\t}\n\n\t\tif (isNaN(date) === false && isNaN(date.getDate()) === false) { // Parse successful\n\t\t\treturn date;\n\t\t}\n\t\treturn false;\n\t};\n\tvar getFormattedDate = function(date, date_format) {\n\t\tif (date == null) {\n\t\t\tdate = new Date();\n\t\t}\n\n\t\tvar y = date.getFullYear();\n\t\tvar m = date.getMonth() + 1;\n\t\tvar d = date.getDate();\n\t\tvar hou = date.getHours();\n\t\tvar min = date.getMinutes();\n\n\t\tdate_format = date_format.replace(/YYYY/gi, y)\n\t\t\t.replace(/YY/g, y - 2000) /* century */\n\t\t\t.replace(/MM/g, zpadding(m))\n\t\t\t.replace(/M/g, m)\n\t\t\t.replace(/DD/g, zpadding(d))\n\t\t\t.replace(/D/g, d)\n\t\t\t.replace(/hh/g, zpadding(hou))\n\t\t\t.replace(/h/g, hou)\n\t\t\t.replace(/HH/g, (hou > 12 ? zpadding(hou - 12) : (hou < 1 ? 12 :\n\t\t\t\tzpadding(hou))))\n\t\t\t.replace(/H/g, (hou > 12 ? hou - 12 : (hou < 1 ? 12 : hou)))\n\t\t\t.replace(/mm/g, zpadding(min))\n\t\t\t.replace(/m/g, min)\n\t\t\t.replace(/tt/g, (hou >= 12 ? \"pm\" : \"am\"))\n\t\t\t.replace(/TT/g, (hou >= 12 ? \"PM\" : \"AM\"));\n\t\treturn date_format;\n\t};\n\n\tvar outputToInputObject = function($picker) {\n\t\tvar $inp = getPickersInputObject($picker);\n\t\tif ($inp == null) {\n\t\t\treturn;\n\t\t}\n\t\tvar date = getPickedDate($picker);\n\t\tvar locale = $picker.data(\"locale\");\n\t\tvar format = getDateFormat($picker.data(\"dateFormat\"), locale, $picker.data(\n\t\t\t'dateOnly'), $picker.data('timeOnly'));\n\t\tvar old = $inp.val();\n\t\t$inp.val(getFormattedDate(date, format));\n\t\tif (old != $inp.val()) { // only trigger if it actually changed to avoid a nasty loop condition\n\t\t\t$inp.trigger(\"change\");\n\t\t}\n\t};\n\n\tvar getShownDate = function($obj) {\n\t\tvar $picker = getParentPickerObject($obj);\n\t\treturn $picker.data(\"shownDate\");\n\t};\n\n\tvar getPickedDate = function($obj) {\n\t\tvar $picker = getParentPickerObject($obj);\n\t\treturn $picker.data(\"pickedDate\");\n\t};\n\n\tvar zpadding = function(num) {\n\t\tnum = (\"0\" + num).slice(-2);\n\t\treturn num;\n\t};\n\n\tvar draw_date = function($picker, option, date) {\n\t\t//console.log(\"draw_date - \" + date.toString());\n\t\tdraw($picker, option, date.getFullYear(), date.getMonth(), date.getDate(),\n\t\t\tdate.getHours(), date.getMinutes());\n\t};\n\tvar translate = function(locale, s) {\n\t\tif (typeof lang[locale][s] !== \"undefined\") {\n\t\t\treturn lang[locale][s];\n\t\t}\n\t\treturn lang.en[s];\n\t};\n\tvar draw = function($picker, option, year, month, day, hour, min) {\n\t\tvar date = new Date();\n\n\t\tif (hour != null) {\n\t\t\tdate = new Date(year, month, day, hour, min, 0);\n\t\t} else if (year != null) {\n\t\t\tdate = new Date(year, month, day);\n\t\t} else {\n\t\t\tdate = new Date();\n\t\t}\n\n\t\t/* Read options */\n\t\tvar isTodayButton = $picker.data(\"todayButton\");\n\t\tvar isCloseButton = $picker.data(\"closeButton\");\n\t\tvar isScroll = option.isAnim;\n\t\t/* It same with isAnim */\n\t\tif ($picker.data(\"timelistScroll\") === false) { // If disabled by user option.\n\t\t\tisScroll = false;\n\t\t}\n\n\t\tvar isAnim = option.isAnim;\n\t\tif ($picker.data(\"animation\") === false) { // If disabled by user option.\n\t\t\tisAnim = false;\n\t\t}\n\n\t\tvar isFutureOnly = $picker.data(\"futureOnly\");\n\t\tvar minDate = $picker.data(\"minDate\");\n\t\tvar maxDate = $picker.data(\"maxDate\");\n\n\t\tvar isOutputToInputObject = option.isOutputToInputObject;\n\t\tvar keepPickedDate = option.keepPickedDate;\n\t\tif (typeof keepPickedDate === \"undefined\") keepPickedDate = false;\n\n\t\tvar minuteInterval = $picker.data(\"minuteInterval\");\n\t\tvar firstDayOfWeek = $picker.data(\"firstDayOfWeek\");\n\n\t\tvar allowWdays = $picker.data(\"allowWdays\");\n\t\tif (allowWdays == null || isObj('Array', allowWdays) === false ||\n\t\t\tallowWdays.length <= 0) {\n\t\t\tallowWdays = null;\n\t\t}\n\n\t\tvar minTime = $picker.data(\"minTime\");\n\t\tvar maxTime = $picker.data(\"maxTime\");\n\n\t\t/* Check a specified date */\n\t\tvar todayDate = new Date();\n\n\n\t\tif (isFutureOnly) {\n\t\t\tif ($picker.data(\"current\")) {\n\t\t\t\ttodayDate = new Date($picker.data(\"current\"));\n\t\t\t}\n\t\t\tif (date.getTime() < todayDate.getTime()) { // Already passed\n\t\t\t\tdate.setTime(todayDate.getTime());\n\t\t\t}\n\t\t}\n\t\tif (allowWdays != null && allowWdays.length <= 6) {\n\t\t\twhile (true) {\n\t\t\t\tif ($.inArray(date.getDay(), allowWdays) == -1) { // Unallowed wday\n\t\t\t\t\t// Slide a date\n\t\t\t\t\tdate.setDate(date.getDate() + 1);\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/* Read locale option */\n\t\tvar locale = $picker.data(\"locale\");\n\t\tif (!lang.hasOwnProperty(locale)) {\n\t\t\tlocale = 'en';\n\t\t}\n\n\t\t/* Calculate dates */\n\t\tvar firstWday = new Date(date.getFullYear(), date.getMonth(), 1).getDay() -\n\t\t\tfirstDayOfWeek;\n\t\tvar lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n\t\tvar beforeMonthLastDay = new Date(date.getFullYear(), date.getMonth(), 0)\n\t\t\t.getDate();\n\t\tvar dateBeforeMonth = new Date(date.getFullYear(), date.getMonth(), 0);\n\t\tvar dateNextMonth = new Date(date.getFullYear(), date.getMonth() + 2, 0);\n\t\tvar isCurrentYear = todayDate.getFullYear() == date.getFullYear();\n\t\tvar isCurrentMonth = isCurrentYear && todayDate.getMonth() == date.getMonth();\n\t\tvar isCurrentDay = isCurrentMonth && todayDate.getDate() == date.getDate();\n\t\tvar isNextYear = (todayDate.getFullYear() + 1 == date.getFullYear());\n\t\tvar isNextMonth = (isCurrentYear && todayDate.getMonth() + 1 == date.getMonth()) ||\n\t\t\t(isNextYear && todayDate.getMonth() === 11 && date.getMonth() === 0);\n\t\tvar isPastMonth = false;\n\t\tif (date.getFullYear() < todayDate.getFullYear() || (isCurrentYear &&\n\t\t\t\tdate.getMonth() < todayDate.getMonth())) {\n\t\t\tisPastMonth = true;\n\t\t}\n\n\t\t/* Collect each part */\n\t\tvar $header = $picker.children('.datepicker_header');\n\t\tvar $inner = $picker.children('.datepicker_inner_container');\n\t\tvar $calendar = $picker.children('.datepicker_inner_container').children(\n\t\t\t'.datepicker_calendar');\n\t\tvar $table = $calendar.children('.datepicker_table');\n\t\tvar $timelist = $picker.children('.datepicker_inner_container').children(\n\t\t\t'.datepicker_timelist');\n\n\t\t/* Grasp a point that will be changed */\n\t\tvar changePoint = \"\";\n\t\tvar oldDate = getPickedDate($picker);\n\t\tif (oldDate != null) {\n\t\t\tif (oldDate.getMonth() != date.getMonth() || oldDate.getDate() !=\n\t\t\t\tdate.getDate()) {\n\t\t\t\tchangePoint = \"calendar\";\n\t\t\t} else if (oldDate.getHours() != date.getHours() || oldDate.getMinutes() !=\n\t\t\t\tdate.getMinutes()) {\n\t\t\t\tif (date.getMinutes() === 0 || date.getMinutes() % minuteInterval ===\n\t\t\t\t\t0) {\n\t\t\t\t\tchangePoint = \"timelist\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/* Save newly date to Picker data */\n\t\tif (keepPickedDate === false) {\n\t\t\t$($picker).data(\"pickedDate\", date);\n\t\t}\n\t\t$($picker).data(\"shownDate\", date);\n\n\t\t/* Fade-out animation */\n\t\tif (isAnim === true) {\n\t\t\tif (changePoint == \"calendar\") {\n\t\t\t\t$calendar.stop().queue([]);\n\t\t\t\t$calendar.fadeTo(\"fast\", 0.8);\n\t\t\t} else if (changePoint == \"timelist\") {\n\t\t\t\t$timelist.stop().queue([]);\n\t\t\t\t$timelist.fadeTo(\"fast\", 0.8);\n\t\t\t}\n\t\t}\n\t\t/* Remind timelist scroll state */\n\t\tvar drawBefore_timeList_scrollTop = $timelist.scrollTop();\n\n\t\t/* New timelist  */\n\t\tvar timelist_activeTimeCell_offsetTop = -1;\n\n\t\t/* Header ----- */\n\t\t$header.children().remove();\n\n\t\tvar cDate = new Date(date.getTime());\n\t\tcDate.setMinutes(59);\n\t\tcDate.setHours(23);\n\t\tcDate.setSeconds(59);\n\t\tcDate.setDate(0); // last day of previous month\n\n\t\tvar $link_before_month = null;\n\t\tif ((!isFutureOnly || !isCurrentMonth) && ((minDate == null) || (minDate <\n\t\t\t\tcDate.getTime()))) {\n\t\t\t$link_before_month = $('<a>');\n\t\t\t$link_before_month.text('<');\n\t\t\t$link_before_month.prop('alt', translate(locale, 'prevMonth'));\n\t\t\t$link_before_month.prop('title', translate(locale, 'prevMonth'));\n\t\t\t$link_before_month.prop('class', \"before-month\");\n\t\t\t$link_before_month.click(function() {\n\t\t\t\tbeforeMonth($picker);\n\t\t\t});\n\t\t\t$picker.data('stateAllowBeforeMonth', true);\n\t\t} else {\n\t\t\t$picker.data('stateAllowBeforeMonth', false);\n\t\t}\n\n\t\tcDate.setMinutes(0);\n\t\tcDate.setHours(0);\n\t\tcDate.setSeconds(0);\n\t\tcDate.setDate(1); // First day of next month\n\t\tcDate.setMonth(date.getMonth() + 1);\n\n\t\tvar $now_month = $('<span>');\n\t\t$now_month.text(date.getFullYear() + \" \" + translate(locale, 'sep') + \" \" +\n\t\t\ttranslate(locale, 'months')[date.getMonth()]);\n\n\t\tvar $link_next_month = null;\n\t\tif ((maxDate == null) || (maxDate > cDate.getTime())) {\n\t\t\t$link_next_month = $('<a>');\n\t\t\t$link_next_month.text('>');\n\t\t\t$link_next_month.prop('alt', translate(locale, 'nextMonth'));\n\t\t\t$link_next_month.prop('title', translate(locale, 'nextMonth'));\n\t\t\t$link_next_month.prop('class', \"next-month\");\n\t\t\t$link_next_month.click(function() {\n\t\t\t\tnextMonth($picker);\n\t\t\t});\n\t\t}\n\n\t\tif (isTodayButton) {\n\t\t\tvar $link_today = $('<a><div/></a>');\n\t\t\t$link_today.addClass('icon-home');\n\t\t\t$link_today.prop('alt', translate(locale, 'today'));\n\t\t\t$link_today.prop('title', translate(locale, 'today'));\n\t\t\t$link_today.click(function() {\n\t\t\t\tsetToNow($picker);\n\t\t\t});\n\t\t\t$header.append($link_today);\n\t\t}\n\t\tif (isCloseButton) {\n\t\t\tvar $link_close = $('<a><div/></a>');\n\t\t\t$link_close.addClass('icon-close');\n\t\t\t$link_close.prop('alt', translate(locale, 'close'));\n\t\t\t$link_close.prop('title', translate(locale, 'close'));\n\t\t\t$link_close.click(function() {\n\t\t\t\t$picker.hide();\n\t\t\t});\n\t\t\t$header.append($link_close);\n\t\t}\n\n\t\tif ($link_before_month != null) {\n\t\t\t$header.append($link_before_month);\n\t\t}\n\t\t$header.append($now_month);\n\t\tif ($link_next_month != null) {\n\t\t\t$header.append($link_next_month);\n\t\t}\n\n\t\t/* Calendar > Table ----- */\n\t\t$table.children().remove();\n\t\tvar $tr = $('<tr>');\n\t\t$table.append($tr);\n\n\t\t/* Output wday cells */\n\t\tvar firstDayDiff = 7 + firstDayOfWeek;\n\t\tvar daysOfWeek = translate(locale, 'days');\n\t\tvar $td;\n\t\tfor (var i = 0; i < 7; i++) {\n\t\t\t$td = $('<th>');\n\t\t\t$td.text(daysOfWeek[((i + firstDayDiff) % 7)]);\n\t\t\t$tr.append($td);\n\t\t}\n\n\t\t/* Output day cells */\n\t\tvar cellNum = Math.ceil((firstWday + lastDay) / 7) * 7;\n\t\ti = 0;\n\t\tif (firstWday < 0) {\n\t\t\ti = -7;\n\t\t}\n\t\tvar realDayObj = new Date(date.getTime());\n\t\trealDayObj.setHours(0);\n\t\trealDayObj.setMinutes(0);\n\t\trealDayObj.setSeconds(0);\n\t\tvar pickedDate = getPickedDate($picker);\n\t\tvar shownDate = getShownDate($picker);\n\t\tvar $tbody = $('<tbody>');\n\t\t$table.append($tbody).children(\"tbody\");\n\t\tfor (var zz = 0; i < cellNum; i++) {\n\t\t\tvar realDay = i + 1 - firstWday;\n\n\t\t\tvar isPast = isPastMonth ||\n\t\t\t\t(isCurrentMonth && realDay < todayDate.getDate()) ||\n\t\t\t\t(isNextMonth && firstWday > i && (beforeMonthLastDay + realDay) <\n\t\t\t\t\ttodayDate.getDate());\n\n\t\t\tif (i % 7 === 0) {\n\t\t\t\t$tr = $('<tr>');\n\t\t\t\t$tbody.append($tr);\n\t\t\t}\n\n\t\t\t$td = $('<td>');\n\t\t\t$td.data(\"day\", realDay);\n\n\t\t\t$tr.append($td);\n\n\t\t\tif (firstWday > i) { /* Before months day */\n\t\t\t\t$td.text(beforeMonthLastDay + realDay);\n\t\t\t\t$td.addClass('day_another_month');\n\t\t\t\t$td.data(\"dateStr\", dateBeforeMonth.getFullYear() + \"/\" + (\n\t\t\t\t\tdateBeforeMonth.getMonth() + 1) + \"/\" + (\n\t\t\t\t\tbeforeMonthLastDay + realDay));\n\t\t\t\trealDayObj.setDate(beforeMonthLastDay + realDay);\n\t\t\t\trealDayObj.setMonth(dateBeforeMonth.getMonth());\n\t\t\t\trealDayObj.setYear(dateBeforeMonth.getFullYear());\n\t\t\t} else if (i < firstWday + lastDay) { /* Now months day */\n\t\t\t\t$td.text(realDay);\n\t\t\t\t$td.data(\"dateStr\", (date.getFullYear()) + \"/\" + (date.getMonth() +\n\t\t\t\t\t1) + \"/\" + realDay);\n\t\t\t\trealDayObj.setDate(realDay);\n\t\t\t\trealDayObj.setMonth(date.getMonth());\n\t\t\t\trealDayObj.setYear(date.getFullYear());\n\t\t\t} else { /* Next months day */\n\t\t\t\t$td.text(realDay - lastDay);\n\t\t\t\t$td.addClass('day_another_month');\n\t\t\t\t$td.data(\"dateStr\", dateNextMonth.getFullYear() + \"/\" + (\n\t\t\t\t\tdateNextMonth.getMonth() + 1) + \"/\" + (realDay -\n\t\t\t\t\tlastDay));\n\t\t\t\trealDayObj.setDate(realDay - lastDay);\n\t\t\t\trealDayObj.setMonth(dateNextMonth.getMonth());\n\t\t\t\trealDayObj.setYear(dateNextMonth.getFullYear());\n\t\t\t}\n\n\t\t\t/* Check a wday */\n\t\t\tvar wday = ((i + firstDayDiff) % 7);\n\t\t\tif (allowWdays != null) {\n\t\t\t\tif ($.inArray(wday, allowWdays) == -1) {\n\t\t\t\t\t$td.addClass('day_in_unallowed');\n\t\t\t\t\tcontinue; // Skip\n\t\t\t\t}\n\t\t\t} else if (wday === 0) { /* Sunday */\n\t\t\t\t$td.addClass('wday_sun');\n\t\t\t} else if (wday == 6) { /* Saturday */\n\t\t\t\t$td.addClass('wday_sat');\n\t\t\t}\n\n\t\t\t/* Set a special mark class */\n\t\t\tif (shownDate.getFullYear() == pickedDate.getFullYear() && shownDate.getMonth() ==\n\t\t\t\tpickedDate.getMonth() && realDay == pickedDate.getDate()) { /* selected day */\n\t\t\t\t$td.addClass('active');\n\t\t\t}\n\n\t\t\tif (isCurrentMonth && realDay == todayDate.getDate()) { /* today */\n\t\t\t\t$td.addClass('today');\n\t\t\t}\n\n\t\t\tvar realDayObjMN = new Date(realDayObj.getTime());\n\t\t\trealDayObjMN.setHours(23);\n\t\t\trealDayObjMN.setMinutes(59);\n\t\t\trealDayObjMN.setSeconds(59);\n\n\t\t\tif (\n\t\t\t\t// compare to 23:59:59 on the current day (if MIN is 1pm, then we still need to show this day\n\t\t\t\t((minDate != null) && (minDate > realDayObjMN.getTime())) || ((\n\t\t\t\t\tmaxDate != null) && (maxDate < realDayObj.getTime())) // compare to 00:00:00\n\t\t\t) { // Out of range day\n\t\t\t\t$td.addClass('out_of_range');\n\t\t\t} else if (isFutureOnly && isPast) { // Past day\n\t\t\t\t$td.addClass('day_in_past');\n\t\t\t} else {\n\t\t\t\t/* Set event-handler to day cell */\n\t\t\t\t$td.click(function(ev) {\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tif ($(this).hasClass('hover')) {\n\t\t\t\t\t\t$(this).removeClass('hover');\n\t\t\t\t\t}\n\t\t\t\t\t$(this).addClass('active');\n\n\t\t\t\t\tvar $picker = getParentPickerObject($(this));\n\t\t\t\t\tvar targetDate = new Date($(this).data(\"dateStr\"));\n\t\t\t\t\tvar selectedDate = getPickedDate($picker);\n\t\t\t\t\tdraw($picker, {\n\t\t\t\t\t\t\t\"isAnim\": false,\n\t\t\t\t\t\t\t\"isOutputToInputObject\": true\n\t\t\t\t\t\t}, targetDate.getFullYear(), targetDate.getMonth(),\n\t\t\t\t\t\ttargetDate.getDate(), selectedDate.getHours(),\n\t\t\t\t\t\tselectedDate.getMinutes());\n\n\t\t\t\t\t// Generate the handler of a picker\n\t\t\t\t\tvar $input = $(this);\n\t\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\n\t\t\t\t\t// Call a event-hanlder for onSelect\n\t\t\t\t\tvar func = $picker.data('onSelect');\n\t\t\t\t\tif (func != null) {\n\t\t\t\t\t\tfunc(handler, targetDate);\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($picker.data(\"dateOnly\") === true && $picker.data(\n\t\t\t\t\t\t\t\"isInline\") === false && $picker.data(\n\t\t\t\t\t\t\t\"closeOnSelected\")) {\n\t\t\t\t\t\t// Close a picker\n\t\t\t\t\t\tActivePickerId = -1;\n\t\t\t\t\t\t$picker.hide();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$td.hover(function() {\n\t\t\t\t\tif (!$(this).hasClass('active')) {\n\t\t\t\t\t\t$(this).addClass('hover');\n\t\t\t\t\t}\n\t\t\t\t}, function() {\n\t\t\t\t\tif ($(this).hasClass('hover')) {\n\t\t\t\t\t\t$(this).removeClass('hover');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/* ---- */\n\t\t}\n\n\t\tif ($picker.data('timeOnly') === true) {\n\t\t\t$calendar.css(\"display\", \"none\");\n\t\t\t$now_month.css(\"display\", \"none\");\n\t\t\tif ($link_next_month != null)\n\t\t\t\t$link_next_month.css(\"display\", \"none\");\n\t\t\tif ($link_before_month != null)\n\t\t\t\t$link_before_month.css(\"display\", \"none\");\n\t\t}\n\n\t\tif ($picker.data(\"dateOnly\") === true) {\n\t\t\t/* dateOnly mode */\n\t\t\t$timelist.css(\"display\", \"none\");\n\t\t} else {\n\t\t\t/* Timelist ----- */\n\t\t\t$timelist.children().remove();\n\n\t\t\t/* Set height to Timelist (Calendar innerHeight - Calendar padding) */\n\t\t\tif ($calendar.innerHeight() > 0) {\n\t\t\t\t$timelist.css(\"height\", $calendar.innerHeight() - 10 + 'px');\n\t\t\t}\n\n\t\t\trealDayObj = new Date(date.getTime());\n\t\t\t$timelist.css(\"height\", Math.max($calendar.innerHeight() - 10, 200) +\n\t\t\t\t'px');\n\n\t\t\t/* Output time cells */\n\t\t\tvar hour_ = minTime[0];\n\t\t\tvar min_ = minTime[1];\n\n\t\t\twhile (hour_ * 100 + min_ < maxTime[0] * 100 + maxTime[1]) {\n\n\t\t\t\tvar $o = $('<div>');\n\t\t\t\tvar is_past_time = hour_ < todayDate.getHours() || (hour_ ==\n\t\t\t\t\ttodayDate.getHours() && min_ < todayDate.getMinutes());\n\t\t\t\tvar is_past = isCurrentDay && is_past_time;\n\n\t\t\t\t$o.addClass('timelist_item');\n\t\t\t\tvar oText = \"\";\n\t\t\t\tif ($picker.data(\"amPmInTimeList\")) {\n\t\t\t\t\toText = /*zpadding*/ (hour_ > 12 ? hour_ - 12 : (hour_ < 1 ?\n\t\t\t\t\t\t12 : hour_));\n\t\t\t\t\toText += \":\" + zpadding(min_);\n\t\t\t\t\toText += (hour_ >= 12 ? \"PM\" : \"AM\");\n\t\t\t\t} else {\n\t\t\t\t\toText = zpadding(hour_) + \":\" + zpadding(min_);\n\t\t\t\t}\n\t\t\t\t$o.text(oText);\n\t\t\t\t$o.data(\"hour\", hour_);\n\t\t\t\t$o.data(\"min\", min_);\n\n\t\t\t\t$timelist.append($o);\n\n\t\t\t\trealDayObj.setHours(hour_);\n\t\t\t\trealDayObj.setMinutes(min_);\n\n\t\t\t\tif (\n\t\t\t\t\t((minDate != null) && (minDate > realDayObj.getTime())) || ((\n\t\t\t\t\t\tmaxDate != null) && (maxDate < realDayObj.getTime()))\n\t\t\t\t) { // Out of range cell\n\t\t\t\t\t$o.addClass('out_of_range');\n\t\t\t\t} else if (isFutureOnly && is_past) { // Past cell\n\t\t\t\t\t$o.addClass('time_in_past');\n\t\t\t\t} else { // Normal cell\n\t\t\t\t\t/* Set event handler to time cell */\n\t\t\t\t\t$o.click(function(ev) {\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t\tif ($(this).hasClass('hover')) {\n\t\t\t\t\t\t\t$(this).removeClass('hover');\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$(this).addClass('active');\n\n\t\t\t\t\t\tvar $picker = getParentPickerObject($(this));\n\t\t\t\t\t\tvar date = getPickedDate($picker);\n\t\t\t\t\t\tvar hour = $(this).data(\"hour\");\n\t\t\t\t\t\tvar min = $(this).data(\"min\");\n\t\t\t\t\t\tdraw($picker, {\n\t\t\t\t\t\t\t\t\"isAnim\": false,\n\t\t\t\t\t\t\t\t\"isOutputToInputObject\": true\n\t\t\t\t\t\t\t}, date.getFullYear(), date.getMonth(),\n\t\t\t\t\t\t\tdate.getDate(), hour, min);\n\n\t\t\t\t\t\tif ($picker.data(\"isInline\") === false && $picker\n\t\t\t\t\t\t\t.data(\"closeOnSelected\")) {\n\t\t\t\t\t\t\t// Close a picker\n\t\t\t\t\t\t\tActivePickerId = -1;\n\t\t\t\t\t\t\t$picker.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t$o.hover(function() {\n\t\t\t\t\t\tif (!$(this).hasClass('active')) {\n\t\t\t\t\t\t\t$(this).addClass('hover');\n\t\t\t\t\t\t}\n\t\t\t\t\t}, function() {\n\t\t\t\t\t\tif ($(this).hasClass('hover')) {\n\t\t\t\t\t\t\t$(this).removeClass('hover');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (hour_ == date.getHours() && min_ == date.getMinutes()) { /* selected time */\n\t\t\t\t\t$o.addClass('active');\n\t\t\t\t\ttimelist_activeTimeCell_offsetTop = $o.offset().top;\n\t\t\t\t}\n\n\t\t\t\tmin_ += minuteInterval;\n\t\t\t\tif (min_ >= 60) {\n\t\t\t\t\tmin_ = min_ - 60;\n\t\t\t\t\thour_++;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t/* Scroll the timelist */\n\t\t\tif (isScroll === true) {\n\t\t\t\t/* Scroll to new active time-cell position */\n\t\t\t\t$timelist.scrollTop(timelist_activeTimeCell_offsetTop - $timelist\n\t\t\t\t\t.offset().top);\n\t\t\t} else {\n\t\t\t\t/* Scroll to position that before redraw. */\n\t\t\t\t$timelist.scrollTop(drawBefore_timeList_scrollTop);\n\t\t\t}\n\t\t}\n\n\t\t/* Fade-in animation */\n\t\tif (isAnim === true) {\n\t\t\tif (changePoint == 'calendar' && $picker.data('timeOnly') === false) {\n\t\t\t\t$calendar.fadeTo('fast', 1.0);\n\t\t\t} else if (changePoint == 'timelist' && $picker.data('dateOnly') ===\n\t\t\t\tfalse) {\n\t\t\t\t$timelist.fadeTo('fast', 1.0);\n\t\t\t}\n\t\t}\n\n\t\t/* Output to InputForm */\n\t\tif (isOutputToInputObject === true) {\n\t\t\toutputToInputObject($picker);\n\t\t}\n\t};\n\n\t/* Check for object type */\n\tvar isObj = function(type, obj) {\n\t\t/* http://qiita.com/Layzie/items/465e715dae14e2f601de */\n\t\tvar clas = Object.prototype.toString.call(obj).slice(8, -1);\n\t\treturn obj !== undefined && obj !== null && clas === type;\n\t};\n\n\tvar init = function($obj, opt) {\n\t\t/* Container */\n\t\tvar $picker = $('<div>');\n\n\t\t$picker.destroy = function() {\n\t\t\twindow.alert('destroy!');\n\t\t};\n\n\t\t$picker.addClass('datepicker');\n\t\t$obj.append($picker);\n\n\t\t/* Set current date */\n\t\tif (!opt.current) {\n\t\t\topt.current = new Date();\n\t\t} else {\n\t\t\tvar format = getDateFormat(opt.dateFormat, opt.locale, opt.dateOnly,\n\t\t\t\topt.timeOnly);\n\t\t\tvar date = parseDate(opt.current, format);\n\t\t\tif (date) {\n\t\t\t\topt.current = date;\n\t\t\t} else {\n\t\t\t\topt.current = new Date();\n\t\t\t}\n\t\t}\n\n\t\t/* Set options data to container object  */\n\t\tif (opt.inputObjectId != null) $picker.data(\"inputObjectId\", opt.inputObjectId);\n\t\tif (opt.timeOnly) opt.todayButton = false;\n\t\t$picker.data(\"timeOnly\", opt.timeOnly);\n\t\t$picker.data(\"dateOnly\", opt.dateOnly);\n\t\t$picker.data(\"pickerId\", PickerObjects.length);\n\t\t$picker.data(\"dateFormat\", opt.dateFormat);\n\t\t$picker.data(\"locale\", opt.locale);\n\t\t$picker.data(\"firstDayOfWeek\", opt.firstDayOfWeek);\n\t\t$picker.data(\"animation\", opt.animation);\n\t\t$picker.data(\"closeOnSelected\", opt.closeOnSelected);\n\t\t$picker.data(\"timelistScroll\", opt.timelistScroll);\n\t\t$picker.data(\"calendarMouseScroll\", opt.calendarMouseScroll);\n\t\t$picker.data(\"todayButton\", opt.todayButton);\n\t\t$picker.data(\"closeButton\", opt.closeButton);\n\t\t$picker.data('futureOnly', opt.futureOnly);\n\t\t$picker.data('onShow', opt.onShow);\n\t\t$picker.data('onHide', opt.onHide);\n\t\t$picker.data('onSelect', opt.onSelect);\n\t\t$picker.data('onInit', opt.onInit);\n\t\t$picker.data('allowWdays', opt.allowWdays);\n\t\t$picker.data('current', opt.current);\n\n\t\tif (opt.amPmInTimeList === true) {\n\t\t\t$picker.data('amPmInTimeList', true);\n\t\t} else {\n\t\t\t$picker.data('amPmInTimeList', false);\n\t\t}\n\n\t\tvar minDate = Date.parse(opt.minDate);\n\t\tif (isNaN(minDate)) { // invalid date?\n\t\t\t$picker.data('minDate', null); // set to null\n\t\t} else {\n\t\t\t$picker.data('minDate', minDate);\n\t\t}\n\n\t\tvar maxDate = Date.parse(opt.maxDate);\n\t\tif (isNaN(maxDate)) { // invalid date?\n\t\t\t$picker.data('maxDate', null); // set to null\n\t\t} else {\n\t\t\t$picker.data('maxDate', maxDate);\n\t\t}\n\t\t$picker.data(\"state\", 0);\n\n\t\tif (5 <= opt.minuteInterval && opt.minuteInterval <= 30) {\n\t\t\t$picker.data(\"minuteInterval\", opt.minuteInterval);\n\t\t} else {\n\t\t\t$picker.data(\"minuteInterval\", 30);\n\t\t}\n\t\topt.minTime = opt.minTime.split(':');\n\t\topt.maxTime = opt.maxTime.split(':');\n\n\t\tif (!((opt.minTime[0] >= 0) && (opt.minTime[0] < 24))) {\n\t\t\topt.minTime[0] = \"00\";\n\t\t}\n\t\tif (!((opt.maxTime[0] >= 0) && (opt.maxTime[0] < 24))) {\n\t\t\topt.maxTime[0] = \"23\";\n\t\t}\n\t\tif (!((opt.minTime[1] >= 0) && (opt.minTime[1] < 60))) {\n\t\t\topt.minTime[1] = \"00\";\n\t\t}\n\t\tif (!((opt.maxTime[1] >= 0) && (opt.maxTime[1] < 24))) {\n\t\t\topt.maxTime[1] = \"59\";\n\t\t}\n\t\topt.minTime[0] = parseInt(opt.minTime[0], 10); // parse as decimal number\n\t\topt.minTime[1] = parseInt(opt.minTime[1], 10);\n\t\topt.maxTime[0] = parseInt(opt.maxTime[0], 10);\n\t\topt.maxTime[1] = parseInt(opt.maxTime[1], 10);\n\t\t$picker.data('minTime', opt.minTime);\n\t\t$picker.data('maxTime', opt.maxTime);\n\n\t\t/* Header */\n\t\tvar $header = $('<div>');\n\t\t$header.addClass('datepicker_header');\n\t\t$picker.append($header);\n\t\t/* InnerContainer*/\n\t\tvar $inner = $('<div>');\n\t\t$inner.addClass('datepicker_inner_container');\n\t\t$picker.append($inner);\n\t\t/* Calendar */\n\t\tvar $calendar = $('<div>');\n\t\t$calendar.addClass('datepicker_calendar');\n\t\tvar $table = $('<table>');\n\t\t$table.addClass('datepicker_table');\n\t\t$calendar.append($table);\n\t\t$inner.append($calendar);\n\t\t/* Timelist */\n\t\tvar $timelist = $('<div>');\n\t\t$timelist.addClass('datepicker_timelist');\n\t\t$inner.append($timelist);\n\n\t\t/* Set event-handler to calendar */\n\t\tif (opt.calendarMouseScroll) {\n\t\t\tif (window.sidebar) { // Mozilla Firefox\n\t\t\t\t$calendar.on('DOMMouseScroll', function(e) { // Change a month with mouse wheel scroll for Fx\n\t\t\t\t\tvar $picker = getParentPickerObject($(this));\n\n\t\t\t\t\t// up,left [delta < 0] down,right [delta > 0]\n\t\t\t\t\tvar delta = e.originalEvent.detail;\n\t\t\t\t\t/*\n\t\t\t\t\t// this code need to be commented - it's seems to be unnecessary\n\t\t\t\t\t// normalization (/3) is not needed as we move one month back or forth\n\t\t\t\t\tif(e.originalEvent.axis !== undefined && e.originalEvent.axis == e.originalEvent.HORIZONTAL_AXIS){\n\t\t\t\t\t\te.deltaX = delta;\n\t\t\t\t\t\te.deltaY = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.deltaX = 0;\n\t\t\t\t\t\te.deltaY = delta;\n\t\t\t\t\t}\n\t\t\t\t\te.deltaX /= 3;\n\t\t\t\t\te.deltaY /= 3;\n\t\t\t\t\t*/\n\t\t\t\t\tif (delta > 0) {\n\t\t\t\t\t\tnextMonth($picker);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbeforeMonth($picker);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t} else { // Other browsers\n\t\t\t\t$calendar.on('mousewheel', function(e) { // Change a month with mouse wheel scroll\n\t\t\t\t\tvar $picker = getParentPickerObject($(this));\n\t\t\t\t\t// up [delta > 0] down [delta < 0]\n\t\t\t\t\tif (e.originalEvent.wheelDelta / 120 > 0) {\n\t\t\t\t\t\tbeforeMonth($picker);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextMonth($picker);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tPickerObjects.push($picker);\n\n\t\tdraw_date($picker, {\n\t\t\t\"isAnim\": true,\n\t\t\t\"isOutputToInputObject\": opt.autodateOnStart\n\t\t}, opt.current);\n\t};\n\n\tvar getDefaults = function() {\n\t\treturn {\n\t\t\t\"current\": null,\n\t\t\t\"dateFormat\": \"default\",\n\t\t\t\"locale\": \"en\",\n\t\t\t\"animation\": true,\n\t\t\t\"minuteInterval\": 30,\n\t\t\t\"firstDayOfWeek\": 0,\n\t\t\t\"closeOnSelected\": false,\n\t\t\t\"timelistScroll\": true,\n\t\t\t\"calendarMouseScroll\": true,\n\t\t\t\"todayButton\": true,\n\t\t\t\"closeButton\": true,\n\t\t\t\"dateOnly\": false,\n\t\t\t\"timeOnly\": false,\n\t\t\t\"futureOnly\": false,\n\t\t\t\"minDate\": null,\n\t\t\t\"maxDate\": null,\n\t\t\t\"autodateOnStart\": true,\n\t\t\t\"minTime\": \"00:00\",\n\t\t\t\"maxTime\": \"23:59\",\n\t\t\t\"onShow\": null,\n\t\t\t\"onHide\": null,\n\t\t\t\"onSelect\": null,\n\t\t\t\"allowWdays\": null,\n\t\t\t\"amPmInTimeList\": false,\n\t\t\t\"externalLocale\": null\n\t\t};\n\t};\n\n\t/**\n\t * Initialize dtpicker\n\t */\n\t$.fn.dtpicker = function(config) {\n\t\tvar date = new Date();\n\t\tvar defaults = getDefaults();\n\n\t\tif (typeof config === \"undefined\" || config.closeButton !== true) {\n\t\t\tdefaults.closeButton = false;\n\t\t}\n\n\t\tdefaults.inputObjectId = undefined;\n\t\tvar options = $.extend(defaults, config);\n\n\t\treturn this.each(function(i) {\n\t\t\tinit($(this), options);\n\t\t});\n\t};\n\n\t/**\n\t * Initialize dtpicker, append to Text input field\n\t * */\n\t$.fn.appendDtpicker = function(config) {\n\t\tvar date = new Date();\n\t\tvar defaults = getDefaults();\n\n\t\tif (typeof config !== \"undefined\" && config.inline === true && config.closeButton !==\n\t\t\ttrue) {\n\t\t\tdefaults.closeButton = false;\n\t\t}\n\n\t\tdefaults.inline = false;\n\t\tvar options = $.extend(defaults, config);\n\n\t\tif (options.externalLocale != null) {\n\t\t\tlang = $.extend(lang, options.externalLocale);\n\t\t}\n\n\t\treturn this.each(function(i) {\n\t\t\t/* Checking exist a picker */\n\t\t\tvar input = this;\n\t\t\tif (0 < $(PickerObjects[$(input).data('pickerId')]).length) {\n\t\t\t\tconsole.log(\"dtpicker - Already exist appended picker\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/* Add input-field with inputsObjects array */\n\t\t\tvar inputObjectId = InputObjects.length;\n\t\t\tInputObjects.push(input);\n\n\t\t\toptions.inputObjectId = inputObjectId;\n\n\t\t\t/* Current date */\n\t\t\tvar date, strDate, strTime;\n\t\t\tif ($(input).val() != null && $(input).val() !== \"\") {\n\t\t\t\toptions.current = $(input).val();\n\t\t\t}\n\n\t\t\t/* Make parent-div for picker */\n\t\t\tvar $d = $('<div>');\n\t\t\tif (options.inline) { // Inline mode\n\t\t\t\t$d.insertAfter(input);\n\t\t\t} else { // Float mode\n\t\t\t\t$d.css(\"position\", \"absolute\");\n\t\t\t\t$('body').append($d);\n\t\t\t}\n\n\t\t\t/* Initialize picker */\n\n\t\t\tvar pickerId = PickerObjects.length;\n\n\t\t\tvar $picker_parent = $($d).dtpicker(options); // call dtpicker() method\n\n\t\t\tvar $picker = $picker_parent.children('.datepicker');\n\n\t\t\t/* Link input-field with picker*/\n\t\t\t$(input).data('pickerId', pickerId);\n\n\t\t\t/* Set event handler to input-field */\n\n\t\t\t$(input).keyup(function() {\n\t\t\t\tvar $input = $(this);\n\t\t\t\tvar $picker = $(PickerObjects[$input.data(\n\t\t\t\t\t'pickerId')]);\n\t\t\t\tif ($input.val() != null && (\n\t\t\t\t\t\t$input.data('beforeVal') == null ||\n\t\t\t\t\t\t($input.data('beforeVal') != null &&\n\t\t\t\t\t\t\t$input.data('beforeVal') != $input.val()\n\t\t\t\t\t\t))) { /* beforeValue == null || beforeValue != nowValue  */\n\t\t\t\t\tvar format = getDateFormat($picker.data(\n\t\t\t\t\t\t'dateFormat'), $picker.data(\n\t\t\t\t\t\t'locale'), $picker.data(\n\t\t\t\t\t\t'dateOnly'), $picker.data(\n\t\t\t\t\t\t'timeOnly'));\n\t\t\t\t\tvar date = parseDate($input.val(), format);\n\t\t\t\t\t//console.log(\"dtpicker - inputKeyup - format: \" + format + \", date: \" + $input.val() + \" -> \" + date);\n\t\t\t\t\tif (date) {\n\t\t\t\t\t\tdraw_date($picker, {\n\t\t\t\t\t\t\t\"isAnim\": true,\n\t\t\t\t\t\t\t\"isOutputToInputObject\": false\n\t\t\t\t\t\t}, date);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$input.data('beforeVal', $input.val());\n\t\t\t});\n\n\t\t\t$(input).change(function() {\n\t\t\t\t$(this).trigger('keyup');\n\t\t\t});\n\n\t\t\tvar handler = new PickerHandler($picker, $(input));\n\n\t\t\tif (options.inline === true) {\n\t\t\t\t/* inline mode */\n\t\t\t\t$picker.data('isInline', true);\n\t\t\t} else {\n\t\t\t\t/* float mode */\n\t\t\t\t$picker.data('isInline', false);\n\t\t\t\t$picker_parent.css({\n\t\t\t\t\t\"zIndex\": 100\n\t\t\t\t});\n\t\t\t\t$picker.css(\"width\", \"auto\");\n\n\t\t\t\t/* Hide this picker */\n\t\t\t\t$picker.hide();\n\n\t\t\t\t/* Set onClick event handler for input-field */\n\t\t\t\t$(input).on('click, focus', function(ev) {\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tvar $input = $(this);\n\t\t\t\t\tvar $picker = $(PickerObjects[$input.data(\n\t\t\t\t\t\t'pickerId')]);\n\n\t\t\t\t\t// Generate the handler of a picker\n\t\t\t\t\tvar handler = new PickerHandler($picker,\n\t\t\t\t\t\t$input);\n\t\t\t\t\t// Get the display state of a picker\n\t\t\t\t\tvar is_showed = handler.isShow();\n\t\t\t\t\tif (!is_showed) {\n\t\t\t\t\t\t// Show a picker\n\t\t\t\t\t\thandler.show();\n\n\t\t\t\t\t\t// Call a event-hanlder\n\t\t\t\t\t\tvar func = $picker.data('onShow');\n\t\t\t\t\t\tif (func != null) {\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t\"dtpicker- Call the onShow handler\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tfunc(handler);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Set an event handler for resizing of a window\n\t\t\t\t(function(handler) {\n\t\t\t\t\t$(window).resize(function() {\n\t\t\t\t\t\thandler._relocate();\n\t\t\t\t\t});\n\t\t\t\t\t$(window).scroll(function() {\n\t\t\t\t\t\thandler._relocate();\n\t\t\t\t\t});\n\t\t\t\t})(handler);\n\t\t\t}\n\n\t\t\t// Set an event handler for removing of an input-field\n\t\t\t$(input).on('destroyed', function() {\n\t\t\t\tvar $input = $(this);\n\t\t\t\tvar $picker = $(PickerObjects[$input.data(\n\t\t\t\t\t'pickerId')]);\n\t\t\t\t// Generate the handler of a picker\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Destroy a picker\n\t\t\t\thandler.destroy();\n\t\t\t});\n\n\t\t\t// Call a event-handler\n\t\t\tvar func = $picker.data('onInit');\n\t\t\tif (func != null) {\n\t\t\t\tconsole.log(\"dtpicker- Call the onInit handler\");\n\t\t\t\tfunc(handler);\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Handle a appended dtpicker\n\t * */\n\tvar methods = {\n\t\tshow: function() {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Show a picker\n\t\t\t\thandler.show();\n\t\t\t}\n\t\t},\n\t\thide: function() {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Hide a picker\n\t\t\t\thandler.hide();\n\t\t\t}\n\t\t},\n\t\tsetDate: function(date) {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Set a date\n\t\t\t\thandler.setDate(date);\n\t\t\t}\n\t\t},\n\t\tsetMinDate: function(date) {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Set a min date\n\t\t\t\thandler.setMinDate(date);\n\t\t\t}\n\t\t},\n\t\tsetMaxDate: function(date) {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Set a max date\n\t\t\t\thandler.setMaxDate(date);\n\t\t\t}\n\t\t},\n\t\tgetDate: function() {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Get a date\n\t\t\t\treturn handler.getDate();\n\t\t\t}\n\t\t},\n\t\tdestroy: function() {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Destroy a picker\n\t\t\t\thandler.destroy();\n\t\t\t}\n\t\t}\n\t};\n\n\t$.fn.handleDtpicker = function(method) {\n\t\tif (methods[method]) {\n\t\t\treturn methods[method].apply(this, Array.prototype.slice.call(\n\t\t\t\targuments, 1));\n\t\t} else if (typeof method === 'object' || !method) {\n\t\t\treturn methods.init.apply(this, arguments);\n\t\t} else {\n\t\t\t$.error('Method ' + method +\n\t\t\t\t' does not exist on jQuery.handleDtpicker');\n\t\t}\n\t};\n\n\tif (!window.console) { // Not available a console on this environment.\n\t\twindow.console = {};\n\t\twindow.console.log = function() {};\n\t}\n\n\t/* Define a special event for catch when destroy of an input-field. */\n\t$.event.special.destroyed = {\n\t\tremove: function(o) {\n\t\t\tif (o.handler) {\n\t\t\t\to.handler.apply(this, arguments);\n\t\t\t}\n\t\t}\n\t};\n\n\t/* Set event handler to Body element, for hide a floated-picker */\n\t$(function() {\n\t\t$('body').click(function(e) {\n\t\t\tfor (var i = 0; i < PickerObjects.length; i++) {\n\t\t\t\tvar $picker = $(PickerObjects[i]);\n\t\t\t\tif ($picker.data('inputObjectId') != null && !$picker\n\t\t\t\t\t.data('isInline') && $picker.css('display') !=\n\t\t\t\t\t'none' && !$(e.target).is('.datepicker') && !$(e.target)\n\t\t\t\t\t.is('.datepicker_header') && !$(e.target).is(\n\t\t\t\t\t\t'.next-month') && !$(e.target).is(\n\t\t\t\t\t\t'.before-month') && !$(e.target).is(\n\t\t\t\t\t\t'.icon-home')) {\n\t\t\t\t\t/* if append input-field && float picker */\n\n\t\t\t\t\t// Check overlapping of cursor and picker\n\t\t\t\t\tif ($picker.hasClass('hover')) continue;\n\n\t\t\t\t\t// Check overlapping of cursor and input-field\n\t\t\t\t\tvar $input = $(InputObjects[$picker.data(\n\t\t\t\t\t\t'inputObjectId')]);\n\t\t\t\t\tif ($input.is(':focus')) continue;\n\n\t\t\t\t\t// Hide a picker\n\t\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t\thandler.hide();\n\n\t\t\t\t\t// Call a event-hanlder\n\t\t\t\t\tvar func = $picker.data('onHide');\n\t\t\t\t\tif (func != null) {\n\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t'dtpicker- Call the onHide handler');\n\t\t\t\t\t\tfunc(handler);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n})(jQuery);\n  \n  </script>\n\n</head>\n\n<body>\n  <div id=\"date_manual\">  </div>\n\n\t<script type=\"application/javascript\">\n\t    var myScope=scope;\n\t    var dateIn = {{{date}}};\n\t    var minInterval = {{{minInterval}}};\n\t    var payload = \"{{{data}}}\";\n\t    \n\t    function myDate (dateIn) {\n            var d = new Date(dateIn);\t        \n            var dateOut= {\n                yyyy: d.getFullYear(),\n                mon: Number((\"00\" + (d.getMonth() + 1)).slice(-2)),\n                day: Number((\"00\" + d.getDate()).slice(-2)),\n                hour:Number((\"00\" + d.getHours()).slice(-2)),\n                min: Number((\"00\" + d.getMinutes()).slice(-2)),\n                sec: Number((\"00\" + d.getSeconds()).slice(-2))\n                };\n            return dateOut;    \n\t    }\n\t    \n\t    function roundTime(timeIn, minuteBoundary) {\n            var timeOffset = Math.round(timeIn/minuteBoundary);\n            return (timeOffset*minuteBoundary)%60;\n        }\n\t\t$(function(){\n\t\t         var d = myDate(dateIn);\n\t\t         \n\t\t\t\t$('#date_manual').appendDtpicker({\n\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\"closeButton\": true,\n\t\t\t\t\t\"minuteInterval\": 1,\n\t\t\t\t\t\"todayButton\": true,\n\t\t\t\t\t//\"autodateOnStart\": false,\n\t\t\t\t\t\"onSelect\": function(handler, targetDate){\n\t                    myScope.send({reference:{{{ref}}},\n\t                    dateIn: dateIn,\n\t                    dateInObj: myDate(dateIn),\n\t                    dateOut: handler.getDate().valueOf(),\n\t                    dateOutObj: myDate(handler.getDate().valueOf()),\n\t                    payload:payload});\n//                        $('#date_manual').handleDtpicker('destroy');\n        \t            },  \n\t\t\t\t});\n\t\t\t\t$('#date_manual').handleDtpicker('setDate',new Date(d.yyyy, d.mon, d.day, d.hour, roundTime(d.min,5), 0));\n    \t});\n\t</script>\n</body>\n</html>\n\n","output":"str","x":470,"y":160,"wires":[["4abbd1c4.b7fea8"]]},{"id":"3182d088.adabc8","type":"ui_ui_control","z":"129957c7.544ac8","name":"","x":800,"y":200,"wires":[[]]},{"id":"4d8316e6.2348e8","type":"comment","z":"129957c7.544ac8","name":"","info":"<!DOCTYPE html>\n<html>\n<head>\n  <style  type=\"text/css\"> {{{css}}} </style>\n  <script type=\"application/javascript\"> {{{jquery}}} </script>\n  <script type=\"application/javascript\"> {{{js}}} </script>\n</head>\n\n<body>\n\t<div id=\"date_manual\"> </div>\n\t<script type=\"application/javascript\">\n\t    var myScope=scope;\n\t    var dateIn = {{{date}}};\n\t    var minInterval = {{{minInterval}}};\n\t    var payload = \"{{{payload}}}\";\n\t    \n\t    function myDate (dateIn) {\n            var d = new Date(dateIn);\t        \n            var dateOut= {\n                yyyy: d.getFullYear(),\n                mon: Number((\"00\" + (d.getMonth() + 1)).slice(-2)),\n                day: Number((\"00\" + d.getDate()).slice(-2)),\n                hour:Number((\"00\" + d.getHours()).slice(-2)),\n                min: Number((\"00\" + d.getMinutes()).slice(-2)),\n                sec: Number((\"00\" + d.getSeconds()).slice(-2))\n                };\n            return dateOut;    \n\t    }\n\t    \n\t    function roundTime(timeIn, minuteBoundary) {\n            var timeOffset = Math.round(timeIn/minuteBoundary);\n            return (timeOffset*minuteBoundary)%60;\n        }\n\t\t$(function(){\n\t\t         var d = myDate(dateIn);\n\t\t         \n\t\t\t\t$('#date_manual').appendDtpicker({\n\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\"closeButton\": true,\n\t\t\t\t\t\"minuteInterval\": 1,\n\t\t\t\t\t\"todayButton\": true,\n\t\t\t\t\t//\"autodateOnStart\": false,\n\t\t\t\t\t\"onSelect\": function(handler, targetDate){\n\t                    myScope.send({reference:{{{ref}}},\n\t                    dateIn: dateIn,\n\t                    dateInObj: myDate(dateIn),\n\t                    dateOut: handler.getDate().valueOf(),\n\t                    dateOutObj: myDate(handler.getDate().valueOf()),\n\t                    payload:payload});\n//                        $('#date_manual').handleDtpicker('destroy');\n        \t            },  \n\t\t\t\t});\n\t\t\t\t$('#date_manual').handleDtpicker('setDate',new Date(d.yyyy, d.mon, d.day, d.hour, roundTime(d.min,15), 0));\n    \t});\n\t</script>\n</body>\n</html>\n\n","x":120,"y":360,"wires":[]},{"id":"c8cfa73f.a79d48","type":"file in","z":"129957c7.544ac8","name":"","filename":"/http/datepicker2/jquery.simple-dtpicker.css","format":"utf8","chunk":false,"sendError":false,"encoding":"none","x":270,"y":640,"wires":[["b7dbf054.5d5af"]]},{"id":"9f58d132.749f9","type":"file in","z":"129957c7.544ac8","name":"","filename":"/http/datepicker2/jquery.simple-dtpicker.js","format":"utf8","chunk":false,"sendError":false,"encoding":"none","x":260,"y":680,"wires":[["d7aa4abf.1da82"]]},{"id":"cca6871.c366b78","type":"file in","z":"129957c7.544ac8","name":"","filename":"/http/datepicker2/jquery.min.js","format":"utf8","chunk":false,"sendError":false,"encoding":"none","x":230,"y":600,"wires":[["10af0e1.fdaa4f2"]]},{"id":"2536491d.21fcb6","type":"inject","z":"129957c7.544ac8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":160,"y":760,"wires":[["9f58d132.749f9","c8cfa73f.a79d48","cca6871.c366b78"]]},{"id":"10af0e1.fdaa4f2","type":"base64","z":"129957c7.544ac8","name":"","action":"","property":"payload","x":520,"y":600,"wires":[["64609aff.c2c6ac"]]},{"id":"b7dbf054.5d5af","type":"base64","z":"129957c7.544ac8","name":"","action":"","property":"payload","x":520,"y":640,"wires":[["f6f380c.ac515"]]},{"id":"d7aa4abf.1da82","type":"base64","z":"129957c7.544ac8","name":"","action":"","property":"payload","x":520,"y":680,"wires":[["30a9686d.7192e"]]},{"id":"64609aff.c2c6ac","type":"file","z":"129957c7.544ac8","name":"","filename":"/http/datepicker2/jquery.min.js.base64","appendNewline":false,"createDir":false,"overwriteFile":"true","encoding":"none","x":770,"y":600,"wires":[[]]},{"id":"f6f380c.ac515","type":"file","z":"129957c7.544ac8","name":"","filename":"/http/datepicker2/jquery.simple-dtpicker.css.base64","appendNewline":false,"createDir":false,"overwriteFile":"true","encoding":"none","x":810,"y":640,"wires":[[]]},{"id":"30a9686d.7192e","type":"file","z":"129957c7.544ac8","name":"","filename":"/http/datepicker2/jquery.simple-dtpicker.js.base64","appendNewline":false,"createDir":false,"overwriteFile":"true","encoding":"none","x":810,"y":680,"wires":[[]]},{"id":"736a8a7b.8423e4","type":"debug","z":"129957c7.544ac8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":1070,"y":160,"wires":[]},{"id":"57e28949.9f39a8","type":"comment","z":"129957c7.544ac8","name":"convert files to base64","info":"","x":360,"y":520,"wires":[]},{"id":"cda1cd04.1f58a","type":"file in","z":"129957c7.544ac8","name":"","filename":"/http/datepicker2/jquery.simple-dtpicker.min.js","format":"utf8","chunk":false,"sendError":false,"encoding":"none","x":380,"y":920,"wires":[["b0df893e.8b13c"]]},{"id":"34d2dad7.0bccc6","type":"function","z":"129957c7.544ac8","name":"js - jquery library","func":"msg.js=\"\";\nmsg.payload = msg.js\n//.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":980,"wires":[[]]},{"id":"4054179d.d37aa8","type":"inject","z":"129957c7.544ac8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":100,"y":960,"wires":[["cda1cd04.1f58a","34d2dad7.0bccc6","aebca5ea.6d444"]]},{"id":"b0df893e.8b13c","type":"file","z":"129957c7.544ac8","name":"","filename":"/http/datepicker2/works2.log","appendNewline":false,"createDir":false,"overwriteFile":"true","encoding":"none","x":780,"y":920,"wires":[[]]},{"id":"5a91b698.b33ab","type":"file","z":"129957c7.544ac8","name":"","filename":"/http/datepicker2/no_works2.log","appendNewline":false,"createDir":false,"overwriteFile":"true","encoding":"ascii","x":790,"y":960,"wires":[[]]},{"id":"aebca5ea.6d444","type":"function","z":"129957c7.544ac8","name":"js - jquery library","func":"msg.js=`\n(function($) {\n\tvar lang = {\n\t\ten: {\n\t\t\tdays: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\",\n\t\t\t\t\"Sep\", \"Oct\", \"Nov\", \"Dec\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'Previous month',\n\t\t\tnextMonth: 'Next month',\n\t\t\ttoday: 'Today'\n\t\t},\n\t\tro: {\n\t\t\tdays: ['Dum', 'Lun', 'Mar', 'Mie', 'Joi', 'Vin', 'Sâm'],\n\t\t\tmonths: ['Ian', 'Feb', 'Mar', 'Apr', 'Mai', 'Iun', 'Iul', 'Aug',\n\t\t\t\t'Sep', 'Oct', 'Nov', 'Dec'\n\t\t\t],\n\t\t\tsep: '.',\n\t\t\tformat: 'DD.MM.YYYY hh:mm',\n\t\t\tprevMonth: 'Luna precedentă',\n\t\t\tnextMonth: 'Luna următoare',\n\t\t\ttoday: 'Azi'\n\t\t},\n\n\t\tja: {\n\t\t\tdays: ['日', '月', '火', '水', '木', '金', '土'],\n\t\t\tmonths: [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\",\n\t\t\t\t\"11\", \"12\"\n\t\t\t],\n\t\t\tsep: '/',\n\t\t\tformat: 'YYYY/MM/DD hh:mm'\n\t\t},\n\t\tru: {\n\t\t\tdays: ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],\n\t\t\tmonths: [\"Янв\", \"Фев\", \"Мар\", \"Апр\", \"Май\", \"Июн\", \"Июл\", \"Авг\",\n\t\t\t\t\"Сен\", \"Окт\", \"Ноя\", \"Дек\"\n\t\t\t],\n\t\t\tformat: 'DD.MM.YYYY hh:mm'\n\t\t},\n\t\tbr: {\n\t\t\tdays: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb'],\n\t\t\tmonths: [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\",\n\t\t\t\t\"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\",\n\t\t\t\t\"Dezembro\"\n\t\t\t],\n\t\t\tformat: 'DD/MM/YYYY hh:mm'\n\t\t},\n\t\tpt: {\n\t\t\tdays: ['dom', 'seg', 'ter', 'qua', 'qui', 'sex', 'sáb'],\n\t\t\tmonths: [\"janeiro\", \"fevereiro\", \"março\", \"abril\", \"maio\", \"junho\",\n\t\t\t\t\"julho\", \"agosto\", \"setembro\", \"outubro\", \"novembro\",\n\t\t\t\t\"dezembro\"\n\t\t\t]\n\t\t},\n\t\tcn: {\n\t\t\tdays: ['日', '一', '二', '三', '四', '五', '六'],\n\t\t\tmonths: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\",\n\t\t\t\t\"十一月\", \"十二月\"\n\t\t\t]\n\t\t},\n\t\tda: {\n\t\t\tdays: ['Sø', 'Ma', 'Ti', 'On', 'To', 'Fr', 'Lø'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Juni\", \"Juli\", \"Aug\",\n\t\t\t\t\"Sept\", \"Okt\", \"Nov\", \"Dec\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'DD-MM-YYYY hh:mm',\n\t\t\tprevMonth: 'Forrige måned',\n\t\t\tnextMonth: 'Næste måned',\n\t\t\ttoday: 'I dag'\n\t\t},\n\t\tde: {\n\t\t\tdays: ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"März\", \"Apr\", \"Mai\", \"Juni\", \"Juli\", \"Aug\",\n\t\t\t\t\"Sept\", \"Okt\", \"Nov\", \"Dez\"\n\t\t\t],\n\t\t\tformat: 'DD.MM.YYYY hh:mm'\n\t\t},\n\t\tsv: {\n\t\t\tdays: ['Sö', 'Må', 'Ti', 'On', 'To', 'Fr', 'Lö'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Juni\", \"Juli\", \"Aug\",\n\t\t\t\t\"Sept\", \"Okt\", \"Nov\", \"Dec\"\n\t\t\t]\n\t\t},\n\t\tid: {\n\t\t\tdays: ['Min', 'Sen', 'Sel', 'Rab', 'Kam', 'Jum', 'Sab'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mei\", \"Jun\", \"Jul\", \"Agu\",\n\t\t\t\t\"Sep\", \"Okt\", \"Nov\", \"Des\"\n\t\t\t]\n\t\t},\n\t\tit: {\n\t\t\tdays: ['Dom', 'Lun', 'Mar', 'Mer', 'Gio', 'Ven', 'Sab'],\n\t\t\tmonths: [\"Gen\", \"Feb\", \"Mar\", \"Apr\", \"Mag\", \"Giu\", \"Lug\", \"Ago\",\n\t\t\t\t\"Set\", \"Ott\", \"Nov\", \"Dic\"\n\t\t\t],\n\t\t\tformat: 'DD/MM/YYYY hh:mm'\n\t\t},\n\t\ttr: {\n\t\t\tdays: ['Pz', 'Pzt', 'Sal', 'Çar', 'Per', 'Cu', 'Cts'],\n\t\t\tmonths: [\"Ock\", \"Şub\", \"Mar\", \"Nis\", \"May\", \"Haz\", \"Tem\", \"Agu\",\n\t\t\t\t\"Eyl\", \"Ekm\", \"Kas\", \"Arlk\"\n\t\t\t]\n\t\t},\n\t\tes: {\n\t\t\tdays: ['dom', 'lun', 'mar', 'miér', 'jue', 'vie', 'sáb'],\n\t\t\tmonths: [\"ene\", \"feb\", \"mar\", \"abr\", \"may\", \"jun\", \"jul\", \"ago\",\n\t\t\t\t\"sep\", \"oct\", \"nov\", \"dic\"\n\t\t\t],\n\t\t\tformat: 'DD/MM/YYYY hh:mm'\n\t\t},\n\t\tko: {\n\t\t\tdays: ['일', '월', '화', '수', '목', '금', '토'],\n\t\t\tmonths: [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\",\n\t\t\t\t\"11\", \"12\"\n\t\t\t],\n\t\t\tsep: '/',\n\t\t\tprevMonth: '이전 달',\n\t\t\tnextMonth: '다음 달',\n\t\t\ttoday: '오늘'\n\t\t},\n\t\tnl: {\n\t\t\tdays: ['zo', 'ma', 'di', 'wo', 'do', 'vr', 'za'],\n\t\t\tmonths: [\"jan\", \"feb\", \"mrt\", \"apr\", \"mei\", \"jun\", \"jul\", \"aug\",\n\t\t\t\t\"sep\", \"okt\", \"nov\", \"dec\"\n\t\t\t],\n\t\t\tformat: 'DD-MM-YYYY hh:mm'\n\t\t},\n\t\tno: {\n\t\t\tdays: ['Søn', 'Man', 'Tir', 'Ons', 'Tor', 'Fre', 'Lør'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mi\", \"Jun\", \"Jul\", \"Aug\", \"Sep\",\n\t\t\t\t\"Okt\", \"Nov\", \"Des\"\n\t\t\t],\n\t\t\tsep: '.',\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'Forrige Måned',\n\t\t\tnextMonth: 'Neste Måned',\n\t\t\ttoday: 'I dag'\n\t\t},\n\t\tcz: {\n\t\t\tdays: ['Ne', 'Po', 'Út', 'St', 'Čt', 'Pá', 'So'],\n\t\t\tmonths: [\"Led\", \"Úno\", \"Bře\", \"Dub\", \"Kvě\", \"Čer\", \"Čvc\", \"Srp\",\n\t\t\t\t\"Zář\", \"Říj\", \"Lis\", \"Pro\"\n\t\t\t],\n\t\t\tformat: 'DD.MM.YYYY hh:mm'\n\t\t},\n\t\tfr: {\n\t\t\tdays: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],\n\t\t\tmonths: [\"Janvier\", \"Février\", \"Mars\", \"Avril\", \"Mai\", \"Juin\",\n\t\t\t\t\"Juillet\", \"Août\", \"Septembre\", \"Octobre\", \"Novembre\",\n\t\t\t\t\"Décembre\"\n\t\t\t],\n\t\t\tformat: 'DD-MM-YYYY hh:mm'\n\t\t},\n\t\tpl: {\n\t\t\tdays: ['N', 'Pn', 'Wt', 'Śr', 'Cz', 'Pt', 'So'],\n\t\t\tmonths: [\"Styczeń\", \"Luty\", \"Marzec\", \"Kwiecień\", \"Maj\", \"Czerwiec\",\n\t\t\t\t\"Lipiec\", \"Sierpień\", \"Wrzesień\", \"Październik\", \"Listopad\",\n\t\t\t\t\"Grudzień\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'Poprzedni miesiąc',\n\t\t\tnextMonth: 'Następny miesiąc',\n\t\t\ttoday: 'Dzisiaj'\n\t\t},\n\t\tgr: {\n\t\t\tdays: ['Κυ', 'Δε', 'Τρ', 'Τε', 'Πε', 'Πα', 'Σα'],\n\t\t\tmonths: [\"Ιαν\", \"Φεβ\", \"Μαρ\", \"Απρ\", \"Μαϊ\", \"Ιουν\", \"Ιουλ\", \"Αυγ\",\n\t\t\t\t\"Σεπ\", \"Οκτ\", \"Νοε\", \"Δεκ\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'DD-MM-YYYY hh:mm',\n\t\t\tprevMonth: 'Προηγ. μήνας',\n\t\t\tnextMonth: 'Επόμ. μήνας',\n\t\t\ttoday: 'Σήμερα'\n\t\t},\n\t\tua: {\n\t\t\tdays: [\"Неділя\", \"Понеділок\", \"Вівторок\", \"Cереда\", \"Четвер\",\n\t\t\t\t\"П'ятниця\", \"Субота\"\n\t\t\t],\n\t\t\tmonths: [\"Cічень\", \"Лютий\", \"Березень\", \"Квітень\", \"Травень\",\n\t\t\t\t\"Червня\", \"Липня\", \"Серпня\", \"Вересня\", \"Жовтень\",\n\t\t\t\t\"Листопада\", \"Грудня\"\n\t\t\t],\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'Попередній місяць',\n\t\t\tnextMonth: 'Наступний місяць',\n\t\t\ttoday: 'Cьогодні'\n\t\t},\n\t\tet: {\n\t\t\tdays: ['P', 'E', 'T', 'K', 'N', 'R', 'L'],\n\t\t\tmonths: [\"Jaan\", \"Veebr\", \"Märts\", \"Apr\", \"Mai\", \"Juun\", \"Juul\",\n\t\t\t\t\"Aug\", \"Sept\", \"Okt\", \"Nov\", \"Dets\"\n\t\t\t],\n\t\t\tsep: '.',\n\t\t\tformat: 'DD.MM.YYYY hh:mm',\n\t\t\tprevMonth: 'Eelmine kuu',\n\t\t\tnextMonth: 'Järgmine kuu',\n\t\t\ttoday: 'Täna'\n\t\t},\n\t\thu: {\n\t\t\tdays: ['Va', 'Hé', 'Ke', 'Sze', 'Cs', 'Pé', 'Szo'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Már\", \"Ápr\", \"Máj\", \"Jún\", \"Júl\", \"Aug\",\n\t\t\t\t\"Szep\", \"Okt\", \"Nov\", \"Dec\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'YYYY-MM-DD hh:mm:00',\n\t\t\tprevMonth: 'Előző hónap',\n\t\t\tnextMonth: 'Következő hónap',\n\t\t\ttoday: 'Ma'\n\t\t},\n\t\tfa: {\n\t\t\tdays: ['یکشنبه', 'دوشنبه', 'سه شنبه', 'چهارشنبه', 'پنج شنبه', 'جمعه',\n\t\t\t\t'شنبه'\n\t\t\t],\n\t\t\tmonths: [\"ژانویه\", \"فبریه\", \"مارچ\", \"آپریل\", \"می\", \"ژوئن\", \"جولای\",\n\t\t\t\t\"آگوست\", \"سپتامبر\", \"اکتبر\", \"نوامبر\", \"دسامبر\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'ماه قبل',\n\t\t\tnextMonth: 'ماه بعد',\n\t\t\ttoday: 'امروز'\n\t\t},\n\t\tlv: {\n\t\t\tdays: ['Sv', 'P', 'O', 'T', 'C', 'P', 'S'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mai\", \"Jūn\", \"Jūl\", \"Avg\",\n\t\t\t\t\"Sep\", \"Okt\", \"Nov\", \"Dec\"\n\t\t\t],\n\t\t\tformat: 'DD.MM.YYYY hh:mm'\n\t\t},\n\t\tlt: {\n\t\t\tdays: ['Pr', 'A', 'T', 'K', 'P', 'Š', 'S'],\n\t\t\tmonths: [\"Saus.\", \"Vas.\", \"Kovas\", \"Bal.\", \"Geg.\", \"Birž.\", \"Liepa\",\n\t\t\t\t\"Rugp.\", \"Rugs.\", \"Spal.\", \"Lapkr.\", \"Gruod.\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'Praeitas mėnesis',\n\t\t\tnextMonth: 'Sekantis mėnesis',\n\t\t\ttoday: 'Šiandien'\n\t\t},\n\t\tis: {\n\t\t\tdays: ['Su', 'Má', 'Þr', 'Mi', 'Fi', 'Fö', 'La'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maí\", \"Jún\", \"Júl\", \"Ágú\",\n\t\t\t\t\"Sep\", \"Okt\", \"Nóv\", \"Des\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'Fyrri mánuður',\n\t\t\tnextMonth: 'Næsti mánuður',\n\t\t\ttoday: 'Í dag'\n\t\t},\n\t\tfi: {\n\t\t\tdays: ['Su', 'Ma', 'Ti', 'Ke', 'To', 'Pe', 'La'],\n\t\t\tmonths: [\"Tammikuu\", \"Helmikuu\", \"Maaliskuu\", \"Huhtikuu\", \"Toukokuu\",\n\t\t\t\t\"Kesäkuu\", \"Heinäkuu\", \"Elokuu\", \"Syyskuu\", \"Lokakuu\",\n\t\t\t\t\"Marraskuu\", \"Joulukuu\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'D.M.YYYY h:mm',\n\t\t\tprevMonth: 'Edellinen kuukausi',\n\t\t\tnextMonth: 'Seuraava kuukausi',\n\t\t\ttoday: 'Tänään'\n\t\t}\n\t};\n\t/* ----- */\n\n\t/**\n\t PickerHandler Object\n\t**/\n\tvar PickerHandler = function($picker, $input) {\n\t\tthis.$pickerObject = $picker;\n\t\tthis.$inputObject = $input;\n\t};\n\n\t/* Get a picker */\n\tPickerHandler.prototype.getPicker = function() {\n\t\treturn this.$pickerObject;\n\t};\n\n\t/* Get a input-field */\n\tPickerHandler.prototype.getInput = function() {\n\t\treturn this.$inputObject;\n\t};\n\n\t/* Get the display state of a picker */\n\tPickerHandler.prototype.isShow = function() {\n\t\tvar is_show = true;\n\t\tif (this.$pickerObject.css('display') == 'none') {\n\t\t\tis_show = false;\n\t\t}\n\t\treturn is_show;\n\t};\n\n\t/* Show a picker */\n\tPickerHandler.prototype.show = function() {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\n\t\t$picker.show();\n\n\t\tActivePickerId = $input.data('pickerId');\n\n\t\tif ($input != null && $picker.data('isInline') === false) { // Float mode\n\t\t\t// Relocate a picker to position of the appended input-field\n\t\t\tthis._relocate();\n\t\t}\n\t};\n\n\t/* Hide a picker */\n\tPickerHandler.prototype.hide = function() {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\t\t$picker.hide();\n\t};\n\n\t/* Get a selected date from a picker */\n\tPickerHandler.prototype.getDate = function() {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\t\treturn getPickedDate($picker);\n\t};\n\n\t/* Set a specific date to a picker */\n\tPickerHandler.prototype.setDate = function(date) {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\t\tif (!isObj('Date', date)) {\n\t\t\tdate = new Date(date);\n\t\t}\n\n\t\tdraw_date($picker, {\n\t\t\t\"isAnim\": true,\n\t\t\t\"isOutputToInputObject\": true\n\t\t}, date);\n\t};\n\n\t/* Set a specific min date to a picker and redraw */\n\tPickerHandler.prototype.setMinDate = function(date) {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\t\tif (!isObj('Date', date)) {\n\t\t\tdate = new Date(date);\n\t\t}\n\t\t$picker.data(\"minDate\", date);\n\t\tif ($input.val()) {\n\t\t\tdatepicked = new Date(getPickedDate($picker));\n\t\t\tdraw_date($picker, {\n\t\t\t\t\"isAnim\": true,\n\t\t\t\t\"isOutputToInputObject\": true\n\t\t\t}, ((datepicked > date) ? datepicked : date));\n\t\t} else {\n\t\t\tdraw_date($picker, {\n\t\t\t\t\"isAnim\": true,\n\t\t\t\t\"isOutputToInputObject\": false\n\t\t\t}, date);\n\t\t}\n\t};\n\n\t/* Set a specific max date to a picker and redraw */\n\tPickerHandler.prototype.setMaxDate = function(date) {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\t\tif (!isObj('Date', date)) {\n\t\t\tdate = new Date(date);\n\t\t}\n\t\t$picker.data(\"maxDate\", date);\n\t\tif ($input.val()) {\n\t\t\tdatepicked = new Date(getPickedDate($picker));\n\t\t\tdraw_date($picker, {\n\t\t\t\t\"isAnim\": true,\n\t\t\t\t\"isOutputToInputObject\": true\n\t\t\t}, ((datepicked < date) ? datepicked : date));\n\t\t} else {\n\t\t\tdraw_date($picker, {\n\t\t\t\t\"isAnim\": true,\n\t\t\t\t\"isOutputToInputObject\": false\n\t\t\t}, date);\n\t\t}\n\t};\n\n\t/* Destroy a picker */\n\tPickerHandler.prototype.destroy = function() {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar picker_id = $picker.data('pickerId');\n\t\tPickerObjects[picker_id] = null;\n\t\t$picker.remove();\n\t};\n\n\t/* Relocate a picker to position of the appended input-field. */\n\tPickerHandler.prototype._relocate = function() {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\n\t\tif ($input != null && $picker.data('isInline') === false) { // Float mode\n\t\t\t// Move position of a picker - vertical\n\t\t\tvar input_outer_height = $input.outerHeight({\n\t\t\t\t'margin': true\n\t\t\t});\n\t\t\tif (!isObj('Number', input_outer_height)) {\n\t\t\t\tinput_outer_height = $input.outerHeight();\n\t\t\t}\n\t\t\tvar picker_outer_height = $picker.outerHeight({\n\t\t\t\t'margin': true\n\t\t\t});\n\t\t\tif (!isObj('Number', picker_outer_height)) {\n\t\t\t\tpicker_outer_height = $picker.outerHeight();\n\t\t\t}\n\n\t\t\t// Set width to assure date and time are side by side\n\t\t\tif ($(\".datepicker_calendar\", $picker).width() !== 0 && $(\n\t\t\t\t\t\".datepicker_timelist\", $picker).width() !== 0) {\n\t\t\t\t$picker.parent().width($(\".datepicker_calendar\", $picker).width() +\n\t\t\t\t\t$(\".datepicker_timelist\", $picker).width() + 6);\n\t\t\t}\n\t\t\tif (parseInt($(window).height()) <= ($input.offset().top - $(document)\n\t\t\t\t\t.scrollTop() + input_outer_height + picker_outer_height)) {\n\t\t\t\t// Display to top of an input-field\n\t\t\t\t$picker.parent().css('top', ($input.offset().top - (\n\t\t\t\t\tinput_outer_height / 2) - picker_outer_height) + 'px');\n\t\t\t} else {\n\t\t\t\t// Display to bottom of an input-field\n\t\t\t\t$picker.parent().css('top', ($input.offset().top +\n\t\t\t\t\tinput_outer_height) + 'px');\n\t\t\t}\n\t\t\t// Move position of a picker - horizontal\n\t\t\tif ($picker.parent().width() + $input.offset().left > $(window).width() &&\n\t\t\t\t$picker.data('timeOnly') !== true) {\n\t\t\t\t// Display left side stick to window\n\t\t\t\t$picker.parent().css('left', (($(window).width() - $picker.parent()\n\t\t\t\t\t.width()) / 2) + 'px');\n\t\t\t} else {\n\t\t\t\t// Display left side stick to input\n\t\t\t\t$picker.parent().css('left', $input.offset().left + 'px');\n\t\t\t}\n\t\t\t// Display on most top of the z-index\n\t\t\t$picker.parent().css('z-index', 100000);\n\t\t}\n\t};\n\n\t/* ----- */\n\n\tvar PickerObjects = [];\n\tvar InputObjects = [];\n\tvar ActivePickerId = -1;\n\n\tvar getParentPickerObject = function(obj) {\n\t\treturn $(obj).closest('.datepicker');\n\t};\n\n\tvar getPickersInputObject = function($obj) {\n\t\tvar $picker = getParentPickerObject($obj);\n\t\tif ($picker.data(\"inputObjectId\") != null) {\n\t\t\treturn $(InputObjects[$picker.data(\"inputObjectId\")]);\n\t\t}\n\t\treturn null;\n\t};\n\n\tvar setToNow = function($obj) {\n\t\tvar $picker = getParentPickerObject($obj);\n\t\tvar date = new Date();\n\t\tvar year, month, day, hour, minute;\n\n\t\t// compare timestamps\n\t\tif ($picker.data('minDate') !== null && date < $picker.data('minDate')) {\n\t\t\tvar minDate = new Date($picker.data('minDate'));\n\t\t\tyear = minDate.getFullYear();\n\t\t\tmonth = minDate.getMonth();\n\t\t\tday = minDate.getDate();\n\t\t\thour = minDate.getHours();\n\t\t\tminute = minDate.getMinutes();\n\t\t} else if ($picker.data('maxDate') !== null && date > $picker.data(\n\t\t\t\t'maxDate')) {\n\t\t\tvar maxDate = new Date($picker.data('maxDate'));\n\t\t\tyear = maxDate.getFullYear();\n\t\t\tmonth = maxDate.getMonth();\n\t\t\tday = maxDate.getDate();\n\t\t\thour = maxDate.getHours();\n\t\t\tminute = maxDate.getMinutes();\n\t\t} else {\n\t\t\tyear = date.getFullYear();\n\t\t\tmonth = date.getMonth();\n\t\t\tday = date.getDate();\n\t\t\thour = date.getHours();\n\t\t\tminute = date.getMinutes();\n\t\t}\n\n\t\tdraw($picker, {\n\t\t\t\"isAnim\": true,\n\t\t\t\"isOutputToInputObject\": true\n\t\t}, year, month, day, hour, minute);\n\t};\n\n\tvar beforeMonth = function($obj) {\n\t\tvar $picker = getParentPickerObject($obj);\n\n\t\tif ($picker.data('stateAllowBeforeMonth') === false) { // Not allowed\n\t\t\treturn;\n\t\t}\n\n\t\tvar date = getShownDate($picker);\n\t\tvar targetMonth_lastDay = new Date(date.getFullYear(), date.getMonth(), 0)\n\t\t\t.getDate();\n\t\tif (targetMonth_lastDay < date.getDate()) {\n\t\t\tdate.setDate(targetMonth_lastDay);\n\t\t}\n\t\tdraw($picker, {\n\t\t\t\t\"isAnim\": true,\n\t\t\t\t\"isOutputToInputObject\": false,\n\t\t\t\t\"keepPickedDate\": true\n\t\t\t}, date.getFullYear(), date.getMonth() - 1, date.getDate(), date.getHours(),\n\t\t\tdate.getMinutes());\n\n\t\tvar todayDate = new Date();\n\t\tif ($picker.data(\"futureOnly\") && $picker.data(\"current\")) {\n\t\t\ttodayDate = new Date($picker.data(\"current\"));\n\t\t}\n\n\t\tvar isCurrentYear = todayDate.getFullYear() == date.getFullYear();\n\t\tvar isCurrentMonth = isCurrentYear && todayDate.getMonth() == date.getMonth();\n\n\t\tif (!isCurrentMonth || !$picker.data(\"futureOnly\")) {\n\t\t\tif (targetMonth_lastDay < date.getDate()) {\n\t\t\t\tdate.setDate(targetMonth_lastDay);\n\t\t\t}\n\t\t\tvar newdate = new Date(date.getFullYear(), date.getMonth() - 1, date.getDate(),\n\t\t\t\tdate.getHours(), date.getMinutes());\n\t\t\tif ($picker.data(\"minDate\") && newdate < $picker.data(\"minDate\"))\n\t\t\t\tnewdate = new Date($picker.data(\"minDate\"));\n\t\t\tdraw($picker, {\n\t\t\t\t\t\"isAnim\": true,\n\t\t\t\t\t\"isOutputToInputObject\": false,\n\t\t\t\t\t\"keepPickedDate\": true\n\t\t\t\t}, newdate.getFullYear(), newdate.getMonth(), newdate.getDate(),\n\t\t\t\tnewdate.getHours(), newdate.getMinutes());\n\t\t}\n\t};\n\n\tvar nextMonth = function($obj) {\n\t\tvar $picker = getParentPickerObject($obj);\n\t\tvar date = getShownDate($picker);\n\t\tvar targetMonth_lastDay = new Date(date.getFullYear(), date.getMonth() +\n\t\t\t1, 0).getDate();\n\t\tif (targetMonth_lastDay < date.getDate()) {\n\t\t\tdate.setDate(targetMonth_lastDay);\n\t\t}\n\n\t\t// Check a last date of a next month\n\t\tif (getLastDate(date.getFullYear(), date.getMonth() + 1) < date.getDate()) {\n\t\t\tdate.setDate(getLastDate(date.getFullYear(), date.getMonth() + 1));\n\t\t}\n\t\tvar newdate = new Date(date.getFullYear(), date.getMonth() + 1, date.getDate(),\n\t\t\tdate.getHours(), date.getMinutes());\n\t\tif ($picker.data(\"maxDate\") && newdate > $picker.data(\"maxDate\"))\n\t\t\tnewdate = new Date($picker.data(\"maxDate\"));\n\t\tdraw($picker, {\n\t\t\t\t\"isAnim\": true,\n\t\t\t\t\"isOutputToInputObject\": false,\n\t\t\t\t\"keepPickedDate\": true\n\t\t\t}, newdate.getFullYear(), newdate.getMonth(), newdate.getDate(),\n\t\t\tnewdate.getHours(), newdate.getMinutes());\n\t};\n\n\t/**\n\t Check a last date of a specified year and month\n\t **/\n\tvar getLastDate = function(year, month) {\n\t\tvar date = new Date(year, month + 1, 0);\n\t\treturn date.getDate();\n\t};\n\n\tvar getDateFormat = function(format, locale, is_date_only, is_time_only) {\n\t\tif (format == \"default\") {\n\t\t\t// Default format\n\t\t\tformat = translate(locale, 'format');\n\t\t\tif (is_date_only) {\n\t\t\t\t// Convert the format to date-only (ex: YYYY/MM/DD)\n\t\t\t\tformat = format.substring(0, format.search(' '));\n\t\t\t} else if (is_time_only) {\n\t\t\t\tformat = format.substring(format.search(' ') + 1);\n\t\t\t}\n\t\t}\n\t\treturn format; // Return date-format\n\t};\n\n\tvar normalizeYear = function(year) {\n\t\tif (year < 99) { // change year for 4 digits\n\t\t\tvar date = new Date();\n\t\t\treturn parseInt(year) + parseInt(date.getFullYear().toString().substr(\n\t\t\t\t0, 2) + \"00\");\n\t\t}\n\t\treturn year;\n\t};\n\tvar parseDate = function(str, opt_date_format) {\n\t\tvar re, m, date;\n\t\tif (opt_date_format != null) {\n\t\t\t// Parse date & time with date-format\n\n\t\t\t// Match a string with date format\n\t\t\tvar df = opt_date_format.replace(/hh:mm.*/, '(?:$&)?')\n\t\t\t\t.replace(/\\s/, '\\\\s?')\n\t\t\t\t.replace(/(-|\\/)/g, '[-\\/]')\n\t\t\t\t.replace(/YYYY/gi, '(\\\\d{2,4})')\n\t\t\t\t.replace(/(YY|MM|DD|HH|hh|mm)/g, '(\\\\d{1,2})')\n\t\t\t\t.replace(/(M|D|H|h|m)/g, '(\\\\d{1,2})')\n\t\t\t\t.replace(/(tt|TT)/g, '([aApP][mM])');\n\t\t\tre = new RegExp(df);\n\t\t\tm = re.exec(str);\n\t\t\tif (m != null) {\n\n\t\t\t\t// Generate the formats array (convert-table)\n\t\t\t\tvar formats = [];\n\t\t\t\tvar format_buf = '';\n\t\t\t\tvar format_before_c = '';\n\t\t\t\tvar df_ = opt_date_format;\n\t\t\t\twhile (df_ != null && 0 < df_.length) {\n\t\t\t\t\tvar format_c = df_.substring(0, 1);\n\t\t\t\t\tdf_ = df_.substring(1, df_.length);\n\t\t\t\t\tif (format_before_c != format_c) {\n\t\t\t\t\t\tif (/(YYYY|YY|MM|DD|mm|dd|M|D|HH|H|hh|h|m|tt|TT)/.test(\n\t\t\t\t\t\t\t\tformat_buf)) {\n\t\t\t\t\t\t\tformats.push(format_buf);\n\t\t\t\t\t\t\tformat_buf = '';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tformat_buf = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tformat_buf += format_c;\n\t\t\t\t\tformat_before_c = format_c;\n\t\t\t\t}\n\t\t\t\tif (format_buf !== '' &&\n\t\t\t\t\t/(YYYY|YY|MM|DD|mm|dd|M|D|HH|H|hh|h|m|tt|TT)/.test(format_buf)\n\t\t\t\t) {\n\t\t\t\t\tformats.push(format_buf);\n\t\t\t\t}\n\n\t\t\t\t// Convert a string (with convert-table) to a date object\n\t\t\t\tvar year, month, day, hour, min;\n\t\t\t\tvar is_successful = false;\n\t\t\t\tvar pm = false;\n\t\t\t\tvar H = false;\n\t\t\t\tfor (var i = 0; i < formats.length; i++) {\n\t\t\t\t\tif (m.length < i) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar f = formats[i];\n\t\t\t\t\tvar d = m[i + 1]; // Matched part of date\n\t\t\t\t\tif (f == 'YYYY') {\n\t\t\t\t\t\tyear = normalizeYear(d);\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'YY') {\n\t\t\t\t\t\tyear = parseInt(d) + 2000;\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'MM' || f == 'M') {\n\t\t\t\t\t\tmonth = parseInt(d) - 1;\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'DD' || f == 'D') {\n\t\t\t\t\t\tday = d;\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'hh' || f == 'h') {\n\t\t\t\t\t\thour = (typeof d != 'undefined') ? d : 0;\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'HH' || f == 'H') {\n\t\t\t\t\t\thour = (typeof d != 'undefined') ? d : 0;\n\t\t\t\t\t\tH = true;\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'mm' || f == 'm') {\n\t\t\t\t\t\tmin = (typeof d != 'undefined') ? d : 0;\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'tt' || f == 'TT') {\n\t\t\t\t\t\tif (d == 'pm' || d == 'PM') {\n\t\t\t\t\t\t\tpm = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (H) {\n\t\t\t\t\tif (pm) {\n\t\t\t\t\t\tif (hour != 12) {\n\t\t\t\t\t\t\thour = parseInt(hour) + 12;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (hour == 12) {\n\t\t\t\t\t\thour = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdate = new Date(year, month, day, hour, min);\n\n\t\t\t\tif (is_successful === true && isNaN(date) === false && isNaN(date\n\t\t\t\t\t\t.getDate()) === false) { // Parse successful\n\t\t\t\t\treturn date;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Parse date & time with common format\n\t\tre = /^(\\d{2,4})[-\\/](\\d{1,2})[-\\/](\\d{1,2}) (\\d{1,2}):(\\d{1,2})$/;\n\t\tm = re.exec(str);\n\t\tif (m !== null) {\n\t\t\tm[1] = normalizeYear(m[1]);\n\t\t\tdate = new Date(m[1], m[2] - 1, m[3], m[4], m[5]);\n\t\t} else {\n\t\t\t// Parse for date-only\n\t\t\tre = /^(\\d{2,4})[-\\/](\\d{1,2})[-\\/](\\d{1,2})$/;\n\t\t\tm = re.exec(str);\n\t\t\tif (m !== null) {\n\t\t\t\tm[1] = normalizeYear(m[1]);\n\t\t\t\tdate = new Date(m[1], m[2] - 1, m[3]);\n\t\t\t}\n\t\t}\n\n\t\tif (isNaN(date) === false && isNaN(date.getDate()) === false) { // Parse successful\n\t\t\treturn date;\n\t\t}\n\t\treturn false;\n\t};\n\tvar getFormattedDate = function(date, date_format) {\n\t\tif (date == null) {\n\t\t\tdate = new Date();\n\t\t}\n\n\t\tvar y = date.getFullYear();\n\t\tvar m = date.getMonth() + 1;\n\t\tvar d = date.getDate();\n\t\tvar hou = date.getHours();\n\t\tvar min = date.getMinutes();\n\n\t\tdate_format = date_format.replace(/YYYY/gi, y)\n\t\t\t.replace(/YY/g, y - 2000) /* century */\n\t\t\t.replace(/MM/g, zpadding(m))\n\t\t\t.replace(/M/g, m)\n\t\t\t.replace(/DD/g, zpadding(d))\n\t\t\t.replace(/D/g, d)\n\t\t\t.replace(/hh/g, zpadding(hou))\n\t\t\t.replace(/h/g, hou)\n\t\t\t.replace(/HH/g, (hou > 12 ? zpadding(hou - 12) : (hou < 1 ? 12 :\n\t\t\t\tzpadding(hou))))\n\t\t\t.replace(/H/g, (hou > 12 ? hou - 12 : (hou < 1 ? 12 : hou)))\n\t\t\t.replace(/mm/g, zpadding(min))\n\t\t\t.replace(/m/g, min)\n\t\t\t.replace(/tt/g, (hou >= 12 ? \"pm\" : \"am\"))\n\t\t\t.replace(/TT/g, (hou >= 12 ? \"PM\" : \"AM\"));\n\t\treturn date_format;\n\t};\n\n\tvar outputToInputObject = function($picker) {\n\t\tvar $inp = getPickersInputObject($picker);\n\t\tif ($inp == null) {\n\t\t\treturn;\n\t\t}\n\t\tvar date = getPickedDate($picker);\n\t\tvar locale = $picker.data(\"locale\");\n\t\tvar format = getDateFormat($picker.data(\"dateFormat\"), locale, $picker.data(\n\t\t\t'dateOnly'), $picker.data('timeOnly'));\n\t\tvar old = $inp.val();\n\t\t$inp.val(getFormattedDate(date, format));\n\t\tif (old != $inp.val()) { // only trigger if it actually changed to avoid a nasty loop condition\n\t\t\t$inp.trigger(\"change\");\n\t\t}\n\t};\n\n\tvar getShownDate = function($obj) {\n\t\tvar $picker = getParentPickerObject($obj);\n\t\treturn $picker.data(\"shownDate\");\n\t};\n\n\tvar getPickedDate = function($obj) {\n\t\tvar $picker = getParentPickerObject($obj);\n\t\treturn $picker.data(\"pickedDate\");\n\t};\n\n\tvar zpadding = function(num) {\n\t\tnum = (\"0\" + num).slice(-2);\n\t\treturn num;\n\t};\n\n\tvar draw_date = function($picker, option, date) {\n\t\t//console.log(\"draw_date - \" + date.toString());\n\t\tdraw($picker, option, date.getFullYear(), date.getMonth(), date.getDate(),\n\t\t\tdate.getHours(), date.getMinutes());\n\t};\n\tvar translate = function(locale, s) {\n\t\tif (typeof lang[locale][s] !== \"undefined\") {\n\t\t\treturn lang[locale][s];\n\t\t}\n\t\treturn lang.en[s];\n\t};\n\tvar draw = function($picker, option, year, month, day, hour, min) {\n\t\tvar date = new Date();\n\n\t\tif (hour != null) {\n\t\t\tdate = new Date(year, month, day, hour, min, 0);\n\t\t} else if (year != null) {\n\t\t\tdate = new Date(year, month, day);\n\t\t} else {\n\t\t\tdate = new Date();\n\t\t}\n\n\t\t/* Read options */\n\t\tvar isTodayButton = $picker.data(\"todayButton\");\n\t\tvar isCloseButton = $picker.data(\"closeButton\");\n\t\tvar isScroll = option.isAnim;\n\t\t/* It same with isAnim */\n\t\tif ($picker.data(\"timelistScroll\") === false) { // If disabled by user option.\n\t\t\tisScroll = false;\n\t\t}\n\n\t\tvar isAnim = option.isAnim;\n\t\tif ($picker.data(\"animation\") === false) { // If disabled by user option.\n\t\t\tisAnim = false;\n\t\t}\n\n\t\tvar isFutureOnly = $picker.data(\"futureOnly\");\n\t\tvar minDate = $picker.data(\"minDate\");\n\t\tvar maxDate = $picker.data(\"maxDate\");\n\n\t\tvar isOutputToInputObject = option.isOutputToInputObject;\n\t\tvar keepPickedDate = option.keepPickedDate;\n\t\tif (typeof keepPickedDate === \"undefined\") keepPickedDate = false;\n\n\t\tvar minuteInterval = $picker.data(\"minuteInterval\");\n\t\tvar firstDayOfWeek = $picker.data(\"firstDayOfWeek\");\n\n\t\tvar allowWdays = $picker.data(\"allowWdays\");\n\t\tif (allowWdays == null || isObj('Array', allowWdays) === false ||\n\t\t\tallowWdays.length <= 0) {\n\t\t\tallowWdays = null;\n\t\t}\n\n\t\tvar minTime = $picker.data(\"minTime\");\n\t\tvar maxTime = $picker.data(\"maxTime\");\n\n\t\t/* Check a specified date */\n\t\tvar todayDate = new Date();\n\n\n\t\tif (isFutureOnly) {\n\t\t\tif ($picker.data(\"current\")) {\n\t\t\t\ttodayDate = new Date($picker.data(\"current\"));\n\t\t\t}\n\t\t\tif (date.getTime() < todayDate.getTime()) { // Already passed\n\t\t\t\tdate.setTime(todayDate.getTime());\n\t\t\t}\n\t\t}\n\t\tif (allowWdays != null && allowWdays.length <= 6) {\n\t\t\twhile (true) {\n\t\t\t\tif ($.inArray(date.getDay(), allowWdays) == -1) { // Unallowed wday\n\t\t\t\t\t// Slide a date\n\t\t\t\t\tdate.setDate(date.getDate() + 1);\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/* Read locale option */\n\t\tvar locale = $picker.data(\"locale\");\n\t\tif (!lang.hasOwnProperty(locale)) {\n\t\t\tlocale = 'en';\n\t\t}\n\n\t\t/* Calculate dates */\n\t\tvar firstWday = new Date(date.getFullYear(), date.getMonth(), 1).getDay() -\n\t\t\tfirstDayOfWeek;\n\t\tvar lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n\t\tvar beforeMonthLastDay = new Date(date.getFullYear(), date.getMonth(), 0)\n\t\t\t.getDate();\n\t\tvar dateBeforeMonth = new Date(date.getFullYear(), date.getMonth(), 0);\n\t\tvar dateNextMonth = new Date(date.getFullYear(), date.getMonth() + 2, 0);\n\t\tvar isCurrentYear = todayDate.getFullYear() == date.getFullYear();\n\t\tvar isCurrentMonth = isCurrentYear && todayDate.getMonth() == date.getMonth();\n\t\tvar isCurrentDay = isCurrentMonth && todayDate.getDate() == date.getDate();\n\t\tvar isNextYear = (todayDate.getFullYear() + 1 == date.getFullYear());\n\t\tvar isNextMonth = (isCurrentYear && todayDate.getMonth() + 1 == date.getMonth()) ||\n\t\t\t(isNextYear && todayDate.getMonth() === 11 && date.getMonth() === 0);\n\t\tvar isPastMonth = false;\n\t\tif (date.getFullYear() < todayDate.getFullYear() || (isCurrentYear &&\n\t\t\t\tdate.getMonth() < todayDate.getMonth())) {\n\t\t\tisPastMonth = true;\n\t\t}\n\n\t\t/* Collect each part */\n\t\tvar $header = $picker.children('.datepicker_header');\n\t\tvar $inner = $picker.children('.datepicker_inner_container');\n\t\tvar $calendar = $picker.children('.datepicker_inner_container').children(\n\t\t\t'.datepicker_calendar');\n\t\tvar $table = $calendar.children('.datepicker_table');\n\t\tvar $timelist = $picker.children('.datepicker_inner_container').children(\n\t\t\t'.datepicker_timelist');\n\n\t\t/* Grasp a point that will be changed */\n\t\tvar changePoint = \"\";\n\t\tvar oldDate = getPickedDate($picker);\n\t\tif (oldDate != null) {\n\t\t\tif (oldDate.getMonth() != date.getMonth() || oldDate.getDate() !=\n\t\t\t\tdate.getDate()) {\n\t\t\t\tchangePoint = \"calendar\";\n\t\t\t} else if (oldDate.getHours() != date.getHours() || oldDate.getMinutes() !=\n\t\t\t\tdate.getMinutes()) {\n\t\t\t\tif (date.getMinutes() === 0 || date.getMinutes() % minuteInterval ===\n\t\t\t\t\t0) {\n\t\t\t\t\tchangePoint = \"timelist\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/* Save newly date to Picker data */\n\t\tif (keepPickedDate === false) {\n\t\t\t$($picker).data(\"pickedDate\", date);\n\t\t}\n\t\t$($picker).data(\"shownDate\", date);\n\n\t\t/* Fade-out animation */\n\t\tif (isAnim === true) {\n\t\t\tif (changePoint == \"calendar\") {\n\t\t\t\t$calendar.stop().queue([]);\n\t\t\t\t$calendar.fadeTo(\"fast\", 0.8);\n\t\t\t} else if (changePoint == \"timelist\") {\n\t\t\t\t$timelist.stop().queue([]);\n\t\t\t\t$timelist.fadeTo(\"fast\", 0.8);\n\t\t\t}\n\t\t}\n\t\t/* Remind timelist scroll state */\n\t\tvar drawBefore_timeList_scrollTop = $timelist.scrollTop();\n\n\t\t/* New timelist  */\n\t\tvar timelist_activeTimeCell_offsetTop = -1;\n\n\t\t/* Header ----- */\n\t\t$header.children().remove();\n\n\t\tvar cDate = new Date(date.getTime());\n\t\tcDate.setMinutes(59);\n\t\tcDate.setHours(23);\n\t\tcDate.setSeconds(59);\n\t\tcDate.setDate(0); // last day of previous month\n\n\t\tvar $link_before_month = null;\n\t\tif ((!isFutureOnly || !isCurrentMonth) && ((minDate == null) || (minDate <\n\t\t\t\tcDate.getTime()))) {\n\t\t\t$link_before_month = $('<a>');\n\t\t\t$link_before_month.text('<');\n\t\t\t$link_before_month.prop('alt', translate(locale, 'prevMonth'));\n\t\t\t$link_before_month.prop('title', translate(locale, 'prevMonth'));\n\t\t\t$link_before_month.prop('class', \"before-month\");\n\t\t\t$link_before_month.click(function() {\n\t\t\t\tbeforeMonth($picker);\n\t\t\t});\n\t\t\t$picker.data('stateAllowBeforeMonth', true);\n\t\t} else {\n\t\t\t$picker.data('stateAllowBeforeMonth', false);\n\t\t}\n\n\t\tcDate.setMinutes(0);\n\t\tcDate.setHours(0);\n\t\tcDate.setSeconds(0);\n\t\tcDate.setDate(1); // First day of next month\n\t\tcDate.setMonth(date.getMonth() + 1);\n\n\t\tvar $now_month = $('<span>');\n\t\t$now_month.text(date.getFullYear() + \" \" + translate(locale, 'sep') + \" \" +\n\t\t\ttranslate(locale, 'months')[date.getMonth()]);\n\n\t\tvar $link_next_month = null;\n\t\tif ((maxDate == null) || (maxDate > cDate.getTime())) {\n\t\t\t$link_next_month = $('<a>');\n\t\t\t$link_next_month.text('>');\n\t\t\t$link_next_month.prop('alt', translate(locale, 'nextMonth'));\n\t\t\t$link_next_month.prop('title', translate(locale, 'nextMonth'));\n\t\t\t$link_next_month.prop('class', \"next-month\");\n\t\t\t$link_next_month.click(function() {\n\t\t\t\tnextMonth($picker);\n\t\t\t});\n\t\t}\n\n\t\tif (isTodayButton) {\n\t\t\tvar $link_today = $('<a><div/></a>');\n\t\t\t$link_today.addClass('icon-home');\n\t\t\t$link_today.prop('alt', translate(locale, 'today'));\n\t\t\t$link_today.prop('title', translate(locale, 'today'));\n\t\t\t$link_today.click(function() {\n\t\t\t\tsetToNow($picker);\n\t\t\t});\n\t\t\t$header.append($link_today);\n\t\t}\n\t\tif (isCloseButton) {\n\t\t\tvar $link_close = $('<a><div/></a>');\n\t\t\t$link_close.addClass('icon-close');\n\t\t\t$link_close.prop('alt', translate(locale, 'close'));\n\t\t\t$link_close.prop('title', translate(locale, 'close'));\n\t\t\t$link_close.click(function() {\n\t\t\t\t$picker.hide();\n\t\t\t});\n\t\t\t$header.append($link_close);\n\t\t}\n\n\t\tif ($link_before_month != null) {\n\t\t\t$header.append($link_before_month);\n\t\t}\n\t\t$header.append($now_month);\n\t\tif ($link_next_month != null) {\n\t\t\t$header.append($link_next_month);\n\t\t}\n\n\t\t/* Calendar > Table ----- */\n\t\t$table.children().remove();\n\t\tvar $tr = $('<tr>');\n\t\t$table.append($tr);\n\n\t\t/* Output wday cells */\n\t\tvar firstDayDiff = 7 + firstDayOfWeek;\n\t\tvar daysOfWeek = translate(locale, 'days');\n\t\tvar $td;\n\t\tfor (var i = 0; i < 7; i++) {\n\t\t\t$td = $('<th>');\n\t\t\t$td.text(daysOfWeek[((i + firstDayDiff) % 7)]);\n\t\t\t$tr.append($td);\n\t\t}\n\n\t\t/* Output day cells */\n\t\tvar cellNum = Math.ceil((firstWday + lastDay) / 7) * 7;\n\t\ti = 0;\n\t\tif (firstWday < 0) {\n\t\t\ti = -7;\n\t\t}\n\t\tvar realDayObj = new Date(date.getTime());\n\t\trealDayObj.setHours(0);\n\t\trealDayObj.setMinutes(0);\n\t\trealDayObj.setSeconds(0);\n\t\tvar pickedDate = getPickedDate($picker);\n\t\tvar shownDate = getShownDate($picker);\n\t\tvar $tbody = $('<tbody>');\n\t\t$table.append($tbody).children(\"tbody\");\n\t\tfor (var zz = 0; i < cellNum; i++) {\n\t\t\tvar realDay = i + 1 - firstWday;\n\n\t\t\tvar isPast = isPastMonth ||\n\t\t\t\t(isCurrentMonth && realDay < todayDate.getDate()) ||\n\t\t\t\t(isNextMonth && firstWday > i && (beforeMonthLastDay + realDay) <\n\t\t\t\t\ttodayDate.getDate());\n\n\t\t\tif (i % 7 === 0) {\n\t\t\t\t$tr = $('<tr>');\n\t\t\t\t$tbody.append($tr);\n\t\t\t}\n\n\t\t\t$td = $('<td>');\n\t\t\t$td.data(\"day\", realDay);\n\n\t\t\t$tr.append($td);\n\n\t\t\tif (firstWday > i) { /* Before months day */\n\t\t\t\t$td.text(beforeMonthLastDay + realDay);\n\t\t\t\t$td.addClass('day_another_month');\n\t\t\t\t$td.data(\"dateStr\", dateBeforeMonth.getFullYear() + \"/\" + (\n\t\t\t\t\tdateBeforeMonth.getMonth() + 1) + \"/\" + (\n\t\t\t\t\tbeforeMonthLastDay + realDay));\n\t\t\t\trealDayObj.setDate(beforeMonthLastDay + realDay);\n\t\t\t\trealDayObj.setMonth(dateBeforeMonth.getMonth());\n\t\t\t\trealDayObj.setYear(dateBeforeMonth.getFullYear());\n\t\t\t} else if (i < firstWday + lastDay) { /* Now months day */\n\t\t\t\t$td.text(realDay);\n\t\t\t\t$td.data(\"dateStr\", (date.getFullYear()) + \"/\" + (date.getMonth() +\n\t\t\t\t\t1) + \"/\" + realDay);\n\t\t\t\trealDayObj.setDate(realDay);\n\t\t\t\trealDayObj.setMonth(date.getMonth());\n\t\t\t\trealDayObj.setYear(date.getFullYear());\n\t\t\t} else { /* Next months day */\n\t\t\t\t$td.text(realDay - lastDay);\n\t\t\t\t$td.addClass('day_another_month');\n\t\t\t\t$td.data(\"dateStr\", dateNextMonth.getFullYear() + \"/\" + (\n\t\t\t\t\tdateNextMonth.getMonth() + 1) + \"/\" + (realDay -\n\t\t\t\t\tlastDay));\n\t\t\t\trealDayObj.setDate(realDay - lastDay);\n\t\t\t\trealDayObj.setMonth(dateNextMonth.getMonth());\n\t\t\t\trealDayObj.setYear(dateNextMonth.getFullYear());\n\t\t\t}\n\n\t\t\t/* Check a wday */\n\t\t\tvar wday = ((i + firstDayDiff) % 7);\n\t\t\tif (allowWdays != null) {\n\t\t\t\tif ($.inArray(wday, allowWdays) == -1) {\n\t\t\t\t\t$td.addClass('day_in_unallowed');\n\t\t\t\t\tcontinue; // Skip\n\t\t\t\t}\n\t\t\t} else if (wday === 0) { /* Sunday */\n\t\t\t\t$td.addClass('wday_sun');\n\t\t\t} else if (wday == 6) { /* Saturday */\n\t\t\t\t$td.addClass('wday_sat');\n\t\t\t}\n\n\t\t\t/* Set a special mark class */\n\t\t\tif (shownDate.getFullYear() == pickedDate.getFullYear() && shownDate.getMonth() ==\n\t\t\t\tpickedDate.getMonth() && realDay == pickedDate.getDate()) { /* selected day */\n\t\t\t\t$td.addClass('active');\n\t\t\t}\n\n\t\t\tif (isCurrentMonth && realDay == todayDate.getDate()) { /* today */\n\t\t\t\t$td.addClass('today');\n\t\t\t}\n\n\t\t\tvar realDayObjMN = new Date(realDayObj.getTime());\n\t\t\trealDayObjMN.setHours(23);\n\t\t\trealDayObjMN.setMinutes(59);\n\t\t\trealDayObjMN.setSeconds(59);\n\n\t\t\tif (\n\t\t\t\t// compare to 23:59:59 on the current day (if MIN is 1pm, then we still need to show this day\n\t\t\t\t((minDate != null) && (minDate > realDayObjMN.getTime())) || ((\n\t\t\t\t\tmaxDate != null) && (maxDate < realDayObj.getTime())) // compare to 00:00:00\n\t\t\t) { // Out of range day\n\t\t\t\t$td.addClass('out_of_range');\n\t\t\t} else if (isFutureOnly && isPast) { // Past day\n\t\t\t\t$td.addClass('day_in_past');\n\t\t\t} else {\n\t\t\t\t/* Set event-handler to day cell */\n\t\t\t\t$td.click(function(ev) {\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tif ($(this).hasClass('hover')) {\n\t\t\t\t\t\t$(this).removeClass('hover');\n\t\t\t\t\t}\n\t\t\t\t\t$(this).addClass('active');\n\n\t\t\t\t\tvar $picker = getParentPickerObject($(this));\n\t\t\t\t\tvar targetDate = new Date($(this).data(\"dateStr\"));\n\t\t\t\t\tvar selectedDate = getPickedDate($picker);\n\t\t\t\t\tdraw($picker, {\n\t\t\t\t\t\t\t\"isAnim\": false,\n\t\t\t\t\t\t\t\"isOutputToInputObject\": true\n\t\t\t\t\t\t}, targetDate.getFullYear(), targetDate.getMonth(),\n\t\t\t\t\t\ttargetDate.getDate(), selectedDate.getHours(),\n\t\t\t\t\t\tselectedDate.getMinutes());\n\n\t\t\t\t\t// Generate the handler of a picker\n\t\t\t\t\tvar $input = $(this);\n\t\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\n\t\t\t\t\t// Call a event-hanlder for onSelect\n\t\t\t\t\tvar func = $picker.data('onSelect');\n\t\t\t\t\tif (func != null) {\n\t\t\t\t\t\tfunc(handler, targetDate);\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($picker.data(\"dateOnly\") === true && $picker.data(\n\t\t\t\t\t\t\t\"isInline\") === false && $picker.data(\n\t\t\t\t\t\t\t\"closeOnSelected\")) {\n\t\t\t\t\t\t// Close a picker\n\t\t\t\t\t\tActivePickerId = -1;\n\t\t\t\t\t\t$picker.hide();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$td.hover(function() {\n\t\t\t\t\tif (!$(this).hasClass('active')) {\n\t\t\t\t\t\t$(this).addClass('hover');\n\t\t\t\t\t}\n\t\t\t\t}, function() {\n\t\t\t\t\tif ($(this).hasClass('hover')) {\n\t\t\t\t\t\t$(this).removeClass('hover');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/* ---- */\n\t\t}\n\n\t\tif ($picker.data('timeOnly') === true) {\n\t\t\t$calendar.css(\"display\", \"none\");\n\t\t\t$now_month.css(\"display\", \"none\");\n\t\t\tif ($link_next_month != null)\n\t\t\t\t$link_next_month.css(\"display\", \"none\");\n\t\t\tif ($link_before_month != null)\n\t\t\t\t$link_before_month.css(\"display\", \"none\");\n\t\t}\n\n\t\tif ($picker.data(\"dateOnly\") === true) {\n\t\t\t/* dateOnly mode */\n\t\t\t$timelist.css(\"display\", \"none\");\n\t\t} else {\n\t\t\t/* Timelist ----- */\n\t\t\t$timelist.children().remove();\n\n\t\t\t/* Set height to Timelist (Calendar innerHeight - Calendar padding) */\n\t\t\tif ($calendar.innerHeight() > 0) {\n\t\t\t\t$timelist.css(\"height\", $calendar.innerHeight() - 10 + 'px');\n\t\t\t}\n\n\t\t\trealDayObj = new Date(date.getTime());\n\t\t\t$timelist.css(\"height\", Math.max($calendar.innerHeight() - 10, 200) +\n\t\t\t\t'px');\n\n\t\t\t/* Output time cells */\n\t\t\tvar hour_ = minTime[0];\n\t\t\tvar min_ = minTime[1];\n\n\t\t\twhile (hour_ * 100 + min_ < maxTime[0] * 100 + maxTime[1]) {\n\n\t\t\t\tvar $o = $('<div>');\n\t\t\t\tvar is_past_time = hour_ < todayDate.getHours() || (hour_ ==\n\t\t\t\t\ttodayDate.getHours() && min_ < todayDate.getMinutes());\n\t\t\t\tvar is_past = isCurrentDay && is_past_time;\n\n\t\t\t\t$o.addClass('timelist_item');\n\t\t\t\tvar oText = \"\";\n\t\t\t\tif ($picker.data(\"amPmInTimeList\")) {\n\t\t\t\t\toText = /*zpadding*/ (hour_ > 12 ? hour_ - 12 : (hour_ < 1 ?\n\t\t\t\t\t\t12 : hour_));\n\t\t\t\t\toText += \":\" + zpadding(min_);\n\t\t\t\t\toText += (hour_ >= 12 ? \"PM\" : \"AM\");\n\t\t\t\t} else {\n\t\t\t\t\toText = zpadding(hour_) + \":\" + zpadding(min_);\n\t\t\t\t}\n\t\t\t\t$o.text(oText);\n\t\t\t\t$o.data(\"hour\", hour_);\n\t\t\t\t$o.data(\"min\", min_);\n\n\t\t\t\t$timelist.append($o);\n\n\t\t\t\trealDayObj.setHours(hour_);\n\t\t\t\trealDayObj.setMinutes(min_);\n\n\t\t\t\tif (\n\t\t\t\t\t((minDate != null) && (minDate > realDayObj.getTime())) || ((\n\t\t\t\t\t\tmaxDate != null) && (maxDate < realDayObj.getTime()))\n\t\t\t\t) { // Out of range cell\n\t\t\t\t\t$o.addClass('out_of_range');\n\t\t\t\t} else if (isFutureOnly && is_past) { // Past cell\n\t\t\t\t\t$o.addClass('time_in_past');\n\t\t\t\t} else { // Normal cell\n\t\t\t\t\t/* Set event handler to time cell */\n\t\t\t\t\t$o.click(function(ev) {\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t\tif ($(this).hasClass('hover')) {\n\t\t\t\t\t\t\t$(this).removeClass('hover');\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$(this).addClass('active');\n\n\t\t\t\t\t\tvar $picker = getParentPickerObject($(this));\n\t\t\t\t\t\tvar date = getPickedDate($picker);\n\t\t\t\t\t\tvar hour = $(this).data(\"hour\");\n\t\t\t\t\t\tvar min = $(this).data(\"min\");\n\t\t\t\t\t\tdraw($picker, {\n\t\t\t\t\t\t\t\t\"isAnim\": false,\n\t\t\t\t\t\t\t\t\"isOutputToInputObject\": true\n\t\t\t\t\t\t\t}, date.getFullYear(), date.getMonth(),\n\t\t\t\t\t\t\tdate.getDate(), hour, min);\n\n\t\t\t\t\t\tif ($picker.data(\"isInline\") === false && $picker\n\t\t\t\t\t\t\t.data(\"closeOnSelected\")) {\n\t\t\t\t\t\t\t// Close a picker\n\t\t\t\t\t\t\tActivePickerId = -1;\n\t\t\t\t\t\t\t$picker.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t$o.hover(function() {\n\t\t\t\t\t\tif (!$(this).hasClass('active')) {\n\t\t\t\t\t\t\t$(this).addClass('hover');\n\t\t\t\t\t\t}\n\t\t\t\t\t}, function() {\n\t\t\t\t\t\tif ($(this).hasClass('hover')) {\n\t\t\t\t\t\t\t$(this).removeClass('hover');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (hour_ == date.getHours() && min_ == date.getMinutes()) { /* selected time */\n\t\t\t\t\t$o.addClass('active');\n\t\t\t\t\ttimelist_activeTimeCell_offsetTop = $o.offset().top;\n\t\t\t\t}\n\n\t\t\t\tmin_ += minuteInterval;\n\t\t\t\tif (min_ >= 60) {\n\t\t\t\t\tmin_ = min_ - 60;\n\t\t\t\t\thour_++;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t/* Scroll the timelist */\n\t\t\tif (isScroll === true) {\n\t\t\t\t/* Scroll to new active time-cell position */\n\t\t\t\t$timelist.scrollTop(timelist_activeTimeCell_offsetTop - $timelist\n\t\t\t\t\t.offset().top);\n\t\t\t} else {\n\t\t\t\t/* Scroll to position that before redraw. */\n\t\t\t\t$timelist.scrollTop(drawBefore_timeList_scrollTop);\n\t\t\t}\n\t\t}\n\n\t\t/* Fade-in animation */\n\t\tif (isAnim === true) {\n\t\t\tif (changePoint == 'calendar' && $picker.data('timeOnly') === false) {\n\t\t\t\t$calendar.fadeTo('fast', 1.0);\n\t\t\t} else if (changePoint == 'timelist' && $picker.data('dateOnly') ===\n\t\t\t\tfalse) {\n\t\t\t\t$timelist.fadeTo('fast', 1.0);\n\t\t\t}\n\t\t}\n\n\t\t/* Output to InputForm */\n\t\tif (isOutputToInputObject === true) {\n\t\t\toutputToInputObject($picker);\n\t\t}\n\t};\n\n\t/* Check for object type */\n\tvar isObj = function(type, obj) {\n\t\t/* http://qiita.com/Layzie/items/465e715dae14e2f601de */\n\t\tvar clas = Object.prototype.toString.call(obj).slice(8, -1);\n\t\treturn obj !== undefined && obj !== null && clas === type;\n\t};\n\n\tvar init = function($obj, opt) {\n\t\t/* Container */\n\t\tvar $picker = $('<div>');\n\n\t\t$picker.destroy = function() {\n\t\t\twindow.alert('destroy!');\n\t\t};\n\n\t\t$picker.addClass('datepicker');\n\t\t$obj.append($picker);\n\n\t\t/* Set current date */\n\t\tif (!opt.current) {\n\t\t\topt.current = new Date();\n\t\t} else {\n\t\t\tvar format = getDateFormat(opt.dateFormat, opt.locale, opt.dateOnly,\n\t\t\t\topt.timeOnly);\n\t\t\tvar date = parseDate(opt.current, format);\n\t\t\tif (date) {\n\t\t\t\topt.current = date;\n\t\t\t} else {\n\t\t\t\topt.current = new Date();\n\t\t\t}\n\t\t}\n\n\t\t/* Set options data to container object  */\n\t\tif (opt.inputObjectId != null) $picker.data(\"inputObjectId\", opt.inputObjectId);\n\t\tif (opt.timeOnly) opt.todayButton = false;\n\t\t$picker.data(\"timeOnly\", opt.timeOnly);\n\t\t$picker.data(\"dateOnly\", opt.dateOnly);\n\t\t$picker.data(\"pickerId\", PickerObjects.length);\n\t\t$picker.data(\"dateFormat\", opt.dateFormat);\n\t\t$picker.data(\"locale\", opt.locale);\n\t\t$picker.data(\"firstDayOfWeek\", opt.firstDayOfWeek);\n\t\t$picker.data(\"animation\", opt.animation);\n\t\t$picker.data(\"closeOnSelected\", opt.closeOnSelected);\n\t\t$picker.data(\"timelistScroll\", opt.timelistScroll);\n\t\t$picker.data(\"calendarMouseScroll\", opt.calendarMouseScroll);\n\t\t$picker.data(\"todayButton\", opt.todayButton);\n\t\t$picker.data(\"closeButton\", opt.closeButton);\n\t\t$picker.data('futureOnly', opt.futureOnly);\n\t\t$picker.data('onShow', opt.onShow);\n\t\t$picker.data('onHide', opt.onHide);\n\t\t$picker.data('onSelect', opt.onSelect);\n\t\t$picker.data('onInit', opt.onInit);\n\t\t$picker.data('allowWdays', opt.allowWdays);\n\t\t$picker.data('current', opt.current);\n\n\t\tif (opt.amPmInTimeList === true) {\n\t\t\t$picker.data('amPmInTimeList', true);\n\t\t} else {\n\t\t\t$picker.data('amPmInTimeList', false);\n\t\t}\n\n\t\tvar minDate = Date.parse(opt.minDate);\n\t\tif (isNaN(minDate)) { // invalid date?\n\t\t\t$picker.data('minDate', null); // set to null\n\t\t} else {\n\t\t\t$picker.data('minDate', minDate);\n\t\t}\n\n\t\tvar maxDate = Date.parse(opt.maxDate);\n\t\tif (isNaN(maxDate)) { // invalid date?\n\t\t\t$picker.data('maxDate', null); // set to null\n\t\t} else {\n\t\t\t$picker.data('maxDate', maxDate);\n\t\t}\n\t\t$picker.data(\"state\", 0);\n\n\t\tif (5 <= opt.minuteInterval && opt.minuteInterval <= 30) {\n\t\t\t$picker.data(\"minuteInterval\", opt.minuteInterval);\n\t\t} else {\n\t\t\t$picker.data(\"minuteInterval\", 30);\n\t\t}\n\t\topt.minTime = opt.minTime.split(':');\n\t\topt.maxTime = opt.maxTime.split(':');\n\n\t\tif (!((opt.minTime[0] >= 0) && (opt.minTime[0] < 24))) {\n\t\t\topt.minTime[0] = \"00\";\n\t\t}\n\t\tif (!((opt.maxTime[0] >= 0) && (opt.maxTime[0] < 24))) {\n\t\t\topt.maxTime[0] = \"23\";\n\t\t}\n\t\tif (!((opt.minTime[1] >= 0) && (opt.minTime[1] < 60))) {\n\t\t\topt.minTime[1] = \"00\";\n\t\t}\n\t\tif (!((opt.maxTime[1] >= 0) && (opt.maxTime[1] < 24))) {\n\t\t\topt.maxTime[1] = \"59\";\n\t\t}\n\t\topt.minTime[0] = parseInt(opt.minTime[0], 10); // parse as decimal number\n\t\topt.minTime[1] = parseInt(opt.minTime[1], 10);\n\t\topt.maxTime[0] = parseInt(opt.maxTime[0], 10);\n\t\topt.maxTime[1] = parseInt(opt.maxTime[1], 10);\n\t\t$picker.data('minTime', opt.minTime);\n\t\t$picker.data('maxTime', opt.maxTime);\n\n\t\t/* Header */\n\t\tvar $header = $('<div>');\n\t\t$header.addClass('datepicker_header');\n\t\t$picker.append($header);\n\t\t/* InnerContainer*/\n\t\tvar $inner = $('<div>');\n\t\t$inner.addClass('datepicker_inner_container');\n\t\t$picker.append($inner);\n\t\t/* Calendar */\n\t\tvar $calendar = $('<div>');\n\t\t$calendar.addClass('datepicker_calendar');\n\t\tvar $table = $('<table>');\n\t\t$table.addClass('datepicker_table');\n\t\t$calendar.append($table);\n\t\t$inner.append($calendar);\n\t\t/* Timelist */\n\t\tvar $timelist = $('<div>');\n\t\t$timelist.addClass('datepicker_timelist');\n\t\t$inner.append($timelist);\n\n\t\t/* Set event-handler to calendar */\n\t\tif (opt.calendarMouseScroll) {\n\t\t\tif (window.sidebar) { // Mozilla Firefox\n\t\t\t\t$calendar.on('DOMMouseScroll', function(e) { // Change a month with mouse wheel scroll for Fx\n\t\t\t\t\tvar $picker = getParentPickerObject($(this));\n\n\t\t\t\t\t// up,left [delta < 0] down,right [delta > 0]\n\t\t\t\t\tvar delta = e.originalEvent.detail;\n\t\t\t\t\t/*\n\t\t\t\t\t// this code need to be commented - it's seems to be unnecessary\n\t\t\t\t\t// normalization (/3) is not needed as we move one month back or forth\n\t\t\t\t\tif(e.originalEvent.axis !== undefined && e.originalEvent.axis == e.originalEvent.HORIZONTAL_AXIS){\n\t\t\t\t\t\te.deltaX = delta;\n\t\t\t\t\t\te.deltaY = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.deltaX = 0;\n\t\t\t\t\t\te.deltaY = delta;\n\t\t\t\t\t}\n\t\t\t\t\te.deltaX /= 3;\n\t\t\t\t\te.deltaY /= 3;\n\t\t\t\t\t*/\n\t\t\t\t\tif (delta > 0) {\n\t\t\t\t\t\tnextMonth($picker);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbeforeMonth($picker);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t} else { // Other browsers\n\t\t\t\t$calendar.on('mousewheel', function(e) { // Change a month with mouse wheel scroll\n\t\t\t\t\tvar $picker = getParentPickerObject($(this));\n\t\t\t\t\t// up [delta > 0] down [delta < 0]\n\t\t\t\t\tif (e.originalEvent.wheelDelta / 120 > 0) {\n\t\t\t\t\t\tbeforeMonth($picker);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextMonth($picker);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tPickerObjects.push($picker);\n\n\t\tdraw_date($picker, {\n\t\t\t\"isAnim\": true,\n\t\t\t\"isOutputToInputObject\": opt.autodateOnStart\n\t\t}, opt.current);\n\t};\n\n\tvar getDefaults = function() {\n\t\treturn {\n\t\t\t\"current\": null,\n\t\t\t\"dateFormat\": \"default\",\n\t\t\t\"locale\": \"en\",\n\t\t\t\"animation\": true,\n\t\t\t\"minuteInterval\": 30,\n\t\t\t\"firstDayOfWeek\": 0,\n\t\t\t\"closeOnSelected\": false,\n\t\t\t\"timelistScroll\": true,\n\t\t\t\"calendarMouseScroll\": true,\n\t\t\t\"todayButton\": true,\n\t\t\t\"closeButton\": true,\n\t\t\t\"dateOnly\": false,\n\t\t\t\"timeOnly\": false,\n\t\t\t\"futureOnly\": false,\n\t\t\t\"minDate\": null,\n\t\t\t\"maxDate\": null,\n\t\t\t\"autodateOnStart\": true,\n\t\t\t\"minTime\": \"00:00\",\n\t\t\t\"maxTime\": \"23:59\",\n\t\t\t\"onShow\": null,\n\t\t\t\"onHide\": null,\n\t\t\t\"onSelect\": null,\n\t\t\t\"allowWdays\": null,\n\t\t\t\"amPmInTimeList\": false,\n\t\t\t\"externalLocale\": null\n\t\t};\n\t};\n\n\t/**\n\t * Initialize dtpicker\n\t */\n\t$.fn.dtpicker = function(config) {\n\t\tvar date = new Date();\n\t\tvar defaults = getDefaults();\n\n\t\tif (typeof config === \"undefined\" || config.closeButton !== true) {\n\t\t\tdefaults.closeButton = false;\n\t\t}\n\n\t\tdefaults.inputObjectId = undefined;\n\t\tvar options = $.extend(defaults, config);\n\n\t\treturn this.each(function(i) {\n\t\t\tinit($(this), options);\n\t\t});\n\t};\n\n\t/**\n\t * Initialize dtpicker, append to Text input field\n\t * */\n\t$.fn.appendDtpicker = function(config) {\n\t\tvar date = new Date();\n\t\tvar defaults = getDefaults();\n\n\t\tif (typeof config !== \"undefined\" && config.inline === true && config.closeButton !==\n\t\t\ttrue) {\n\t\t\tdefaults.closeButton = false;\n\t\t}\n\n\t\tdefaults.inline = false;\n\t\tvar options = $.extend(defaults, config);\n\n\t\tif (options.externalLocale != null) {\n\t\t\tlang = $.extend(lang, options.externalLocale);\n\t\t}\n\n\t\treturn this.each(function(i) {\n\t\t\t/* Checking exist a picker */\n\t\t\tvar input = this;\n\t\t\tif (0 < $(PickerObjects[$(input).data('pickerId')]).length) {\n\t\t\t\tconsole.log(\"dtpicker - Already exist appended picker\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/* Add input-field with inputsObjects array */\n\t\t\tvar inputObjectId = InputObjects.length;\n\t\t\tInputObjects.push(input);\n\n\t\t\toptions.inputObjectId = inputObjectId;\n\n\t\t\t/* Current date */\n\t\t\tvar date, strDate, strTime;\n\t\t\tif ($(input).val() != null && $(input).val() !== \"\") {\n\t\t\t\toptions.current = $(input).val();\n\t\t\t}\n\n\t\t\t/* Make parent-div for picker */\n\t\t\tvar $d = $('<div>');\n\t\t\tif (options.inline) { // Inline mode\n\t\t\t\t$d.insertAfter(input);\n\t\t\t} else { // Float mode\n\t\t\t\t$d.css(\"position\", \"absolute\");\n\t\t\t\t$('body').append($d);\n\t\t\t}\n\n\t\t\t/* Initialize picker */\n\n\t\t\tvar pickerId = PickerObjects.length;\n\n\t\t\tvar $picker_parent = $($d).dtpicker(options); // call dtpicker() method\n\n\t\t\tvar $picker = $picker_parent.children('.datepicker');\n\n\t\t\t/* Link input-field with picker*/\n\t\t\t$(input).data('pickerId', pickerId);\n\n\t\t\t/* Set event handler to input-field */\n\n\t\t\t$(input).keyup(function() {\n\t\t\t\tvar $input = $(this);\n\t\t\t\tvar $picker = $(PickerObjects[$input.data(\n\t\t\t\t\t'pickerId')]);\n\t\t\t\tif ($input.val() != null && (\n\t\t\t\t\t\t$input.data('beforeVal') == null ||\n\t\t\t\t\t\t($input.data('beforeVal') != null &&\n\t\t\t\t\t\t\t$input.data('beforeVal') != $input.val()\n\t\t\t\t\t\t))) { /* beforeValue == null || beforeValue != nowValue  */\n\t\t\t\t\tvar format = getDateFormat($picker.data(\n\t\t\t\t\t\t'dateFormat'), $picker.data(\n\t\t\t\t\t\t'locale'), $picker.data(\n\t\t\t\t\t\t'dateOnly'), $picker.data(\n\t\t\t\t\t\t'timeOnly'));\n\t\t\t\t\tvar date = parseDate($input.val(), format);\n\t\t\t\t\t//console.log(\"dtpicker - inputKeyup - format: \" + format + \", date: \" + $input.val() + \" -> \" + date);\n\t\t\t\t\tif (date) {\n\t\t\t\t\t\tdraw_date($picker, {\n\t\t\t\t\t\t\t\"isAnim\": true,\n\t\t\t\t\t\t\t\"isOutputToInputObject\": false\n\t\t\t\t\t\t}, date);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$input.data('beforeVal', $input.val());\n\t\t\t});\n\n\t\t\t$(input).change(function() {\n\t\t\t\t$(this).trigger('keyup');\n\t\t\t});\n\n\t\t\tvar handler = new PickerHandler($picker, $(input));\n\n\t\t\tif (options.inline === true) {\n\t\t\t\t/* inline mode */\n\t\t\t\t$picker.data('isInline', true);\n\t\t\t} else {\n\t\t\t\t/* float mode */\n\t\t\t\t$picker.data('isInline', false);\n\t\t\t\t$picker_parent.css({\n\t\t\t\t\t\"zIndex\": 100\n\t\t\t\t});\n\t\t\t\t$picker.css(\"width\", \"auto\");\n\n\t\t\t\t/* Hide this picker */\n\t\t\t\t$picker.hide();\n\n\t\t\t\t/* Set onClick event handler for input-field */\n\t\t\t\t$(input).on('click, focus', function(ev) {\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tvar $input = $(this);\n\t\t\t\t\tvar $picker = $(PickerObjects[$input.data(\n\t\t\t\t\t\t'pickerId')]);\n\n\t\t\t\t\t// Generate the handler of a picker\n\t\t\t\t\tvar handler = new PickerHandler($picker,\n\t\t\t\t\t\t$input);\n\t\t\t\t\t// Get the display state of a picker\n\t\t\t\t\tvar is_showed = handler.isShow();\n\t\t\t\t\tif (!is_showed) {\n\t\t\t\t\t\t// Show a picker\n\t\t\t\t\t\thandler.show();\n\n\t\t\t\t\t\t// Call a event-hanlder\n\t\t\t\t\t\tvar func = $picker.data('onShow');\n\t\t\t\t\t\tif (func != null) {\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t\"dtpicker- Call the onShow handler\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tfunc(handler);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Set an event handler for resizing of a window\n\t\t\t\t(function(handler) {\n\t\t\t\t\t$(window).resize(function() {\n\t\t\t\t\t\thandler._relocate();\n\t\t\t\t\t});\n\t\t\t\t\t$(window).scroll(function() {\n\t\t\t\t\t\thandler._relocate();\n\t\t\t\t\t});\n\t\t\t\t})(handler);\n\t\t\t}\n\n\t\t\t// Set an event handler for removing of an input-field\n\t\t\t$(input).on('destroyed', function() {\n\t\t\t\tvar $input = $(this);\n\t\t\t\tvar $picker = $(PickerObjects[$input.data(\n\t\t\t\t\t'pickerId')]);\n\t\t\t\t// Generate the handler of a picker\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Destroy a picker\n\t\t\t\thandler.destroy();\n\t\t\t});\n\n\t\t\t// Call a event-handler\n\t\t\tvar func = $picker.data('onInit');\n\t\t\tif (func != null) {\n\t\t\t\tconsole.log(\"dtpicker- Call the onInit handler\");\n\t\t\t\tfunc(handler);\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Handle a appended dtpicker\n\t * */\n\tvar methods = {\n\t\tshow: function() {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Show a picker\n\t\t\t\thandler.show();\n\t\t\t}\n\t\t},\n\t\thide: function() {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Hide a picker\n\t\t\t\thandler.hide();\n\t\t\t}\n\t\t},\n\t\tsetDate: function(date) {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Set a date\n\t\t\t\thandler.setDate(date);\n\t\t\t}\n\t\t},\n\t\tsetMinDate: function(date) {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Set a min date\n\t\t\t\thandler.setMinDate(date);\n\t\t\t}\n\t\t},\n\t\tsetMaxDate: function(date) {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Set a max date\n\t\t\t\thandler.setMaxDate(date);\n\t\t\t}\n\t\t},\n\t\tgetDate: function() {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Get a date\n\t\t\t\treturn handler.getDate();\n\t\t\t}\n\t\t},\n\t\tdestroy: function() {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Destroy a picker\n\t\t\t\thandler.destroy();\n\t\t\t}\n\t\t}\n\t};\n\n\t$.fn.handleDtpicker = function(method) {\n\t\tif (methods[method]) {\n\t\t\treturn methods[method].apply(this, Array.prototype.slice.call(\n\t\t\t\targuments, 1));\n\t\t} else if (typeof method === 'object' || !method) {\n\t\t\treturn methods.init.apply(this, arguments);\n\t\t} else {\n\t\t\t$.error('Method ' + method +\n\t\t\t\t' does not exist on jQuery.handleDtpicker');\n\t\t}\n\t};\n\n\tif (!window.console) { // Not available a console on this environment.\n\t\twindow.console = {};\n\t\twindow.console.log = function() {};\n\t}\n\n\t/* Define a special event for catch when destroy of an input-field. */\n\t$.event.special.destroyed = {\n\t\tremove: function(o) {\n\t\t\tif (o.handler) {\n\t\t\t\to.handler.apply(this, arguments);\n\t\t\t}\n\t\t}\n\t};\n\n\t/* Set event handler to Body element, for hide a floated-picker */\n\t$(function() {\n\t\t$('body').click(function(e) {\n\t\t\tfor (var i = 0; i < PickerObjects.length; i++) {\n\t\t\t\tvar $picker = $(PickerObjects[i]);\n\t\t\t\tif ($picker.data('inputObjectId') != null && !$picker\n\t\t\t\t\t.data('isInline') && $picker.css('display') !=\n\t\t\t\t\t'none' && !$(e.target).is('.datepicker') && !$(e.target)\n\t\t\t\t\t.is('.datepicker_header') && !$(e.target).is(\n\t\t\t\t\t\t'.next-month') && !$(e.target).is(\n\t\t\t\t\t\t'.before-month') && !$(e.target).is(\n\t\t\t\t\t\t'.icon-home')) {\n\t\t\t\t\t/* if append input-field && float picker */\n\n\t\t\t\t\t// Check overlapping of cursor and picker\n\t\t\t\t\tif ($picker.hasClass('hover')) continue;\n\n\t\t\t\t\t// Check overlapping of cursor and input-field\n\t\t\t\t\tvar $input = $(InputObjects[$picker.data(\n\t\t\t\t\t\t'inputObjectId')]);\n\t\t\t\t\tif ($input.is(':focus')) continue;\n\n\t\t\t\t\t// Hide a picker\n\t\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t\thandler.hide();\n\n\t\t\t\t\t// Call a event-hanlder\n\t\t\t\t\tvar func = $picker.data('onHide');\n\t\t\t\t\tif (func != null) {\n\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t'dtpicker- Call the onHide handler');\n\t\t\t\t\t\tfunc(handler);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n})(jQuery);\n\n`;\n\nmsg.payload = msg.js\n//.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n\nreturn msg;\n","outputs":1,"noerr":0,"x":310,"y":1020,"wires":[["5a91b698.b33ab"]]},{"id":"f29a64a7.2cd6a","type":"template","z":"129957c7.544ac8","name":"","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!DOCTYPE html>\n<html>\n<head>\n\n<style  type=\"text/css\"> \n  .datepicker {\n\tposition: relative;\n\tdisplay: inline-block;\n\tfont: 15px/1.5 \"Helvetica Neue\", mplus-2c, Helvetica, Arial, \"Hiragino Kaku Gothic Pro\", Meiryo, sans-serif;\n\tfont-weight: 300;\n\tborder: 1px solid #dfdfdf;\n\tborder-radius: 3px;\n\t\t-webkit-border-radius: 3px;\n\t\t-moz-border-radius: 3px;\n\tbox-shadow: 0.5px 0.5px 0px #c8c8c8;\n\t\t-webkit-box-shadow: 0.5px 0.5px 3px #eeeeee;\n\t\t-moz-box-shadow: 0.5px 0.5px 3px #eeeeee;\n}\n\n.datepicker > .datepicker_header {\n\tpadding-top:\t2px;\n\tpadding-bottom: 2px;\n\tpadding-left:\t5px;\n\tpadding-right: 5px;\n\tbackground-color:\t#eeeeee;\n\tcolor: #3f3f3f;\n\ttext-align: center;\n\tfont-size: 9pt;\n\tfont-weight: bold;\n\tmin-height: 30px;\n\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n}\n\n.datepicker > .datepicker_header > span {\n\tdisplay: inline-block;\n\tmargin-top: -2px;\n}\n\n.datepicker > .datepicker_header > a {\n\tcolor: #3b7796;\n\tcursor: pointer;\n\tfont-size: 20px;\n\tpadding: 3px 16px;\n\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n\tvertical-align: middle;\n}\n\n.datepicker > .datepicker_header > a:hover {\n\tcolor: #303030;\n\tbackground-color:\t#c8c8c8;\n}\n\n.datepicker > .datepicker_header > a:active {\n\tcolor: #ffffff;\n\tbackground-color:\t#808080;\n}\n\n.datepicker > .datepicker_header > span {\n\tmargin-left: 20px;\n\tmargin-right: 20px;\n\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n}\n\n.datepicker > .datepicker_header > .icon-home {\n\tposition:\tabsolute;\n\tdisplay:\t\tblock;\n\twidth:\t\t16px;\n\theight:\t\t16px;\n\tvertical-align: middle;\n\tpadding: 8px;\n\ttop: 0;\n\tleft: 0;\n}\n\n.datepicker > .datepicker_header > .icon-close {\n\tposition: absolute;\n\tdisplay: block;\n\twidth: 16px;\n\theight: 16px;\n\tvertical-align: middle;\n\tpadding: 8px;\n\ttop: 0;\n\tright: 0;\n}\n.datepicker > .datepicker_header > .icon-home > div {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAYAAAB3AH1ZAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAepJREFUSEudk71Kw2AUhnVxVnCyN1EcCjXUujmKF1AoRRCcNU4OIg5dtXF36tAb6B107qjg0iC4STt0EdTnTU8+v5rGNh54aM7Pe/J+abLmR3AZ7QeXD0+WZkI9zViaiXq9vg+5evU0Y+ksgjCqsrgPA2jBOzQs91FNPc0o70vLQtGHAbTgHRqW+6imnmaUS1PVqWL4SgijJr8juHK1H1Qb2Uxai1kivowmjODKq6Wopp5m0losA95Noh43ONXi+XpCPOsx49W9ZaIHp+CbSlFNPc24+i8DxfGX/YeZgTDqQrsgXc9AF9oFkcY9gQN7J3MjuOhs2WUS0ngGluqZmdNLs7IBTltmZsrvsZUKGaBfhik4vTSw3EBwfrdBfwhvwcX9tpVXNkBvA4bwBk4vDSw2UD27WbdLnf42mQmjIysl8ZeBWq3m9PRubWZOL43qGQOccpf8lc9tj5tWuP7g+tHaLqSR1pY7Pde78Ap7UIEPyOip5RgIOzvkzzCGF4gxtWltF9LAIgM78AxjeAF9/xk9tfy/gBuWOLVMfPIUDq08F3kGFOQlkIlPWKiXBvJfQl6+EjdvWJqJvwwoqMlErl4aabVowmmvbWEBEs2EJeLaFhZBmone8hMtAj2JIkykZYmQifRprAqa+sk3UgBXF8VWaxMAAAAASUVORK5CYII=);\n}\n.datepicker > .datepicker_header > .icon-close> div {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAYAAAB3AH1ZAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAfhJREFUSEvNVEtKA0EUHHBhsvZ7D0HF4PRMnERxI+hCQ4xuBE/g5yLRA+il/CCIXkDElRGt6qkZO91j1JUW1KJf1XvVn2Gif4XGUX986aRf0zIANXq0DBBv7Iwvb+192U+NHi2H0Tg+O2ycnN2DV+CcyiVQW5B2T6/KJUxr7dAkySN4bVbaiyqXMM1s3mr0wKtyDgytgQ/gu/gKbkumvgsOpJH0lieNN3s1O9iYd/EN657kyJikZ2uFDi97JDOgX8fAWyeg2MQO6IeT8Pbrao+Wtw/qJklvywBnE5ZuOAkve9SeA0PnQT+Ia7/2BoZXnK0uBkH5Oqxl4RNZYHAH9ANdMnxP9gA42X5FoMuhp6kEAnjlDPpVeIERm0B4+m0/N9AFq26Bta5sX0JvPvDCycFPTs+PbtQTUOvIHgAhu+DoJ4BH9mFgcAzyy3cDee3+c9ATq60ErjfDcP/kDPQ3hJtIM7XlwMAJ8FoBBe2bi/4m6J1QO34yrWlc740XxDffr/wm6EWP2u0GJsEnDS/DJVPvge7T0DspmT+aGQx+cUKGPriKTcCbzEhGwOn5GAZegM/gHdiSVAK1VBo9F+yRFJn2+hgGXtrBSXpn0mbQb5orbavl4ZfskZRDm5gGp1QKQM16nPACdhNpczZur3+ezAM1eoLwv0MUfQBkquZISGUUwgAAAABJRU5ErkJggg==);\n}\n.datepicker > .datepicker_header > a:hover > div, .datepicker > .datepicker_header > a:hover > div  {\n\tbackground-position: -16px 0px;\n}\n\n\n.datepicker > .datepicker_inner_container {\n\tmargin: -2px 0px -2px 0px;\n\tbackground-color: #d2d2d2;\n\tborder: 1px solid #c8c8c8;\n\tborder-radius: 3px;\n\t\t-webkit-border-radius: 3px;\n\t\t-moz-border-radius: 3px;\n\n\tbox-shadow: 0.5px 0px 3px #c8c8c8;\n\t\t-webkit-box-shadow: 0.5px 0px 3px #c8c8c8;\n\t\t-moz-box-shadow: 0.5px 0px 3px #c8c8c8;\n}\n\n.datepicker > .datepicker_inner_container:after {\n\tcontent: \".\";\n\tdisplay: block;\n\theight: 0;\n\tclear: both;\n\tvisibility: hidden;\n}\n\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar {\n\tfloat: left;\n\twidth: 18.3em;\n\n\tmargin-top: -0.5px;\n\tmargin-left: -1px;\n\tmargin-bottom: -2px;\n\n\tbackground-color:\t#ffffff;\n\tborder: 1px solid #c8c8c8;\n\n\tborder-top:none;\n\tborder-top-left-radius: 3px;\n\tborder-bottom-left-radius: 3px;\n\t\t-webkit-border-top-left-radius:\t3px;\n\t\t-webkit-border-bottom-left-radius: 3px;\n\t\t-moz-border-radius-topleft:\t\t3px;\n\t\t-moz-border-radius-bottomleft:\t3px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > table {\n\tpadding: 10px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > th {\n\tcolor:\t#646464;\n\twidth: 18px;\n\tfont-size: small;\n\tfont-weight: normal;\n\ttext-align:center;\n}\n\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td {\n\tcolor:\t#000000;\n\tfont-size: small;\n\ttext-align:center;\n\n\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n\tcursor: pointer;\n\tpadding: 10px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.today {\n\tborder-bottom: #bfbfbf solid 2px;\n\tmargin-bottom: -2px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.wday_sat {\n\tcolor:\t#0044aa;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.wday_sun {\n\tcolor:\t#e13b00;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.day_another_month {\n\tcolor:\t#cccccc;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.day_in_past {\n\tcursor: default;\n\tcolor: #cccccc;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.day_in_unallowed {\n\tcursor: default;\n\tcolor: #cccccc;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.out_of_range {\n\tcursor: default;\n\tcolor: #cccccc;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.active {\n\tcolor: #ffffff;\n\tbackground-color:\t#808080;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_calendar > .datepicker_table > tbody > tr > td.hover {\n\tcolor: #000000;\n\tbackground-color:\t#c8c8c8;\n}\n\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist {\n\tfloat: left;\n\n\tmargin-top: -0.5px;\n\tpadding: 5px 0px;\n\n\toverflow: auto;\n\toverflow-x: hidden;\n\n\tbackground-color:\t#ffffff;\n\n\tborder-top-right-radius: 3px;\n\tborder-bottom-right-radius: 3px;\n\t-webkit-border-top-right-radius:\t3px;\n\t-webkit-border-bottom-right-radius: 3px;\n\t-moz-border-radius-topright:\t\t3px;\n\t-moz-border-radius-bottomright:\t3px;\n\ttext-align: right;\n\twidth: 4.9em;\n}\n\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar {\n\toverflow: hidden;\n\twidth: 6px;\n\tbackground: #fafafa;\n\n\tborder-top-right-radius: 3px;\n\tborder-bottom-right-radius: 3px;\n\t-webkit-border-top-right-radius:\t3px;\n\t-webkit-border-bottom-right-radius: 3px;\n\t-moz-border-radius-topright:\t\t3px;\n\t-moz-border-radius-bottomright:\t3px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar:horizontal {\n\theight: 1px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar-button {\n\tdisplay: none;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar-piece {\n\tbackground: #eee;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar-piece:start {\n\tbackground: #eee;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar-thumb {\n\tbackground: #aaaaaa;\n\tborder-radius: 3px;\n\t\t-webkit-border-radius: 3px;\n\t\t-moz-border-radius: 3px;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist::-webkit-scrollbar-corner {\n\tbackground: #333;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist > div.timelist_item {\n\tpadding-top:   5px;\n\tpadding-bottom:5px;\n\tpadding-left:  7px;\n\tpadding-right: 7px;\n\tmargin-top: 5px;\n\tmargin-bottom: 2px;\n\tfont-size: small;\n\n\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n\tcursor: pointer;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist > div.timelist_item.time_in_past {\n\tcursor: default;\n\tcolor: #cccccc;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist > div.timelist_item.out_of_range {\n\tcursor: default;\n\tcolor: #cccccc;\n}\n.datepicker > .datepicker_inner_container > .datepicker_timelist > div.timelist_item.active {\n\tcolor: #ffffff;\n\tbackground-color:\t#808080;\n}\n\n.datepicker > .datepicker_inner_container > .datepicker_timelist > div.timelist_item.hover {\n\tcolor: #000000;\n\tbackground-color:\t#c8c8c8;\n}\n</style>\n \n<script type=\"application/javascript\"> {{{jquery}}}</script>\n\n<script type=\"application/javascript\">\n    (function($) {\n    //DateTime Library\n\tvar lang = {\n\t\ten: {\n\t\t\tdays: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\",\n\t\t\t\t\"Sep\", \"Oct\", \"Nov\", \"Dec\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'Previous month',\n\t\t\tnextMonth: 'Next month',\n\t\t\ttoday: 'Today'\n\t\t},\n\t\tro: {\n\t\t\tdays: ['Dum', 'Lun', 'Mar', 'Mie', 'Joi', 'Vin', 'Sâm'],\n\t\t\tmonths: ['Ian', 'Feb', 'Mar', 'Apr', 'Mai', 'Iun', 'Iul', 'Aug',\n\t\t\t\t'Sep', 'Oct', 'Nov', 'Dec'\n\t\t\t],\n\t\t\tsep: '.',\n\t\t\tformat: 'DD.MM.YYYY hh:mm',\n\t\t\tprevMonth: 'Luna precedentă',\n\t\t\tnextMonth: 'Luna următoare',\n\t\t\ttoday: 'Azi'\n\t\t},\n\n\t\tja: {\n\t\t\tdays: ['日', '月', '火', '水', '木', '金', '土'],\n\t\t\tmonths: [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\",\n\t\t\t\t\"11\", \"12\"\n\t\t\t],\n\t\t\tsep: '/',\n\t\t\tformat: 'YYYY/MM/DD hh:mm'\n\t\t},\n\t\tru: {\n\t\t\tdays: ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],\n\t\t\tmonths: [\"Янв\", \"Фев\", \"Мар\", \"Апр\", \"Май\", \"Июн\", \"Июл\", \"Авг\",\n\t\t\t\t\"Сен\", \"Окт\", \"Ноя\", \"Дек\"\n\t\t\t],\n\t\t\tformat: 'DD.MM.YYYY hh:mm'\n\t\t},\n\t\tbr: {\n\t\t\tdays: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb'],\n\t\t\tmonths: [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\",\n\t\t\t\t\"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\",\n\t\t\t\t\"Dezembro\"\n\t\t\t],\n\t\t\tformat: 'DD/MM/YYYY hh:mm'\n\t\t},\n\t\tpt: {\n\t\t\tdays: ['dom', 'seg', 'ter', 'qua', 'qui', 'sex', 'sáb'],\n\t\t\tmonths: [\"janeiro\", \"fevereiro\", \"março\", \"abril\", \"maio\", \"junho\",\n\t\t\t\t\"julho\", \"agosto\", \"setembro\", \"outubro\", \"novembro\",\n\t\t\t\t\"dezembro\"\n\t\t\t]\n\t\t},\n\t\tcn: {\n\t\t\tdays: ['日', '一', '二', '三', '四', '五', '六'],\n\t\t\tmonths: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\",\n\t\t\t\t\"十一月\", \"十二月\"\n\t\t\t]\n\t\t},\n\t\tda: {\n\t\t\tdays: ['Sø', 'Ma', 'Ti', 'On', 'To', 'Fr', 'Lø'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Juni\", \"Juli\", \"Aug\",\n\t\t\t\t\"Sept\", \"Okt\", \"Nov\", \"Dec\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'DD-MM-YYYY hh:mm',\n\t\t\tprevMonth: 'Forrige måned',\n\t\t\tnextMonth: 'Næste måned',\n\t\t\ttoday: 'I dag'\n\t\t},\n\t\tde: {\n\t\t\tdays: ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"März\", \"Apr\", \"Mai\", \"Juni\", \"Juli\", \"Aug\",\n\t\t\t\t\"Sept\", \"Okt\", \"Nov\", \"Dez\"\n\t\t\t],\n\t\t\tformat: 'DD.MM.YYYY hh:mm'\n\t\t},\n\t\tsv: {\n\t\t\tdays: ['Sö', 'Må', 'Ti', 'On', 'To', 'Fr', 'Lö'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Juni\", \"Juli\", \"Aug\",\n\t\t\t\t\"Sept\", \"Okt\", \"Nov\", \"Dec\"\n\t\t\t]\n\t\t},\n\t\tid: {\n\t\t\tdays: ['Min', 'Sen', 'Sel', 'Rab', 'Kam', 'Jum', 'Sab'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mei\", \"Jun\", \"Jul\", \"Agu\",\n\t\t\t\t\"Sep\", \"Okt\", \"Nov\", \"Des\"\n\t\t\t]\n\t\t},\n\t\tit: {\n\t\t\tdays: ['Dom', 'Lun', 'Mar', 'Mer', 'Gio', 'Ven', 'Sab'],\n\t\t\tmonths: [\"Gen\", \"Feb\", \"Mar\", \"Apr\", \"Mag\", \"Giu\", \"Lug\", \"Ago\",\n\t\t\t\t\"Set\", \"Ott\", \"Nov\", \"Dic\"\n\t\t\t],\n\t\t\tformat: 'DD/MM/YYYY hh:mm'\n\t\t},\n\t\ttr: {\n\t\t\tdays: ['Pz', 'Pzt', 'Sal', 'Çar', 'Per', 'Cu', 'Cts'],\n\t\t\tmonths: [\"Ock\", \"Şub\", \"Mar\", \"Nis\", \"May\", \"Haz\", \"Tem\", \"Agu\",\n\t\t\t\t\"Eyl\", \"Ekm\", \"Kas\", \"Arlk\"\n\t\t\t]\n\t\t},\n\t\tes: {\n\t\t\tdays: ['dom', 'lun', 'mar', 'miér', 'jue', 'vie', 'sáb'],\n\t\t\tmonths: [\"ene\", \"feb\", \"mar\", \"abr\", \"may\", \"jun\", \"jul\", \"ago\",\n\t\t\t\t\"sep\", \"oct\", \"nov\", \"dic\"\n\t\t\t],\n\t\t\tformat: 'DD/MM/YYYY hh:mm'\n\t\t},\n\t\tko: {\n\t\t\tdays: ['일', '월', '화', '수', '목', '금', '토'],\n\t\t\tmonths: [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\",\n\t\t\t\t\"11\", \"12\"\n\t\t\t],\n\t\t\tsep: '/',\n\t\t\tprevMonth: '이전 달',\n\t\t\tnextMonth: '다음 달',\n\t\t\ttoday: '오늘'\n\t\t},\n\t\tnl: {\n\t\t\tdays: ['zo', 'ma', 'di', 'wo', 'do', 'vr', 'za'],\n\t\t\tmonths: [\"jan\", \"feb\", \"mrt\", \"apr\", \"mei\", \"jun\", \"jul\", \"aug\",\n\t\t\t\t\"sep\", \"okt\", \"nov\", \"dec\"\n\t\t\t],\n\t\t\tformat: 'DD-MM-YYYY hh:mm'\n\t\t},\n\t\tno: {\n\t\t\tdays: ['Søn', 'Man', 'Tir', 'Ons', 'Tor', 'Fre', 'Lør'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mi\", \"Jun\", \"Jul\", \"Aug\", \"Sep\",\n\t\t\t\t\"Okt\", \"Nov\", \"Des\"\n\t\t\t],\n\t\t\tsep: '.',\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'Forrige Måned',\n\t\t\tnextMonth: 'Neste Måned',\n\t\t\ttoday: 'I dag'\n\t\t},\n\t\tcz: {\n\t\t\tdays: ['Ne', 'Po', 'Út', 'St', 'Čt', 'Pá', 'So'],\n\t\t\tmonths: [\"Led\", \"Úno\", \"Bře\", \"Dub\", \"Kvě\", \"Čer\", \"Čvc\", \"Srp\",\n\t\t\t\t\"Zář\", \"Říj\", \"Lis\", \"Pro\"\n\t\t\t],\n\t\t\tformat: 'DD.MM.YYYY hh:mm'\n\t\t},\n\t\tfr: {\n\t\t\tdays: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],\n\t\t\tmonths: [\"Janvier\", \"Février\", \"Mars\", \"Avril\", \"Mai\", \"Juin\",\n\t\t\t\t\"Juillet\", \"Août\", \"Septembre\", \"Octobre\", \"Novembre\",\n\t\t\t\t\"Décembre\"\n\t\t\t],\n\t\t\tformat: 'DD-MM-YYYY hh:mm'\n\t\t},\n\t\tpl: {\n\t\t\tdays: ['N', 'Pn', 'Wt', 'Śr', 'Cz', 'Pt', 'So'],\n\t\t\tmonths: [\"Styczeń\", \"Luty\", \"Marzec\", \"Kwiecień\", \"Maj\", \"Czerwiec\",\n\t\t\t\t\"Lipiec\", \"Sierpień\", \"Wrzesień\", \"Październik\", \"Listopad\",\n\t\t\t\t\"Grudzień\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'Poprzedni miesiąc',\n\t\t\tnextMonth: 'Następny miesiąc',\n\t\t\ttoday: 'Dzisiaj'\n\t\t},\n\t\tgr: {\n\t\t\tdays: ['Κυ', 'Δε', 'Τρ', 'Τε', 'Πε', 'Πα', 'Σα'],\n\t\t\tmonths: [\"Ιαν\", \"Φεβ\", \"Μαρ\", \"Απρ\", \"Μαϊ\", \"Ιουν\", \"Ιουλ\", \"Αυγ\",\n\t\t\t\t\"Σεπ\", \"Οκτ\", \"Νοε\", \"Δεκ\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'DD-MM-YYYY hh:mm',\n\t\t\tprevMonth: 'Προηγ. μήνας',\n\t\t\tnextMonth: 'Επόμ. μήνας',\n\t\t\ttoday: 'Σήμερα'\n\t\t},\n\t\tua: {\n\t\t\tdays: [\"Неділя\", \"Понеділок\", \"Вівторок\", \"Cереда\", \"Четвер\",\n\t\t\t\t\"П'ятниця\", \"Субота\"\n\t\t\t],\n\t\t\tmonths: [\"Cічень\", \"Лютий\", \"Березень\", \"Квітень\", \"Травень\",\n\t\t\t\t\"Червня\", \"Липня\", \"Серпня\", \"Вересня\", \"Жовтень\",\n\t\t\t\t\"Листопада\", \"Грудня\"\n\t\t\t],\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'Попередній місяць',\n\t\t\tnextMonth: 'Наступний місяць',\n\t\t\ttoday: 'Cьогодні'\n\t\t},\n\t\tet: {\n\t\t\tdays: ['P', 'E', 'T', 'K', 'N', 'R', 'L'],\n\t\t\tmonths: [\"Jaan\", \"Veebr\", \"Märts\", \"Apr\", \"Mai\", \"Juun\", \"Juul\",\n\t\t\t\t\"Aug\", \"Sept\", \"Okt\", \"Nov\", \"Dets\"\n\t\t\t],\n\t\t\tsep: '.',\n\t\t\tformat: 'DD.MM.YYYY hh:mm',\n\t\t\tprevMonth: 'Eelmine kuu',\n\t\t\tnextMonth: 'Järgmine kuu',\n\t\t\ttoday: 'Täna'\n\t\t},\n\t\thu: {\n\t\t\tdays: ['Va', 'Hé', 'Ke', 'Sze', 'Cs', 'Pé', 'Szo'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Már\", \"Ápr\", \"Máj\", \"Jún\", \"Júl\", \"Aug\",\n\t\t\t\t\"Szep\", \"Okt\", \"Nov\", \"Dec\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'YYYY-MM-DD hh:mm:00',\n\t\t\tprevMonth: 'Előző hónap',\n\t\t\tnextMonth: 'Következő hónap',\n\t\t\ttoday: 'Ma'\n\t\t},\n\t\tfa: {\n\t\t\tdays: ['یکشنبه', 'دوشنبه', 'سه شنبه', 'چهارشنبه', 'پنج شنبه', 'جمعه',\n\t\t\t\t'شنبه'\n\t\t\t],\n\t\t\tmonths: [\"ژانویه\", \"فبریه\", \"مارچ\", \"آپریل\", \"می\", \"ژوئن\", \"جولای\",\n\t\t\t\t\"آگوست\", \"سپتامبر\", \"اکتبر\", \"نوامبر\", \"دسامبر\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'ماه قبل',\n\t\t\tnextMonth: 'ماه بعد',\n\t\t\ttoday: 'امروز'\n\t\t},\n\t\tlv: {\n\t\t\tdays: ['Sv', 'P', 'O', 'T', 'C', 'P', 'S'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mai\", \"Jūn\", \"Jūl\", \"Avg\",\n\t\t\t\t\"Sep\", \"Okt\", \"Nov\", \"Dec\"\n\t\t\t],\n\t\t\tformat: 'DD.MM.YYYY hh:mm'\n\t\t},\n\t\tlt: {\n\t\t\tdays: ['Pr', 'A', 'T', 'K', 'P', 'Š', 'S'],\n\t\t\tmonths: [\"Saus.\", \"Vas.\", \"Kovas\", \"Bal.\", \"Geg.\", \"Birž.\", \"Liepa\",\n\t\t\t\t\"Rugp.\", \"Rugs.\", \"Spal.\", \"Lapkr.\", \"Gruod.\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'Praeitas mėnesis',\n\t\t\tnextMonth: 'Sekantis mėnesis',\n\t\t\ttoday: 'Šiandien'\n\t\t},\n\t\tis: {\n\t\t\tdays: ['Su', 'Má', 'Þr', 'Mi', 'Fi', 'Fö', 'La'],\n\t\t\tmonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maí\", \"Jún\", \"Júl\", \"Ágú\",\n\t\t\t\t\"Sep\", \"Okt\", \"Nóv\", \"Des\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'YYYY-MM-DD hh:mm',\n\t\t\tprevMonth: 'Fyrri mánuður',\n\t\t\tnextMonth: 'Næsti mánuður',\n\t\t\ttoday: 'Í dag'\n\t\t},\n\t\tfi: {\n\t\t\tdays: ['Su', 'Ma', 'Ti', 'Ke', 'To', 'Pe', 'La'],\n\t\t\tmonths: [\"Tammikuu\", \"Helmikuu\", \"Maaliskuu\", \"Huhtikuu\", \"Toukokuu\",\n\t\t\t\t\"Kesäkuu\", \"Heinäkuu\", \"Elokuu\", \"Syyskuu\", \"Lokakuu\",\n\t\t\t\t\"Marraskuu\", \"Joulukuu\"\n\t\t\t],\n\t\t\tsep: '-',\n\t\t\tformat: 'D.M.YYYY h:mm',\n\t\t\tprevMonth: 'Edellinen kuukausi',\n\t\t\tnextMonth: 'Seuraava kuukausi',\n\t\t\ttoday: 'Tänään'\n\t\t}\n\t};\n\t/* ----- */\n\n\t/**\n\t PickerHandler Object\n\t**/\n\tvar PickerHandler = function($picker, $input) {\n\t\tthis.$pickerObject = $picker;\n\t\tthis.$inputObject = $input;\n\t};\n\n\t/* Get a picker */\n\tPickerHandler.prototype.getPicker = function() {\n\t\treturn this.$pickerObject;\n\t};\n\n\t/* Get a input-field */\n\tPickerHandler.prototype.getInput = function() {\n\t\treturn this.$inputObject;\n\t};\n\n\t/* Get the display state of a picker */\n\tPickerHandler.prototype.isShow = function() {\n\t\tvar is_show = true;\n\t\tif (this.$pickerObject.css('display') == 'none') {\n\t\t\tis_show = false;\n\t\t}\n\t\treturn is_show;\n\t};\n\n\t/* Show a picker */\n\tPickerHandler.prototype.show = function() {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\n\t\t$picker.show();\n\n\t\tActivePickerId = $input.data('pickerId');\n\n\t\tif ($input != null && $picker.data('isInline') === false) { // Float mode\n\t\t\t// Relocate a picker to position of the appended input-field\n\t\t\tthis._relocate();\n\t\t}\n\t};\n\n\t/* Hide a picker */\n\tPickerHandler.prototype.hide = function() {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\t\t$picker.hide();\n\t};\n\n\t/* Get a selected date from a picker */\n\tPickerHandler.prototype.getDate = function() {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\t\treturn getPickedDate($picker);\n\t};\n\n\t/* Set a specific date to a picker */\n\tPickerHandler.prototype.setDate = function(date) {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\t\tif (!isObj('Date', date)) {\n\t\t\tdate = new Date(date);\n\t\t}\n\n\t\tdraw_date($picker, {\n\t\t\t\"isAnim\": true,\n\t\t\t\"isOutputToInputObject\": true\n\t\t}, date);\n\t};\n\n\t/* Set a specific min date to a picker and redraw */\n\tPickerHandler.prototype.setMinDate = function(date) {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\t\tif (!isObj('Date', date)) {\n\t\t\tdate = new Date(date);\n\t\t}\n\t\t$picker.data(\"minDate\", date);\n\t\tif ($input.val()) {\n\t\t\tdatepicked = new Date(getPickedDate($picker));\n\t\t\tdraw_date($picker, {\n\t\t\t\t\"isAnim\": true,\n\t\t\t\t\"isOutputToInputObject\": true\n\t\t\t}, ((datepicked > date) ? datepicked : date));\n\t\t} else {\n\t\t\tdraw_date($picker, {\n\t\t\t\t\"isAnim\": true,\n\t\t\t\t\"isOutputToInputObject\": false\n\t\t\t}, date);\n\t\t}\n\t};\n\n\t/* Set a specific max date to a picker and redraw */\n\tPickerHandler.prototype.setMaxDate = function(date) {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\t\tif (!isObj('Date', date)) {\n\t\t\tdate = new Date(date);\n\t\t}\n\t\t$picker.data(\"maxDate\", date);\n\t\tif ($input.val()) {\n\t\t\tdatepicked = new Date(getPickedDate($picker));\n\t\t\tdraw_date($picker, {\n\t\t\t\t\"isAnim\": true,\n\t\t\t\t\"isOutputToInputObject\": true\n\t\t\t}, ((datepicked < date) ? datepicked : date));\n\t\t} else {\n\t\t\tdraw_date($picker, {\n\t\t\t\t\"isAnim\": true,\n\t\t\t\t\"isOutputToInputObject\": false\n\t\t\t}, date);\n\t\t}\n\t};\n\n\t/* Destroy a picker */\n\tPickerHandler.prototype.destroy = function() {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar picker_id = $picker.data('pickerId');\n\t\tPickerObjects[picker_id] = null;\n\t\t$picker.remove();\n\t};\n\n\t/* Relocate a picker to position of the appended input-field. */\n\tPickerHandler.prototype._relocate = function() {\n\t\tvar $picker = this.$pickerObject;\n\t\tvar $input = this.$inputObject;\n\n\t\tif ($input != null && $picker.data('isInline') === false) { // Float mode\n\t\t\t// Move position of a picker - vertical\n\t\t\tvar input_outer_height = $input.outerHeight({\n\t\t\t\t'margin': true\n\t\t\t});\n\t\t\tif (!isObj('Number', input_outer_height)) {\n\t\t\t\tinput_outer_height = $input.outerHeight();\n\t\t\t}\n\t\t\tvar picker_outer_height = $picker.outerHeight({\n\t\t\t\t'margin': true\n\t\t\t});\n\t\t\tif (!isObj('Number', picker_outer_height)) {\n\t\t\t\tpicker_outer_height = $picker.outerHeight();\n\t\t\t}\n\n\t\t\t// Set width to assure date and time are side by side\n\t\t\tif ($(\".datepicker_calendar\", $picker).width() !== 0 && $(\n\t\t\t\t\t\".datepicker_timelist\", $picker).width() !== 0) {\n\t\t\t\t$picker.parent().width($(\".datepicker_calendar\", $picker).width() +\n\t\t\t\t\t$(\".datepicker_timelist\", $picker).width() + 6);\n\t\t\t}\n\t\t\tif (parseInt($(window).height()) <= ($input.offset().top - $(document)\n\t\t\t\t\t.scrollTop() + input_outer_height + picker_outer_height)) {\n\t\t\t\t// Display to top of an input-field\n\t\t\t\t$picker.parent().css('top', ($input.offset().top - (\n\t\t\t\t\tinput_outer_height / 2) - picker_outer_height) + 'px');\n\t\t\t} else {\n\t\t\t\t// Display to bottom of an input-field\n\t\t\t\t$picker.parent().css('top', ($input.offset().top +\n\t\t\t\t\tinput_outer_height) + 'px');\n\t\t\t}\n\t\t\t// Move position of a picker - horizontal\n\t\t\tif ($picker.parent().width() + $input.offset().left > $(window).width() &&\n\t\t\t\t$picker.data('timeOnly') !== true) {\n\t\t\t\t// Display left side stick to window\n\t\t\t\t$picker.parent().css('left', (($(window).width() - $picker.parent()\n\t\t\t\t\t.width()) / 2) + 'px');\n\t\t\t} else {\n\t\t\t\t// Display left side stick to input\n\t\t\t\t$picker.parent().css('left', $input.offset().left + 'px');\n\t\t\t}\n\t\t\t// Display on most top of the z-index\n\t\t\t$picker.parent().css('z-index', 100000);\n\t\t}\n\t};\n\n\t/* ----- */\n\n\tvar PickerObjects = [];\n\tvar InputObjects = [];\n\tvar ActivePickerId = -1;\n\n\tvar getParentPickerObject = function(obj) {\n\t\treturn $(obj).closest('.datepicker');\n\t};\n\n\tvar getPickersInputObject = function($obj) {\n\t\tvar $picker = getParentPickerObject($obj);\n\t\tif ($picker.data(\"inputObjectId\") != null) {\n\t\t\treturn $(InputObjects[$picker.data(\"inputObjectId\")]);\n\t\t}\n\t\treturn null;\n\t};\n\n\tvar setToNow = function($obj) {\n\t\tvar $picker = getParentPickerObject($obj);\n\t\tvar date = new Date();\n\t\tvar year, month, day, hour, minute;\n\n\t\t// compare timestamps\n\t\tif ($picker.data('minDate') !== null && date < $picker.data('minDate')) {\n\t\t\tvar minDate = new Date($picker.data('minDate'));\n\t\t\tyear = minDate.getFullYear();\n\t\t\tmonth = minDate.getMonth();\n\t\t\tday = minDate.getDate();\n\t\t\thour = minDate.getHours();\n\t\t\tminute = minDate.getMinutes();\n\t\t} else if ($picker.data('maxDate') !== null && date > $picker.data(\n\t\t\t\t'maxDate')) {\n\t\t\tvar maxDate = new Date($picker.data('maxDate'));\n\t\t\tyear = maxDate.getFullYear();\n\t\t\tmonth = maxDate.getMonth();\n\t\t\tday = maxDate.getDate();\n\t\t\thour = maxDate.getHours();\n\t\t\tminute = maxDate.getMinutes();\n\t\t} else {\n\t\t\tyear = date.getFullYear();\n\t\t\tmonth = date.getMonth();\n\t\t\tday = date.getDate();\n\t\t\thour = date.getHours();\n\t\t\tminute = date.getMinutes();\n\t\t}\n\n\t\tdraw($picker, {\n\t\t\t\"isAnim\": true,\n\t\t\t\"isOutputToInputObject\": true\n\t\t}, year, month, day, hour, minute);\n\t};\n\n\tvar beforeMonth = function($obj) {\n\t\tvar $picker = getParentPickerObject($obj);\n\n\t\tif ($picker.data('stateAllowBeforeMonth') === false) { // Not allowed\n\t\t\treturn;\n\t\t}\n\n\t\tvar date = getShownDate($picker);\n\t\tvar targetMonth_lastDay = new Date(date.getFullYear(), date.getMonth(), 0)\n\t\t\t.getDate();\n\t\tif (targetMonth_lastDay < date.getDate()) {\n\t\t\tdate.setDate(targetMonth_lastDay);\n\t\t}\n\t\tdraw($picker, {\n\t\t\t\t\"isAnim\": true,\n\t\t\t\t\"isOutputToInputObject\": false,\n\t\t\t\t\"keepPickedDate\": true\n\t\t\t}, date.getFullYear(), date.getMonth() - 1, date.getDate(), date.getHours(),\n\t\t\tdate.getMinutes());\n\n\t\tvar todayDate = new Date();\n\t\tif ($picker.data(\"futureOnly\") && $picker.data(\"current\")) {\n\t\t\ttodayDate = new Date($picker.data(\"current\"));\n\t\t}\n\n\t\tvar isCurrentYear = todayDate.getFullYear() == date.getFullYear();\n\t\tvar isCurrentMonth = isCurrentYear && todayDate.getMonth() == date.getMonth();\n\n\t\tif (!isCurrentMonth || !$picker.data(\"futureOnly\")) {\n\t\t\tif (targetMonth_lastDay < date.getDate()) {\n\t\t\t\tdate.setDate(targetMonth_lastDay);\n\t\t\t}\n\t\t\tvar newdate = new Date(date.getFullYear(), date.getMonth() - 1, date.getDate(),\n\t\t\t\tdate.getHours(), date.getMinutes());\n\t\t\tif ($picker.data(\"minDate\") && newdate < $picker.data(\"minDate\"))\n\t\t\t\tnewdate = new Date($picker.data(\"minDate\"));\n\t\t\tdraw($picker, {\n\t\t\t\t\t\"isAnim\": true,\n\t\t\t\t\t\"isOutputToInputObject\": false,\n\t\t\t\t\t\"keepPickedDate\": true\n\t\t\t\t}, newdate.getFullYear(), newdate.getMonth(), newdate.getDate(),\n\t\t\t\tnewdate.getHours(), newdate.getMinutes());\n\t\t}\n\t};\n\n\tvar nextMonth = function($obj) {\n\t\tvar $picker = getParentPickerObject($obj);\n\t\tvar date = getShownDate($picker);\n\t\tvar targetMonth_lastDay = new Date(date.getFullYear(), date.getMonth() +\n\t\t\t1, 0).getDate();\n\t\tif (targetMonth_lastDay < date.getDate()) {\n\t\t\tdate.setDate(targetMonth_lastDay);\n\t\t}\n\n\t\t// Check a last date of a next month\n\t\tif (getLastDate(date.getFullYear(), date.getMonth() + 1) < date.getDate()) {\n\t\t\tdate.setDate(getLastDate(date.getFullYear(), date.getMonth() + 1));\n\t\t}\n\t\tvar newdate = new Date(date.getFullYear(), date.getMonth() + 1, date.getDate(),\n\t\t\tdate.getHours(), date.getMinutes());\n\t\tif ($picker.data(\"maxDate\") && newdate > $picker.data(\"maxDate\"))\n\t\t\tnewdate = new Date($picker.data(\"maxDate\"));\n\t\tdraw($picker, {\n\t\t\t\t\"isAnim\": true,\n\t\t\t\t\"isOutputToInputObject\": false,\n\t\t\t\t\"keepPickedDate\": true\n\t\t\t}, newdate.getFullYear(), newdate.getMonth(), newdate.getDate(),\n\t\t\tnewdate.getHours(), newdate.getMinutes());\n\t};\n\n\t/**\n\t Check a last date of a specified year and month\n\t **/\n\tvar getLastDate = function(year, month) {\n\t\tvar date = new Date(year, month + 1, 0);\n\t\treturn date.getDate();\n\t};\n\n\tvar getDateFormat = function(format, locale, is_date_only, is_time_only) {\n\t\tif (format == \"default\") {\n\t\t\t// Default format\n\t\t\tformat = translate(locale, 'format');\n\t\t\tif (is_date_only) {\n\t\t\t\t// Convert the format to date-only (ex: YYYY/MM/DD)\n\t\t\t\tformat = format.substring(0, format.search(' '));\n\t\t\t} else if (is_time_only) {\n\t\t\t\tformat = format.substring(format.search(' ') + 1);\n\t\t\t}\n\t\t}\n\t\treturn format; // Return date-format\n\t};\n\n\tvar normalizeYear = function(year) {\n\t\tif (year < 99) { // change year for 4 digits\n\t\t\tvar date = new Date();\n\t\t\treturn parseInt(year) + parseInt(date.getFullYear().toString().substr(\n\t\t\t\t0, 2) + \"00\");\n\t\t}\n\t\treturn year;\n\t};\n\tvar parseDate = function(str, opt_date_format) {\n\t\tvar re, m, date;\n\t\tif (opt_date_format != null) {\n\t\t\t// Parse date & time with date-format\n\n\t\t\t// Match a string with date format\n\t\t\tvar df = opt_date_format.replace(/hh:mm.*/, '(?:$&)?')\n\t\t\t\t.replace(/\\s/, '\\\\s?')\n\t\t\t\t.replace(/(-|\\/)/g, '[-\\/]')\n\t\t\t\t.replace(/YYYY/gi, '(\\\\d{2,4})')\n\t\t\t\t.replace(/(YY|MM|DD|HH|hh|mm)/g, '(\\\\d{1,2})')\n\t\t\t\t.replace(/(M|D|H|h|m)/g, '(\\\\d{1,2})')\n\t\t\t\t.replace(/(tt|TT)/g, '([aApP][mM])');\n\t\t\tre = new RegExp(df);\n\t\t\tm = re.exec(str);\n\t\t\tif (m != null) {\n\n\t\t\t\t// Generate the formats array (convert-table)\n\t\t\t\tvar formats = [];\n\t\t\t\tvar format_buf = '';\n\t\t\t\tvar format_before_c = '';\n\t\t\t\tvar df_ = opt_date_format;\n\t\t\t\twhile (df_ != null && 0 < df_.length) {\n\t\t\t\t\tvar format_c = df_.substring(0, 1);\n\t\t\t\t\tdf_ = df_.substring(1, df_.length);\n\t\t\t\t\tif (format_before_c != format_c) {\n\t\t\t\t\t\tif (/(YYYY|YY|MM|DD|mm|dd|M|D|HH|H|hh|h|m|tt|TT)/.test(\n\t\t\t\t\t\t\t\tformat_buf)) {\n\t\t\t\t\t\t\tformats.push(format_buf);\n\t\t\t\t\t\t\tformat_buf = '';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tformat_buf = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tformat_buf += format_c;\n\t\t\t\t\tformat_before_c = format_c;\n\t\t\t\t}\n\t\t\t\tif (format_buf !== '' &&\n\t\t\t\t\t/(YYYY|YY|MM|DD|mm|dd|M|D|HH|H|hh|h|m|tt|TT)/.test(format_buf)\n\t\t\t\t) {\n\t\t\t\t\tformats.push(format_buf);\n\t\t\t\t}\n\n\t\t\t\t// Convert a string (with convert-table) to a date object\n\t\t\t\tvar year, month, day, hour, min;\n\t\t\t\tvar is_successful = false;\n\t\t\t\tvar pm = false;\n\t\t\t\tvar H = false;\n\t\t\t\tfor (var i = 0; i < formats.length; i++) {\n\t\t\t\t\tif (m.length < i) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar f = formats[i];\n\t\t\t\t\tvar d = m[i + 1]; // Matched part of date\n\t\t\t\t\tif (f == 'YYYY') {\n\t\t\t\t\t\tyear = normalizeYear(d);\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'YY') {\n\t\t\t\t\t\tyear = parseInt(d) + 2000;\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'MM' || f == 'M') {\n\t\t\t\t\t\tmonth = parseInt(d) - 1;\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'DD' || f == 'D') {\n\t\t\t\t\t\tday = d;\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'hh' || f == 'h') {\n\t\t\t\t\t\thour = (typeof d != 'undefined') ? d : 0;\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'HH' || f == 'H') {\n\t\t\t\t\t\thour = (typeof d != 'undefined') ? d : 0;\n\t\t\t\t\t\tH = true;\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'mm' || f == 'm') {\n\t\t\t\t\t\tmin = (typeof d != 'undefined') ? d : 0;\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t} else if (f == 'tt' || f == 'TT') {\n\t\t\t\t\t\tif (d == 'pm' || d == 'PM') {\n\t\t\t\t\t\t\tpm = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tis_successful = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (H) {\n\t\t\t\t\tif (pm) {\n\t\t\t\t\t\tif (hour != 12) {\n\t\t\t\t\t\t\thour = parseInt(hour) + 12;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (hour == 12) {\n\t\t\t\t\t\thour = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdate = new Date(year, month, day, hour, min);\n\n\t\t\t\tif (is_successful === true && isNaN(date) === false && isNaN(date\n\t\t\t\t\t\t.getDate()) === false) { // Parse successful\n\t\t\t\t\treturn date;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Parse date & time with common format\n\t\tre = /^(\\d{2,4})[-\\/](\\d{1,2})[-\\/](\\d{1,2}) (\\d{1,2}):(\\d{1,2})$/;\n\t\tm = re.exec(str);\n\t\tif (m !== null) {\n\t\t\tm[1] = normalizeYear(m[1]);\n\t\t\tdate = new Date(m[1], m[2] - 1, m[3], m[4], m[5]);\n\t\t} else {\n\t\t\t// Parse for date-only\n\t\t\tre = /^(\\d{2,4})[-\\/](\\d{1,2})[-\\/](\\d{1,2})$/;\n\t\t\tm = re.exec(str);\n\t\t\tif (m !== null) {\n\t\t\t\tm[1] = normalizeYear(m[1]);\n\t\t\t\tdate = new Date(m[1], m[2] - 1, m[3]);\n\t\t\t}\n\t\t}\n\n\t\tif (isNaN(date) === false && isNaN(date.getDate()) === false) { // Parse successful\n\t\t\treturn date;\n\t\t}\n\t\treturn false;\n\t};\n\tvar getFormattedDate = function(date, date_format) {\n\t\tif (date == null) {\n\t\t\tdate = new Date();\n\t\t}\n\n\t\tvar y = date.getFullYear();\n\t\tvar m = date.getMonth() + 1;\n\t\tvar d = date.getDate();\n\t\tvar hou = date.getHours();\n\t\tvar min = date.getMinutes();\n\n\t\tdate_format = date_format.replace(/YYYY/gi, y)\n\t\t\t.replace(/YY/g, y - 2000) /* century */\n\t\t\t.replace(/MM/g, zpadding(m))\n\t\t\t.replace(/M/g, m)\n\t\t\t.replace(/DD/g, zpadding(d))\n\t\t\t.replace(/D/g, d)\n\t\t\t.replace(/hh/g, zpadding(hou))\n\t\t\t.replace(/h/g, hou)\n\t\t\t.replace(/HH/g, (hou > 12 ? zpadding(hou - 12) : (hou < 1 ? 12 :\n\t\t\t\tzpadding(hou))))\n\t\t\t.replace(/H/g, (hou > 12 ? hou - 12 : (hou < 1 ? 12 : hou)))\n\t\t\t.replace(/mm/g, zpadding(min))\n\t\t\t.replace(/m/g, min)\n\t\t\t.replace(/tt/g, (hou >= 12 ? \"pm\" : \"am\"))\n\t\t\t.replace(/TT/g, (hou >= 12 ? \"PM\" : \"AM\"));\n\t\treturn date_format;\n\t};\n\n\tvar outputToInputObject = function($picker) {\n\t\tvar $inp = getPickersInputObject($picker);\n\t\tif ($inp == null) {\n\t\t\treturn;\n\t\t}\n\t\tvar date = getPickedDate($picker);\n\t\tvar locale = $picker.data(\"locale\");\n\t\tvar format = getDateFormat($picker.data(\"dateFormat\"), locale, $picker.data(\n\t\t\t'dateOnly'), $picker.data('timeOnly'));\n\t\tvar old = $inp.val();\n\t\t$inp.val(getFormattedDate(date, format));\n\t\tif (old != $inp.val()) { // only trigger if it actually changed to avoid a nasty loop condition\n\t\t\t$inp.trigger(\"change\");\n\t\t}\n\t};\n\n\tvar getShownDate = function($obj) {\n\t\tvar $picker = getParentPickerObject($obj);\n\t\treturn $picker.data(\"shownDate\");\n\t};\n\n\tvar getPickedDate = function($obj) {\n\t\tvar $picker = getParentPickerObject($obj);\n\t\treturn $picker.data(\"pickedDate\");\n\t};\n\n\tvar zpadding = function(num) {\n\t\tnum = (\"0\" + num).slice(-2);\n\t\treturn num;\n\t};\n\n\tvar draw_date = function($picker, option, date) {\n\t\t//console.log(\"draw_date - \" + date.toString());\n\t\tdraw($picker, option, date.getFullYear(), date.getMonth(), date.getDate(),\n\t\t\tdate.getHours(), date.getMinutes());\n\t};\n\tvar translate = function(locale, s) {\n\t\tif (typeof lang[locale][s] !== \"undefined\") {\n\t\t\treturn lang[locale][s];\n\t\t}\n\t\treturn lang.en[s];\n\t};\n\tvar draw = function($picker, option, year, month, day, hour, min) {\n\t\tvar date = new Date();\n\n\t\tif (hour != null) {\n\t\t\tdate = new Date(year, month, day, hour, min, 0);\n\t\t} else if (year != null) {\n\t\t\tdate = new Date(year, month, day);\n\t\t} else {\n\t\t\tdate = new Date();\n\t\t}\n\n\t\t/* Read options */\n\t\tvar isTodayButton = $picker.data(\"todayButton\");\n\t\tvar isCloseButton = $picker.data(\"closeButton\");\n\t\tvar isScroll = option.isAnim;\n\t\t/* It same with isAnim */\n\t\tif ($picker.data(\"timelistScroll\") === false) { // If disabled by user option.\n\t\t\tisScroll = false;\n\t\t}\n\n\t\tvar isAnim = option.isAnim;\n\t\tif ($picker.data(\"animation\") === false) { // If disabled by user option.\n\t\t\tisAnim = false;\n\t\t}\n\n\t\tvar isFutureOnly = $picker.data(\"futureOnly\");\n\t\tvar minDate = $picker.data(\"minDate\");\n\t\tvar maxDate = $picker.data(\"maxDate\");\n\n\t\tvar isOutputToInputObject = option.isOutputToInputObject;\n\t\tvar keepPickedDate = option.keepPickedDate;\n\t\tif (typeof keepPickedDate === \"undefined\") keepPickedDate = false;\n\n\t\tvar minuteInterval = $picker.data(\"minuteInterval\");\n\t\tvar firstDayOfWeek = $picker.data(\"firstDayOfWeek\");\n\n\t\tvar allowWdays = $picker.data(\"allowWdays\");\n\t\tif (allowWdays == null || isObj('Array', allowWdays) === false ||\n\t\t\tallowWdays.length <= 0) {\n\t\t\tallowWdays = null;\n\t\t}\n\n\t\tvar minTime = $picker.data(\"minTime\");\n\t\tvar maxTime = $picker.data(\"maxTime\");\n\n\t\t/* Check a specified date */\n\t\tvar todayDate = new Date();\n\n\n\t\tif (isFutureOnly) {\n\t\t\tif ($picker.data(\"current\")) {\n\t\t\t\ttodayDate = new Date($picker.data(\"current\"));\n\t\t\t}\n\t\t\tif (date.getTime() < todayDate.getTime()) { // Already passed\n\t\t\t\tdate.setTime(todayDate.getTime());\n\t\t\t}\n\t\t}\n\t\tif (allowWdays != null && allowWdays.length <= 6) {\n\t\t\twhile (true) {\n\t\t\t\tif ($.inArray(date.getDay(), allowWdays) == -1) { // Unallowed wday\n\t\t\t\t\t// Slide a date\n\t\t\t\t\tdate.setDate(date.getDate() + 1);\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/* Read locale option */\n\t\tvar locale = $picker.data(\"locale\");\n\t\tif (!lang.hasOwnProperty(locale)) {\n\t\t\tlocale = 'en';\n\t\t}\n\n\t\t/* Calculate dates */\n\t\tvar firstWday = new Date(date.getFullYear(), date.getMonth(), 1).getDay() -\n\t\t\tfirstDayOfWeek;\n\t\tvar lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n\t\tvar beforeMonthLastDay = new Date(date.getFullYear(), date.getMonth(), 0)\n\t\t\t.getDate();\n\t\tvar dateBeforeMonth = new Date(date.getFullYear(), date.getMonth(), 0);\n\t\tvar dateNextMonth = new Date(date.getFullYear(), date.getMonth() + 2, 0);\n\t\tvar isCurrentYear = todayDate.getFullYear() == date.getFullYear();\n\t\tvar isCurrentMonth = isCurrentYear && todayDate.getMonth() == date.getMonth();\n\t\tvar isCurrentDay = isCurrentMonth && todayDate.getDate() == date.getDate();\n\t\tvar isNextYear = (todayDate.getFullYear() + 1 == date.getFullYear());\n\t\tvar isNextMonth = (isCurrentYear && todayDate.getMonth() + 1 == date.getMonth()) ||\n\t\t\t(isNextYear && todayDate.getMonth() === 11 && date.getMonth() === 0);\n\t\tvar isPastMonth = false;\n\t\tif (date.getFullYear() < todayDate.getFullYear() || (isCurrentYear &&\n\t\t\t\tdate.getMonth() < todayDate.getMonth())) {\n\t\t\tisPastMonth = true;\n\t\t}\n\n\t\t/* Collect each part */\n\t\tvar $header = $picker.children('.datepicker_header');\n\t\tvar $inner = $picker.children('.datepicker_inner_container');\n\t\tvar $calendar = $picker.children('.datepicker_inner_container').children(\n\t\t\t'.datepicker_calendar');\n\t\tvar $table = $calendar.children('.datepicker_table');\n\t\tvar $timelist = $picker.children('.datepicker_inner_container').children(\n\t\t\t'.datepicker_timelist');\n\n\t\t/* Grasp a point that will be changed */\n\t\tvar changePoint = \"\";\n\t\tvar oldDate = getPickedDate($picker);\n\t\tif (oldDate != null) {\n\t\t\tif (oldDate.getMonth() != date.getMonth() || oldDate.getDate() !=\n\t\t\t\tdate.getDate()) {\n\t\t\t\tchangePoint = \"calendar\";\n\t\t\t} else if (oldDate.getHours() != date.getHours() || oldDate.getMinutes() !=\n\t\t\t\tdate.getMinutes()) {\n\t\t\t\tif (date.getMinutes() === 0 || date.getMinutes() % minuteInterval ===\n\t\t\t\t\t0) {\n\t\t\t\t\tchangePoint = \"timelist\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/* Save newly date to Picker data */\n\t\tif (keepPickedDate === false) {\n\t\t\t$($picker).data(\"pickedDate\", date);\n\t\t}\n\t\t$($picker).data(\"shownDate\", date);\n\n\t\t/* Fade-out animation */\n\t\tif (isAnim === true) {\n\t\t\tif (changePoint == \"calendar\") {\n\t\t\t\t$calendar.stop().queue([]);\n\t\t\t\t$calendar.fadeTo(\"fast\", 0.8);\n\t\t\t} else if (changePoint == \"timelist\") {\n\t\t\t\t$timelist.stop().queue([]);\n\t\t\t\t$timelist.fadeTo(\"fast\", 0.8);\n\t\t\t}\n\t\t}\n\t\t/* Remind timelist scroll state */\n\t\tvar drawBefore_timeList_scrollTop = $timelist.scrollTop();\n\n\t\t/* New timelist  */\n\t\tvar timelist_activeTimeCell_offsetTop = -1;\n\n\t\t/* Header ----- */\n\t\t$header.children().remove();\n\n\t\tvar cDate = new Date(date.getTime());\n\t\tcDate.setMinutes(59);\n\t\tcDate.setHours(23);\n\t\tcDate.setSeconds(59);\n\t\tcDate.setDate(0); // last day of previous month\n\n\t\tvar $link_before_month = null;\n\t\tif ((!isFutureOnly || !isCurrentMonth) && ((minDate == null) || (minDate <\n\t\t\t\tcDate.getTime()))) {\n\t\t\t$link_before_month = $('<a>');\n\t\t\t$link_before_month.text('<');\n\t\t\t$link_before_month.prop('alt', translate(locale, 'prevMonth'));\n\t\t\t$link_before_month.prop('title', translate(locale, 'prevMonth'));\n\t\t\t$link_before_month.prop('class', \"before-month\");\n\t\t\t$link_before_month.click(function() {\n\t\t\t\tbeforeMonth($picker);\n\t\t\t});\n\t\t\t$picker.data('stateAllowBeforeMonth', true);\n\t\t} else {\n\t\t\t$picker.data('stateAllowBeforeMonth', false);\n\t\t}\n\n\t\tcDate.setMinutes(0);\n\t\tcDate.setHours(0);\n\t\tcDate.setSeconds(0);\n\t\tcDate.setDate(1); // First day of next month\n\t\tcDate.setMonth(date.getMonth() + 1);\n\n\t\tvar $now_month = $('<span>');\n\t\t$now_month.text(date.getFullYear() + \" \" + translate(locale, 'sep') + \" \" +\n\t\t\ttranslate(locale, 'months')[date.getMonth()]);\n\n\t\tvar $link_next_month = null;\n\t\tif ((maxDate == null) || (maxDate > cDate.getTime())) {\n\t\t\t$link_next_month = $('<a>');\n\t\t\t$link_next_month.text('>');\n\t\t\t$link_next_month.prop('alt', translate(locale, 'nextMonth'));\n\t\t\t$link_next_month.prop('title', translate(locale, 'nextMonth'));\n\t\t\t$link_next_month.prop('class', \"next-month\");\n\t\t\t$link_next_month.click(function() {\n\t\t\t\tnextMonth($picker);\n\t\t\t});\n\t\t}\n\n\t\tif (isTodayButton) {\n\t\t\tvar $link_today = $('<a><div/></a>');\n\t\t\t$link_today.addClass('icon-home');\n\t\t\t$link_today.prop('alt', translate(locale, 'today'));\n\t\t\t$link_today.prop('title', translate(locale, 'today'));\n\t\t\t$link_today.click(function() {\n\t\t\t\tsetToNow($picker);\n\t\t\t});\n\t\t\t$header.append($link_today);\n\t\t}\n\t\tif (isCloseButton) {\n\t\t\tvar $link_close = $('<a><div/></a>');\n\t\t\t$link_close.addClass('icon-close');\n\t\t\t$link_close.prop('alt', translate(locale, 'close'));\n\t\t\t$link_close.prop('title', translate(locale, 'close'));\n\t\t\t$link_close.click(function() {\n\t\t\t\t$picker.hide();\n\t\t\t});\n\t\t\t$header.append($link_close);\n\t\t}\n\n\t\tif ($link_before_month != null) {\n\t\t\t$header.append($link_before_month);\n\t\t}\n\t\t$header.append($now_month);\n\t\tif ($link_next_month != null) {\n\t\t\t$header.append($link_next_month);\n\t\t}\n\n\t\t/* Calendar > Table ----- */\n\t\t$table.children().remove();\n\t\tvar $tr = $('<tr>');\n\t\t$table.append($tr);\n\n\t\t/* Output wday cells */\n\t\tvar firstDayDiff = 7 + firstDayOfWeek;\n\t\tvar daysOfWeek = translate(locale, 'days');\n\t\tvar $td;\n\t\tfor (var i = 0; i < 7; i++) {\n\t\t\t$td = $('<th>');\n\t\t\t$td.text(daysOfWeek[((i + firstDayDiff) % 7)]);\n\t\t\t$tr.append($td);\n\t\t}\n\n\t\t/* Output day cells */\n\t\tvar cellNum = Math.ceil((firstWday + lastDay) / 7) * 7;\n\t\ti = 0;\n\t\tif (firstWday < 0) {\n\t\t\ti = -7;\n\t\t}\n\t\tvar realDayObj = new Date(date.getTime());\n\t\trealDayObj.setHours(0);\n\t\trealDayObj.setMinutes(0);\n\t\trealDayObj.setSeconds(0);\n\t\tvar pickedDate = getPickedDate($picker);\n\t\tvar shownDate = getShownDate($picker);\n\t\tvar $tbody = $('<tbody>');\n\t\t$table.append($tbody).children(\"tbody\");\n\t\tfor (var zz = 0; i < cellNum; i++) {\n\t\t\tvar realDay = i + 1 - firstWday;\n\n\t\t\tvar isPast = isPastMonth ||\n\t\t\t\t(isCurrentMonth && realDay < todayDate.getDate()) ||\n\t\t\t\t(isNextMonth && firstWday > i && (beforeMonthLastDay + realDay) <\n\t\t\t\t\ttodayDate.getDate());\n\n\t\t\tif (i % 7 === 0) {\n\t\t\t\t$tr = $('<tr>');\n\t\t\t\t$tbody.append($tr);\n\t\t\t}\n\n\t\t\t$td = $('<td>');\n\t\t\t$td.data(\"day\", realDay);\n\n\t\t\t$tr.append($td);\n\n\t\t\tif (firstWday > i) { /* Before months day */\n\t\t\t\t$td.text(beforeMonthLastDay + realDay);\n\t\t\t\t$td.addClass('day_another_month');\n\t\t\t\t$td.data(\"dateStr\", dateBeforeMonth.getFullYear() + \"/\" + (\n\t\t\t\t\tdateBeforeMonth.getMonth() + 1) + \"/\" + (\n\t\t\t\t\tbeforeMonthLastDay + realDay));\n\t\t\t\trealDayObj.setDate(beforeMonthLastDay + realDay);\n\t\t\t\trealDayObj.setMonth(dateBeforeMonth.getMonth());\n\t\t\t\trealDayObj.setYear(dateBeforeMonth.getFullYear());\n\t\t\t} else if (i < firstWday + lastDay) { /* Now months day */\n\t\t\t\t$td.text(realDay);\n\t\t\t\t$td.data(\"dateStr\", (date.getFullYear()) + \"/\" + (date.getMonth() +\n\t\t\t\t\t1) + \"/\" + realDay);\n\t\t\t\trealDayObj.setDate(realDay);\n\t\t\t\trealDayObj.setMonth(date.getMonth());\n\t\t\t\trealDayObj.setYear(date.getFullYear());\n\t\t\t} else { /* Next months day */\n\t\t\t\t$td.text(realDay - lastDay);\n\t\t\t\t$td.addClass('day_another_month');\n\t\t\t\t$td.data(\"dateStr\", dateNextMonth.getFullYear() + \"/\" + (\n\t\t\t\t\tdateNextMonth.getMonth() + 1) + \"/\" + (realDay -\n\t\t\t\t\tlastDay));\n\t\t\t\trealDayObj.setDate(realDay - lastDay);\n\t\t\t\trealDayObj.setMonth(dateNextMonth.getMonth());\n\t\t\t\trealDayObj.setYear(dateNextMonth.getFullYear());\n\t\t\t}\n\n\t\t\t/* Check a wday */\n\t\t\tvar wday = ((i + firstDayDiff) % 7);\n\t\t\tif (allowWdays != null) {\n\t\t\t\tif ($.inArray(wday, allowWdays) == -1) {\n\t\t\t\t\t$td.addClass('day_in_unallowed');\n\t\t\t\t\tcontinue; // Skip\n\t\t\t\t}\n\t\t\t} else if (wday === 0) { /* Sunday */\n\t\t\t\t$td.addClass('wday_sun');\n\t\t\t} else if (wday == 6) { /* Saturday */\n\t\t\t\t$td.addClass('wday_sat');\n\t\t\t}\n\n\t\t\t/* Set a special mark class */\n\t\t\tif (shownDate.getFullYear() == pickedDate.getFullYear() && shownDate.getMonth() ==\n\t\t\t\tpickedDate.getMonth() && realDay == pickedDate.getDate()) { /* selected day */\n\t\t\t\t$td.addClass('active');\n\t\t\t}\n\n\t\t\tif (isCurrentMonth && realDay == todayDate.getDate()) { /* today */\n\t\t\t\t$td.addClass('today');\n\t\t\t}\n\n\t\t\tvar realDayObjMN = new Date(realDayObj.getTime());\n\t\t\trealDayObjMN.setHours(23);\n\t\t\trealDayObjMN.setMinutes(59);\n\t\t\trealDayObjMN.setSeconds(59);\n\n\t\t\tif (\n\t\t\t\t// compare to 23:59:59 on the current day (if MIN is 1pm, then we still need to show this day\n\t\t\t\t((minDate != null) && (minDate > realDayObjMN.getTime())) || ((\n\t\t\t\t\tmaxDate != null) && (maxDate < realDayObj.getTime())) // compare to 00:00:00\n\t\t\t) { // Out of range day\n\t\t\t\t$td.addClass('out_of_range');\n\t\t\t} else if (isFutureOnly && isPast) { // Past day\n\t\t\t\t$td.addClass('day_in_past');\n\t\t\t} else {\n\t\t\t\t/* Set event-handler to day cell */\n\t\t\t\t$td.click(function(ev) {\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tif ($(this).hasClass('hover')) {\n\t\t\t\t\t\t$(this).removeClass('hover');\n\t\t\t\t\t}\n\t\t\t\t\t$(this).addClass('active');\n\n\t\t\t\t\tvar $picker = getParentPickerObject($(this));\n\t\t\t\t\tvar targetDate = new Date($(this).data(\"dateStr\"));\n\t\t\t\t\tvar selectedDate = getPickedDate($picker);\n\t\t\t\t\tdraw($picker, {\n\t\t\t\t\t\t\t\"isAnim\": false,\n\t\t\t\t\t\t\t\"isOutputToInputObject\": true\n\t\t\t\t\t\t}, targetDate.getFullYear(), targetDate.getMonth(),\n\t\t\t\t\t\ttargetDate.getDate(), selectedDate.getHours(),\n\t\t\t\t\t\tselectedDate.getMinutes());\n\n\t\t\t\t\t// Generate the handler of a picker\n\t\t\t\t\tvar $input = $(this);\n\t\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\n\t\t\t\t\t// Call a event-hanlder for onSelect\n\t\t\t\t\tvar func = $picker.data('onSelect');\n\t\t\t\t\tif (func != null) {\n\t\t\t\t\t\tfunc(handler, targetDate);\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($picker.data(\"dateOnly\") === true && $picker.data(\n\t\t\t\t\t\t\t\"isInline\") === false && $picker.data(\n\t\t\t\t\t\t\t\"closeOnSelected\")) {\n\t\t\t\t\t\t// Close a picker\n\t\t\t\t\t\tActivePickerId = -1;\n\t\t\t\t\t\t$picker.hide();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$td.hover(function() {\n\t\t\t\t\tif (!$(this).hasClass('active')) {\n\t\t\t\t\t\t$(this).addClass('hover');\n\t\t\t\t\t}\n\t\t\t\t}, function() {\n\t\t\t\t\tif ($(this).hasClass('hover')) {\n\t\t\t\t\t\t$(this).removeClass('hover');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/* ---- */\n\t\t}\n\n\t\tif ($picker.data('timeOnly') === true) {\n\t\t\t$calendar.css(\"display\", \"none\");\n\t\t\t$now_month.css(\"display\", \"none\");\n\t\t\tif ($link_next_month != null)\n\t\t\t\t$link_next_month.css(\"display\", \"none\");\n\t\t\tif ($link_before_month != null)\n\t\t\t\t$link_before_month.css(\"display\", \"none\");\n\t\t}\n\n\t\tif ($picker.data(\"dateOnly\") === true) {\n\t\t\t/* dateOnly mode */\n\t\t\t$timelist.css(\"display\", \"none\");\n\t\t} else {\n\t\t\t/* Timelist ----- */\n\t\t\t$timelist.children().remove();\n\n\t\t\t/* Set height to Timelist (Calendar innerHeight - Calendar padding) */\n\t\t\tif ($calendar.innerHeight() > 0) {\n\t\t\t\t$timelist.css(\"height\", $calendar.innerHeight() - 10 + 'px');\n\t\t\t}\n\n\t\t\trealDayObj = new Date(date.getTime());\n\t\t\t$timelist.css(\"height\", Math.max($calendar.innerHeight() - 10, 200) +\n\t\t\t\t'px');\n\n\t\t\t/* Output time cells */\n\t\t\tvar hour_ = minTime[0];\n\t\t\tvar min_ = minTime[1];\n\n\t\t\twhile (hour_ * 100 + min_ < maxTime[0] * 100 + maxTime[1]) {\n\n\t\t\t\tvar $o = $('<div>');\n\t\t\t\tvar is_past_time = hour_ < todayDate.getHours() || (hour_ ==\n\t\t\t\t\ttodayDate.getHours() && min_ < todayDate.getMinutes());\n\t\t\t\tvar is_past = isCurrentDay && is_past_time;\n\n\t\t\t\t$o.addClass('timelist_item');\n\t\t\t\tvar oText = \"\";\n\t\t\t\tif ($picker.data(\"amPmInTimeList\")) {\n\t\t\t\t\toText = /*zpadding*/ (hour_ > 12 ? hour_ - 12 : (hour_ < 1 ?\n\t\t\t\t\t\t12 : hour_));\n\t\t\t\t\toText += \":\" + zpadding(min_);\n\t\t\t\t\toText += (hour_ >= 12 ? \"PM\" : \"AM\");\n\t\t\t\t} else {\n\t\t\t\t\toText = zpadding(hour_) + \":\" + zpadding(min_);\n\t\t\t\t}\n\t\t\t\t$o.text(oText);\n\t\t\t\t$o.data(\"hour\", hour_);\n\t\t\t\t$o.data(\"min\", min_);\n\n\t\t\t\t$timelist.append($o);\n\n\t\t\t\trealDayObj.setHours(hour_);\n\t\t\t\trealDayObj.setMinutes(min_);\n\n\t\t\t\tif (\n\t\t\t\t\t((minDate != null) && (minDate > realDayObj.getTime())) || ((\n\t\t\t\t\t\tmaxDate != null) && (maxDate < realDayObj.getTime()))\n\t\t\t\t) { // Out of range cell\n\t\t\t\t\t$o.addClass('out_of_range');\n\t\t\t\t} else if (isFutureOnly && is_past) { // Past cell\n\t\t\t\t\t$o.addClass('time_in_past');\n\t\t\t\t} else { // Normal cell\n\t\t\t\t\t/* Set event handler to time cell */\n\t\t\t\t\t$o.click(function(ev) {\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t\tif ($(this).hasClass('hover')) {\n\t\t\t\t\t\t\t$(this).removeClass('hover');\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$(this).addClass('active');\n\n\t\t\t\t\t\tvar $picker = getParentPickerObject($(this));\n\t\t\t\t\t\tvar date = getPickedDate($picker);\n\t\t\t\t\t\tvar hour = $(this).data(\"hour\");\n\t\t\t\t\t\tvar min = $(this).data(\"min\");\n\t\t\t\t\t\tdraw($picker, {\n\t\t\t\t\t\t\t\t\"isAnim\": false,\n\t\t\t\t\t\t\t\t\"isOutputToInputObject\": true\n\t\t\t\t\t\t\t}, date.getFullYear(), date.getMonth(),\n\t\t\t\t\t\t\tdate.getDate(), hour, min);\n\n\t\t\t\t\t\tif ($picker.data(\"isInline\") === false && $picker\n\t\t\t\t\t\t\t.data(\"closeOnSelected\")) {\n\t\t\t\t\t\t\t// Close a picker\n\t\t\t\t\t\t\tActivePickerId = -1;\n\t\t\t\t\t\t\t$picker.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t$o.hover(function() {\n\t\t\t\t\t\tif (!$(this).hasClass('active')) {\n\t\t\t\t\t\t\t$(this).addClass('hover');\n\t\t\t\t\t\t}\n\t\t\t\t\t}, function() {\n\t\t\t\t\t\tif ($(this).hasClass('hover')) {\n\t\t\t\t\t\t\t$(this).removeClass('hover');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (hour_ == date.getHours() && min_ == date.getMinutes()) { /* selected time */\n\t\t\t\t\t$o.addClass('active');\n\t\t\t\t\ttimelist_activeTimeCell_offsetTop = $o.offset().top;\n\t\t\t\t}\n\n\t\t\t\tmin_ += minuteInterval;\n\t\t\t\tif (min_ >= 60) {\n\t\t\t\t\tmin_ = min_ - 60;\n\t\t\t\t\thour_++;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t/* Scroll the timelist */\n\t\t\tif (isScroll === true) {\n\t\t\t\t/* Scroll to new active time-cell position */\n\t\t\t\t$timelist.scrollTop(timelist_activeTimeCell_offsetTop - $timelist\n\t\t\t\t\t.offset().top);\n\t\t\t} else {\n\t\t\t\t/* Scroll to position that before redraw. */\n\t\t\t\t$timelist.scrollTop(drawBefore_timeList_scrollTop);\n\t\t\t}\n\t\t}\n\n\t\t/* Fade-in animation */\n\t\tif (isAnim === true) {\n\t\t\tif (changePoint == 'calendar' && $picker.data('timeOnly') === false) {\n\t\t\t\t$calendar.fadeTo('fast', 1.0);\n\t\t\t} else if (changePoint == 'timelist' && $picker.data('dateOnly') ===\n\t\t\t\tfalse) {\n\t\t\t\t$timelist.fadeTo('fast', 1.0);\n\t\t\t}\n\t\t}\n\n\t\t/* Output to InputForm */\n\t\tif (isOutputToInputObject === true) {\n\t\t\toutputToInputObject($picker);\n\t\t}\n\t};\n\n\t/* Check for object type */\n\tvar isObj = function(type, obj) {\n\t\t/* http://qiita.com/Layzie/items/465e715dae14e2f601de */\n\t\tvar clas = Object.prototype.toString.call(obj).slice(8, -1);\n\t\treturn obj !== undefined && obj !== null && clas === type;\n\t};\n\n\tvar init = function($obj, opt) {\n\t\t/* Container */\n\t\tvar $picker = $('<div>');\n\n\t\t$picker.destroy = function() {\n\t\t\twindow.alert('destroy!');\n\t\t};\n\n\t\t$picker.addClass('datepicker');\n\t\t$obj.append($picker);\n\n\t\t/* Set current date */\n\t\tif (!opt.current) {\n\t\t\topt.current = new Date();\n\t\t} else {\n\t\t\tvar format = getDateFormat(opt.dateFormat, opt.locale, opt.dateOnly,\n\t\t\t\topt.timeOnly);\n\t\t\tvar date = parseDate(opt.current, format);\n\t\t\tif (date) {\n\t\t\t\topt.current = date;\n\t\t\t} else {\n\t\t\t\topt.current = new Date();\n\t\t\t}\n\t\t}\n\n\t\t/* Set options data to container object  */\n\t\tif (opt.inputObjectId != null) $picker.data(\"inputObjectId\", opt.inputObjectId);\n\t\tif (opt.timeOnly) opt.todayButton = false;\n\t\t$picker.data(\"timeOnly\", opt.timeOnly);\n\t\t$picker.data(\"dateOnly\", opt.dateOnly);\n\t\t$picker.data(\"pickerId\", PickerObjects.length);\n\t\t$picker.data(\"dateFormat\", opt.dateFormat);\n\t\t$picker.data(\"locale\", opt.locale);\n\t\t$picker.data(\"firstDayOfWeek\", opt.firstDayOfWeek);\n\t\t$picker.data(\"animation\", opt.animation);\n\t\t$picker.data(\"closeOnSelected\", opt.closeOnSelected);\n\t\t$picker.data(\"timelistScroll\", opt.timelistScroll);\n\t\t$picker.data(\"calendarMouseScroll\", opt.calendarMouseScroll);\n\t\t$picker.data(\"todayButton\", opt.todayButton);\n\t\t$picker.data(\"closeButton\", opt.closeButton);\n\t\t$picker.data('futureOnly', opt.futureOnly);\n\t\t$picker.data('onShow', opt.onShow);\n\t\t$picker.data('onHide', opt.onHide);\n\t\t$picker.data('onSelect', opt.onSelect);\n\t\t$picker.data('onInit', opt.onInit);\n\t\t$picker.data('allowWdays', opt.allowWdays);\n\t\t$picker.data('current', opt.current);\n\n\t\tif (opt.amPmInTimeList === true) {\n\t\t\t$picker.data('amPmInTimeList', true);\n\t\t} else {\n\t\t\t$picker.data('amPmInTimeList', false);\n\t\t}\n\n\t\tvar minDate = Date.parse(opt.minDate);\n\t\tif (isNaN(minDate)) { // invalid date?\n\t\t\t$picker.data('minDate', null); // set to null\n\t\t} else {\n\t\t\t$picker.data('minDate', minDate);\n\t\t}\n\n\t\tvar maxDate = Date.parse(opt.maxDate);\n\t\tif (isNaN(maxDate)) { // invalid date?\n\t\t\t$picker.data('maxDate', null); // set to null\n\t\t} else {\n\t\t\t$picker.data('maxDate', maxDate);\n\t\t}\n\t\t$picker.data(\"state\", 0);\n\n\t\tif (5 <= opt.minuteInterval && opt.minuteInterval <= 30) {\n\t\t\t$picker.data(\"minuteInterval\", opt.minuteInterval);\n\t\t} else {\n\t\t\t$picker.data(\"minuteInterval\", 30);\n\t\t}\n\t\topt.minTime = opt.minTime.split(':');\n\t\topt.maxTime = opt.maxTime.split(':');\n\n\t\tif (!((opt.minTime[0] >= 0) && (opt.minTime[0] < 24))) {\n\t\t\topt.minTime[0] = \"00\";\n\t\t}\n\t\tif (!((opt.maxTime[0] >= 0) && (opt.maxTime[0] < 24))) {\n\t\t\topt.maxTime[0] = \"23\";\n\t\t}\n\t\tif (!((opt.minTime[1] >= 0) && (opt.minTime[1] < 60))) {\n\t\t\topt.minTime[1] = \"00\";\n\t\t}\n\t\tif (!((opt.maxTime[1] >= 0) && (opt.maxTime[1] < 24))) {\n\t\t\topt.maxTime[1] = \"59\";\n\t\t}\n\t\topt.minTime[0] = parseInt(opt.minTime[0], 10); // parse as decimal number\n\t\topt.minTime[1] = parseInt(opt.minTime[1], 10);\n\t\topt.maxTime[0] = parseInt(opt.maxTime[0], 10);\n\t\topt.maxTime[1] = parseInt(opt.maxTime[1], 10);\n\t\t$picker.data('minTime', opt.minTime);\n\t\t$picker.data('maxTime', opt.maxTime);\n\n\t\t/* Header */\n\t\tvar $header = $('<div>');\n\t\t$header.addClass('datepicker_header');\n\t\t$picker.append($header);\n\t\t/* InnerContainer*/\n\t\tvar $inner = $('<div>');\n\t\t$inner.addClass('datepicker_inner_container');\n\t\t$picker.append($inner);\n\t\t/* Calendar */\n\t\tvar $calendar = $('<div>');\n\t\t$calendar.addClass('datepicker_calendar');\n\t\tvar $table = $('<table>');\n\t\t$table.addClass('datepicker_table');\n\t\t$calendar.append($table);\n\t\t$inner.append($calendar);\n\t\t/* Timelist */\n\t\tvar $timelist = $('<div>');\n\t\t$timelist.addClass('datepicker_timelist');\n\t\t$inner.append($timelist);\n\n\t\t/* Set event-handler to calendar */\n\t\tif (opt.calendarMouseScroll) {\n\t\t\tif (window.sidebar) { // Mozilla Firefox\n\t\t\t\t$calendar.on('DOMMouseScroll', function(e) { // Change a month with mouse wheel scroll for Fx\n\t\t\t\t\tvar $picker = getParentPickerObject($(this));\n\n\t\t\t\t\t// up,left [delta < 0] down,right [delta > 0]\n\t\t\t\t\tvar delta = e.originalEvent.detail;\n\t\t\t\t\t/*\n\t\t\t\t\t// this code need to be commented - it's seems to be unnecessary\n\t\t\t\t\t// normalization (/3) is not needed as we move one month back or forth\n\t\t\t\t\tif(e.originalEvent.axis !== undefined && e.originalEvent.axis == e.originalEvent.HORIZONTAL_AXIS){\n\t\t\t\t\t\te.deltaX = delta;\n\t\t\t\t\t\te.deltaY = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.deltaX = 0;\n\t\t\t\t\t\te.deltaY = delta;\n\t\t\t\t\t}\n\t\t\t\t\te.deltaX /= 3;\n\t\t\t\t\te.deltaY /= 3;\n\t\t\t\t\t*/\n\t\t\t\t\tif (delta > 0) {\n\t\t\t\t\t\tnextMonth($picker);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbeforeMonth($picker);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t} else { // Other browsers\n\t\t\t\t$calendar.on('mousewheel', function(e) { // Change a month with mouse wheel scroll\n\t\t\t\t\tvar $picker = getParentPickerObject($(this));\n\t\t\t\t\t// up [delta > 0] down [delta < 0]\n\t\t\t\t\tif (e.originalEvent.wheelDelta / 120 > 0) {\n\t\t\t\t\t\tbeforeMonth($picker);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextMonth($picker);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tPickerObjects.push($picker);\n\n\t\tdraw_date($picker, {\n\t\t\t\"isAnim\": true,\n\t\t\t\"isOutputToInputObject\": opt.autodateOnStart\n\t\t}, opt.current);\n\t};\n\n\tvar getDefaults = function() {\n\t\treturn {\n\t\t\t\"current\": null,\n\t\t\t\"dateFormat\": \"default\",\n\t\t\t\"locale\": \"en\",\n\t\t\t\"animation\": true,\n\t\t\t\"minuteInterval\": 30,\n\t\t\t\"firstDayOfWeek\": 0,\n\t\t\t\"closeOnSelected\": false,\n\t\t\t\"timelistScroll\": true,\n\t\t\t\"calendarMouseScroll\": true,\n\t\t\t\"todayButton\": true,\n\t\t\t\"closeButton\": true,\n\t\t\t\"dateOnly\": false,\n\t\t\t\"timeOnly\": false,\n\t\t\t\"futureOnly\": false,\n\t\t\t\"minDate\": null,\n\t\t\t\"maxDate\": null,\n\t\t\t\"autodateOnStart\": true,\n\t\t\t\"minTime\": \"00:00\",\n\t\t\t\"maxTime\": \"23:59\",\n\t\t\t\"onShow\": null,\n\t\t\t\"onHide\": null,\n\t\t\t\"onSelect\": null,\n\t\t\t\"allowWdays\": null,\n\t\t\t\"amPmInTimeList\": false,\n\t\t\t\"externalLocale\": null\n\t\t};\n\t};\n\n\t/**\n\t * Initialize dtpicker\n\t */\n\t$.fn.dtpicker = function(config) {\n\t\tvar date = new Date();\n\t\tvar defaults = getDefaults();\n\n\t\tif (typeof config === \"undefined\" || config.closeButton !== true) {\n\t\t\tdefaults.closeButton = false;\n\t\t}\n\n\t\tdefaults.inputObjectId = undefined;\n\t\tvar options = $.extend(defaults, config);\n\n\t\treturn this.each(function(i) {\n\t\t\tinit($(this), options);\n\t\t});\n\t};\n\n\t/**\n\t * Initialize dtpicker, append to Text input field\n\t * */\n\t$.fn.appendDtpicker = function(config) {\n\t\tvar date = new Date();\n\t\tvar defaults = getDefaults();\n\n\t\tif (typeof config !== \"undefined\" && config.inline === true && config.closeButton !==\n\t\t\ttrue) {\n\t\t\tdefaults.closeButton = false;\n\t\t}\n\n\t\tdefaults.inline = false;\n\t\tvar options = $.extend(defaults, config);\n\n\t\tif (options.externalLocale != null) {\n\t\t\tlang = $.extend(lang, options.externalLocale);\n\t\t}\n\n\t\treturn this.each(function(i) {\n\t\t\t/* Checking exist a picker */\n\t\t\tvar input = this;\n\t\t\tif (0 < $(PickerObjects[$(input).data('pickerId')]).length) {\n\t\t\t\tconsole.log(\"dtpicker - Already exist appended picker\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/* Add input-field with inputsObjects array */\n\t\t\tvar inputObjectId = InputObjects.length;\n\t\t\tInputObjects.push(input);\n\n\t\t\toptions.inputObjectId = inputObjectId;\n\n\t\t\t/* Current date */\n\t\t\tvar date, strDate, strTime;\n\t\t\tif ($(input).val() != null && $(input).val() !== \"\") {\n\t\t\t\toptions.current = $(input).val();\n\t\t\t}\n\n\t\t\t/* Make parent-div for picker */\n\t\t\tvar $d = $('<div>');\n\t\t\tif (options.inline) { // Inline mode\n\t\t\t\t$d.insertAfter(input);\n\t\t\t} else { // Float mode\n\t\t\t\t$d.css(\"position\", \"absolute\");\n\t\t\t\t$('body').append($d);\n\t\t\t}\n\n\t\t\t/* Initialize picker */\n\n\t\t\tvar pickerId = PickerObjects.length;\n\n\t\t\tvar $picker_parent = $($d).dtpicker(options); // call dtpicker() method\n\n\t\t\tvar $picker = $picker_parent.children('.datepicker');\n\n\t\t\t/* Link input-field with picker*/\n\t\t\t$(input).data('pickerId', pickerId);\n\n\t\t\t/* Set event handler to input-field */\n\n\t\t\t$(input).keyup(function() {\n\t\t\t\tvar $input = $(this);\n\t\t\t\tvar $picker = $(PickerObjects[$input.data(\n\t\t\t\t\t'pickerId')]);\n\t\t\t\tif ($input.val() != null && (\n\t\t\t\t\t\t$input.data('beforeVal') == null ||\n\t\t\t\t\t\t($input.data('beforeVal') != null &&\n\t\t\t\t\t\t\t$input.data('beforeVal') != $input.val()\n\t\t\t\t\t\t))) { /* beforeValue == null || beforeValue != nowValue  */\n\t\t\t\t\tvar format = getDateFormat($picker.data(\n\t\t\t\t\t\t'dateFormat'), $picker.data(\n\t\t\t\t\t\t'locale'), $picker.data(\n\t\t\t\t\t\t'dateOnly'), $picker.data(\n\t\t\t\t\t\t'timeOnly'));\n\t\t\t\t\tvar date = parseDate($input.val(), format);\n\t\t\t\t\t//console.log(\"dtpicker - inputKeyup - format: \" + format + \", date: \" + $input.val() + \" -> \" + date);\n\t\t\t\t\tif (date) {\n\t\t\t\t\t\tdraw_date($picker, {\n\t\t\t\t\t\t\t\"isAnim\": true,\n\t\t\t\t\t\t\t\"isOutputToInputObject\": false\n\t\t\t\t\t\t}, date);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$input.data('beforeVal', $input.val());\n\t\t\t});\n\n\t\t\t$(input).change(function() {\n\t\t\t\t$(this).trigger('keyup');\n\t\t\t});\n\n\t\t\tvar handler = new PickerHandler($picker, $(input));\n\n\t\t\tif (options.inline === true) {\n\t\t\t\t/* inline mode */\n\t\t\t\t$picker.data('isInline', true);\n\t\t\t} else {\n\t\t\t\t/* float mode */\n\t\t\t\t$picker.data('isInline', false);\n\t\t\t\t$picker_parent.css({\n\t\t\t\t\t\"zIndex\": 100\n\t\t\t\t});\n\t\t\t\t$picker.css(\"width\", \"auto\");\n\n\t\t\t\t/* Hide this picker */\n\t\t\t\t$picker.hide();\n\n\t\t\t\t/* Set onClick event handler for input-field */\n\t\t\t\t$(input).on('click, focus', function(ev) {\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tvar $input = $(this);\n\t\t\t\t\tvar $picker = $(PickerObjects[$input.data(\n\t\t\t\t\t\t'pickerId')]);\n\n\t\t\t\t\t// Generate the handler of a picker\n\t\t\t\t\tvar handler = new PickerHandler($picker,\n\t\t\t\t\t\t$input);\n\t\t\t\t\t// Get the display state of a picker\n\t\t\t\t\tvar is_showed = handler.isShow();\n\t\t\t\t\tif (!is_showed) {\n\t\t\t\t\t\t// Show a picker\n\t\t\t\t\t\thandler.show();\n\n\t\t\t\t\t\t// Call a event-hanlder\n\t\t\t\t\t\tvar func = $picker.data('onShow');\n\t\t\t\t\t\tif (func != null) {\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t\"dtpicker- Call the onShow handler\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tfunc(handler);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Set an event handler for resizing of a window\n\t\t\t\t(function(handler) {\n\t\t\t\t\t$(window).resize(function() {\n\t\t\t\t\t\thandler._relocate();\n\t\t\t\t\t});\n\t\t\t\t\t$(window).scroll(function() {\n\t\t\t\t\t\thandler._relocate();\n\t\t\t\t\t});\n\t\t\t\t})(handler);\n\t\t\t}\n\n\t\t\t// Set an event handler for removing of an input-field\n\t\t\t$(input).on('destroyed', function() {\n\t\t\t\tvar $input = $(this);\n\t\t\t\tvar $picker = $(PickerObjects[$input.data(\n\t\t\t\t\t'pickerId')]);\n\t\t\t\t// Generate the handler of a picker\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Destroy a picker\n\t\t\t\thandler.destroy();\n\t\t\t});\n\n\t\t\t// Call a event-handler\n\t\t\tvar func = $picker.data('onInit');\n\t\t\tif (func != null) {\n\t\t\t\tconsole.log(\"dtpicker- Call the onInit handler\");\n\t\t\t\tfunc(handler);\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Handle a appended dtpicker\n\t * */\n\tvar methods = {\n\t\tshow: function() {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Show a picker\n\t\t\t\thandler.show();\n\t\t\t}\n\t\t},\n\t\thide: function() {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Hide a picker\n\t\t\t\thandler.hide();\n\t\t\t}\n\t\t},\n\t\tsetDate: function(date) {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Set a date\n\t\t\t\thandler.setDate(date);\n\t\t\t}\n\t\t},\n\t\tsetMinDate: function(date) {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Set a min date\n\t\t\t\thandler.setMinDate(date);\n\t\t\t}\n\t\t},\n\t\tsetMaxDate: function(date) {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Set a max date\n\t\t\t\thandler.setMaxDate(date);\n\t\t\t}\n\t\t},\n\t\tgetDate: function() {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Get a date\n\t\t\t\treturn handler.getDate();\n\t\t\t}\n\t\t},\n\t\tdestroy: function() {\n\t\t\tvar $input = $(this);\n\t\t\tvar $picker = $(PickerObjects[$input.data('pickerId')]);\n\t\t\tif ($picker != null) {\n\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t// Destroy a picker\n\t\t\t\thandler.destroy();\n\t\t\t}\n\t\t}\n\t};\n\n\t$.fn.handleDtpicker = function(method) {\n\t\tif (methods[method]) {\n\t\t\treturn methods[method].apply(this, Array.prototype.slice.call(\n\t\t\t\targuments, 1));\n\t\t} else if (typeof method === 'object' || !method) {\n\t\t\treturn methods.init.apply(this, arguments);\n\t\t} else {\n\t\t\t$.error('Method ' + method +\n\t\t\t\t' does not exist on jQuery.handleDtpicker');\n\t\t}\n\t};\n\n\tif (!window.console) { // Not available a console on this environment.\n\t\twindow.console = {};\n\t\twindow.console.log = function() {};\n\t}\n\n\t/* Define a special event for catch when destroy of an input-field. */\n\t$.event.special.destroyed = {\n\t\tremove: function(o) {\n\t\t\tif (o.handler) {\n\t\t\t\to.handler.apply(this, arguments);\n\t\t\t}\n\t\t}\n\t};\n\n\t/* Set event handler to Body element, for hide a floated-picker */\n\t$(function() {\n\t\t$('body').click(function(e) {\n\t\t\tfor (var i = 0; i < PickerObjects.length; i++) {\n\t\t\t\tvar $picker = $(PickerObjects[i]);\n\t\t\t\tif ($picker.data('inputObjectId') != null && !$picker\n\t\t\t\t\t.data('isInline') && $picker.css('display') !=\n\t\t\t\t\t'none' && !$(e.target).is('.datepicker') && !$(e.target)\n\t\t\t\t\t.is('.datepicker_header') && !$(e.target).is(\n\t\t\t\t\t\t'.next-month') && !$(e.target).is(\n\t\t\t\t\t\t'.before-month') && !$(e.target).is(\n\t\t\t\t\t\t'.icon-home')) {\n\t\t\t\t\t/* if append input-field && float picker */\n\n\t\t\t\t\t// Check overlapping of cursor and picker\n\t\t\t\t\tif ($picker.hasClass('hover')) continue;\n\n\t\t\t\t\t// Check overlapping of cursor and input-field\n\t\t\t\t\tvar $input = $(InputObjects[$picker.data(\n\t\t\t\t\t\t'inputObjectId')]);\n\t\t\t\t\tif ($input.is(':focus')) continue;\n\n\t\t\t\t\t// Hide a picker\n\t\t\t\t\tvar handler = new PickerHandler($picker, $input);\n\t\t\t\t\thandler.hide();\n\n\t\t\t\t\t// Call a event-hanlder\n\t\t\t\t\tvar func = $picker.data('onHide');\n\t\t\t\t\tif (func != null) {\n\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t'dtpicker- Call the onHide handler');\n\t\t\t\t\t\tfunc(handler);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n})(jQuery);\n  \n  </script>\n\n</head>\n\n<body>\n\t<div id=\"date_manual\"> </div>\n\t<script type=\"application/javascript\">\n\t    var myScope=scope;\n\t    var dateIn = {{{date}}};\n\t    var minInterval = {{{minInterval}}};\n\t    var payload = \"{{{data}}}\";\n\t    \n\t    function myDate (dateIn) {\n            var d = new Date(dateIn);\t        \n            var dateOut= {\n                yyyy: d.getFullYear(),\n                mon: Number((\"00\" + (d.getMonth() + 1)).slice(-2)),\n                day: Number((\"00\" + d.getDate()).slice(-2)),\n                hour:Number((\"00\" + d.getHours()).slice(-2)),\n                min: Number((\"00\" + d.getMinutes()).slice(-2)),\n                sec: Number((\"00\" + d.getSeconds()).slice(-2))\n                };\n            return dateOut;    \n\t    }\n\t    \n\t    function roundTime(timeIn, minuteBoundary) {\n            var timeOffset = Math.round(timeIn/minuteBoundary);\n            return (timeOffset*minuteBoundary)%60;\n        }\n\t\t$(function(){\n\t\t         var d = myDate(dateIn);\n\t\t         \n\t\t\t\t$('#date_manual').appendDtpicker({\n\t\t\t\t\t\"inline\": true,\n\t\t\t\t\t\"closeButton\": true,\n\t\t\t\t\t\"minuteInterval\": 1,\n\t\t\t\t\t\"todayButton\": true,\n\t\t\t\t\t//\"autodateOnStart\": false,\n\t\t\t\t\t\"onSelect\": function(handler, targetDate){\n\t                    myScope.send({reference:{{{ref}}},\n\t                    dateIn: dateIn,\n\t                    dateInObj: myDate(dateIn),\n\t                    dateOut: handler.getDate().valueOf(),\n\t                    dateOutObj: myDate(handler.getDate().valueOf()),\n\t                    payload:payload});\n//                        $('#date_manual').handleDtpicker('destroy');\n        \t            },  \n\t\t\t\t});\n\t\t\t\t$('#date_manual').handleDtpicker('setDate',new Date(d.yyyy, d.mon, d.day, d.hour, roundTime(d.min,15), 0));\n    \t});\n\t</script>\n</body>\n</html>\n\n","output":"str","x":120,"y":320,"wires":[[]]},{"id":"c86e926b.8aea18","type":"template","z":"129957c7.544ac8","name":"JQuery Library","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<script type=\"application/javascript\">\n\n(function() {\n  function M(e) {\n    var t = e.length;\n    var n = b.type(e);\n    if (b.isWindow(e)) {\n      return false;\n    } else if (e.nodeType === 1 && t) {\n      return true;\n    } else {\n      return (\n        n === 'array' ||\n        (n !== 'function' &&\n          (t === 0 || (typeof t == 'number' && t > 0 && t - 1 in e)))\n      );\n    }\n  }\n  function F(e) {\n    var t = (_[e] = {});\n    b.each(e.match(w) || [], function(e, n) {\n      t[n] = true;\n    });\n    return t;\n  }\n  function P(e, n, r, i) {\n    if (b.acceptData(e)) {\n      var o;\n      var a;\n      var s = b.expando;\n      var u = typeof n == 'string';\n      var l = e.nodeType;\n      var p = l ? b.cache : e;\n      var f = l ? e[s] : e[s] && s;\n      if ((f && p[f] && (i || p[f].data)) || !u || r !== t) {\n        if (!f) {\n          if (l) {\n            e[s] = f = c.pop() || b.guid++;\n          } else {\n            f = s;\n          }\n        }\n        if (!p[f]) {\n          p[f] = {};\n          if (!l) {\n            p[f].toJSON = b.noop;\n          }\n        }\n        if (typeof n == 'object' || typeof n == 'function') {\n          if (i) {\n            p[f] = b.extend(p[f], n);\n          } else {\n            p[f].data = b.extend(p[f].data, n);\n          }\n        }\n        o = p[f];\n        if (!i) {\n          if (!o.data) {\n            o.data = {};\n          }\n          o = o.data;\n        }\n        if (r !== t) {\n          o[b.camelCase(n)] = r;\n        }\n        if (u) {\n          a = o[n];\n          if (a == null) {\n            a = o[b.camelCase(n)];\n          }\n        } else {\n          a = o;\n        }\n        return a;\n      }\n    }\n  }\n  function R(e, t, n) {\n    if (b.acceptData(e)) {\n      var r;\n      var i;\n      var o;\n      var a = e.nodeType;\n      var s = a ? b.cache : e;\n      var u = a ? e[b.expando] : b.expando;\n      if (s[u]) {\n        if (t && (o = n ? s[u] : s[u].data)) {\n          if (b.isArray(t)) {\n            t = t.concat(b.map(t, b.camelCase));\n          } else if (t in o) {\n            t = [t];\n          } else {\n            t = b.camelCase(t);\n            t = t in o ? [t] : t.split(' ');\n          }\n          r = 0;\n          for (i = t.length; i > r; r++) {\n            delete o[t[r]];\n          }\n          if (!(n ? $ : b.isEmptyObject)(o)) {\n            return;\n          }\n        }\n        if (n || (delete s[u].data, $(s[u]))) {\n          if (a) {\n            b.cleanData([e], true);\n          } else if (b.support.deleteExpando || s != s.window) {\n            delete s[u];\n          } else {\n            s[u] = null;\n          }\n        }\n      }\n    }\n  }\n  function W(e, n, r) {\n    if (r === t && e.nodeType === 1) {\n      var i = 'data-' + n.replace(B, '-$1').toLowerCase();\n      r = e.getAttribute(i);\n      if (typeof r == 'string') {\n        try {\n          r =\n            r === 'true'\n              ? true\n              : r === 'false'\n                ? false\n                : r === 'null'\n                  ? null\n                  : +r + '' === r ? +r : O.test(r) ? b.parseJSON(r) : r;\n        } catch (o) {}\n        b.data(e, n, r);\n      } else {\n        r = t;\n      }\n    }\n    return r;\n  }\n  function $(e) {\n    var t;\n    for (t in e) {\n      if ((t !== 'data' || !b.isEmptyObject(e[t])) && t !== 'toJSON') {\n        return false;\n      }\n    }\n    return true;\n  }\n  function it() {\n    return true;\n  }\n  function ot() {\n    return false;\n  }\n  function pt(e, t) {\n    do {\n      e = e[t];\n    } while (e && e.nodeType !== 1);\n    return e;\n  }\n  function ft(e, t, n) {\n    t = t || 0;\n    if (b.isFunction(t)) {\n      return b.grep(e, function(e, r) {\n        var i = !!t.call(e, r, e);\n        return i === n;\n      });\n    }\n    if (t.nodeType) {\n      return b.grep(e, function(e) {\n        return (e === t) === n;\n      });\n    }\n    if (typeof t == 'string') {\n      var r = b.grep(e, function(e) {\n        return e.nodeType === 1;\n      });\n      if (ut.test(t)) {\n        return b.filter(t, r, !n);\n      }\n      t = b.filter(t, r);\n    }\n    return b.grep(e, function(e) {\n      return b.inArray(e, t) >= 0 === n;\n    });\n  }\n  function dt(e) {\n    var t = ht.split('|');\n    var n = e.createDocumentFragment();\n    if (n.createElement) {\n      while (t.length) {\n        n.createElement(t.pop());\n      }\n    }\n    return n;\n  }\n  function Lt(e, t) {\n    return (\n      e.getElementsByTagName(t)[0] ||\n      e.appendChild(e.ownerDocument.createElement(t))\n    );\n  }\n  function Ht(e) {\n    var t = e.getAttributeNode('type');\n    e.type = (t && t.specified) + '/' + e.type;\n    return e;\n  }\n  function qt(e) {\n    var t = Et.exec(e.type);\n    if (t) {\n      e.type = t[1];\n    } else {\n      e.removeAttribute('type');\n    }\n    return e;\n  }\n  function Mt(e, t) {\n    var n;\n    var r = 0;\n  }\n  function _t(e, t) {\n    if (t.nodeType === 1 && b.hasData(e)) {\n      var n;\n      var r;\n      var i;\n      var o = b._data(e);\n      var a = b._data(t, o);\n      var s = o.events;\n      if (s) {\n        delete a.handle;\n        a.events = {};\n        for (n in s) {\n          r = 0;\n          for (i = s[n].length; i > r; r++) {\n            b.event.add(t, n, s[n][r]);\n          }\n        }\n      }\n      if (a.data) {\n        a.data = b.extend({}, a.data);\n      }\n    }\n  }\n  function Ft(e, t) {\n    var n;\n    var r;\n    var i;\n    if (t.nodeType === 1) {\n      n = t.nodeName.toLowerCase();\n      if (!b.support.noCloneEvent && t[b.expando]) {\n        i = b._data(t);\n        for (r in i.events) {\n          b.removeEvent(t, r, i.handle);\n        }\n        t.removeAttribute(b.expando);\n      }\n      if (n === 'script' && t.text !== e.text) {\n        Ht(t).text = e.text;\n        qt(t);\n      } else if (n === 'object') {\n        if (t.parentNode) {\n          t.outerHTML = e.outerHTML;\n        }\n        if (b.support.html5Clone && e.innerHTML && !b.trim(t.innerHTML)) {\n          t.innerHTML = e.innerHTML;\n        }\n      } else if (n === 'input' && Nt.test(e.type)) {\n        t.defaultChecked = t.checked = e.checked;\n        if (t.value !== e.value) {\n          t.value = e.value;\n        }\n      } else if (n === 'option') {\n        t.defaultSelected = t.selected = e.defaultSelected;\n      } else if (n === 'input' || n === 'textarea') {\n        t.defaultValue = e.defaultValue;\n      }\n    }\n  }\n  function Ot(e, n) {\n    var r;\n    var o;\n    var a = 0;\n    var s =\n      typeof e.getElementsByTagName !== i\n        ? e.getElementsByTagName(n || '*')\n        : typeof e.querySelectorAll !== i ? e.querySelectorAll(n || '*') : t;\n    if (!s) {\n      s = [];\n      for (r = e.childNodes || e; (o = r[a]) != null; a++) {\n        if (!n || b.nodeName(o, n)) {\n          s.push(o);\n        } else {\n          b.merge(s, Ot(o, n));\n        }\n      }\n    }\n    if (n === t || (n && b.nodeName(e, n))) {\n      return b.merge([e], s);\n    } else {\n      return s;\n    }\n  }\n  function Bt(e) {\n    if (Nt.test(e.type)) {\n      e.defaultChecked = e.checked;\n    }\n  }\n  function tn(e, t) {\n    if (t in e) {\n      return t;\n    }\n    var n = t.charAt(0).toUpperCase() + t.slice(1);\n    var r = t;\n    var i = en.length;\n    while (i--) {\n      t = en[i] + n;\n      if (t in e) {\n        return t;\n      }\n    }\n    return r;\n  }\n  function nn(e, t) {\n    e = t || e;\n    return b.css(e, 'display') === 'none' || !b.contains(e.ownerDocument, e);\n  }\n  function rn(e, t) {\n    var n;\n    var r;\n    var i;\n    var o = [];\n    var a = 0;\n    var s = e.length;\n    for (a = 0; s > a; a++) {\n      r = e[a];\n      if (r.style) {\n        if (!t || r.style.display === 'none' || r.style.display === '') {\n          r.style.display = t ? o[a] || '' : 'none';\n        }\n      }\n    }\n    return e;\n  }\n  function on(e, t, n) {\n    var r = Vt.exec(t);\n    if (r) {\n      return Math.max(0, r[1] - (n || 0)) + (r[2] || 'px');\n    } else {\n      return t;\n    }\n  }\n  function an(e, t, n, r, i) {\n    var o = n === (r ? 'border' : 'content') ? 4 : t === 'width' ? 1 : 0;\n    var a = 0;\n    return a;\n  }\n  function sn(e, t, n) {\n    var r = true;\n    var i = t === 'width' ? e.offsetWidth : e.offsetHeight;\n    var o = Rt(e);\n    var a =\n      b.support.boxSizing && b.css(e, 'boxSizing', false, o) === 'border-box';\n    if (0 >= i || i == null) {\n      i = Wt(e, t, o);\n      if (0 > i || i == null) {\n        i = e.style[t];\n      }\n      if (Yt.test(i)) {\n        return i;\n      }\n      r = a && (b.support.boxSizingReliable || i === e.style[t]);\n      i = parseFloat(i) || 0;\n    }\n    return i + an(e, t, n || (a ? 'border' : 'content'), r, o) + 'px';\n  }\n  function un(e) {\n    var t = o;\n    var n = Gt[e];\n    if (!n) {\n      n = ln(e, t);\n      if (n === 'none' || !n) {\n        Pt = (\n          Pt ||\n          b(\"<iframe frameborder='0' width='0' height='0'/>\").css(\n            'cssText',\n            'display:block !important'\n          )\n        ).appendTo(t.documentElement);\n        t = (Pt[0].contentWindow || Pt[0].contentDocument).document;\n        t.write('<!doctype html><html><body>');\n        t.close();\n        n = ln(e, t);\n        Pt.detach();\n      }\n      Gt[e] = n;\n    }\n    return n;\n  }\n  function ln(e, t) {\n    var n = b(t.createElement(e)).appendTo(t.body);\n    var r = b.css(n[0], 'display');\n    n.remove();\n    return r;\n  }\n  function gn(e, t, n, r) {\n    var i;\n    if (b.isArray(t)) {\n      b.each(t, function(t, i) {\n        if (n || pn.test(e)) {\n          r(e, i);\n        } else {\n          gn(e + '[' + (typeof i == 'object' ? t : '') + ']', i, n, r);\n        }\n      });\n    } else if (n || b.type(t) !== 'object') {\n      r(e, t);\n    } else {\n      for (i in t) {\n        gn(e + '[' + i + ']', t[i], n, r);\n      }\n    }\n  }\n  function Hn(e) {\n    return function(t, n) {\n      if (typeof t != 'string') {\n        n = t;\n        t = '*';\n      }\n      var r;\n      var i = 0;\n      var o = t.toLowerCase().match(w) || [];\n      if (b.isFunction(n)) {\n        while ((r = o[i++])) {\n          if (r[0] === '+') {\n            r = r.slice(1) || '*';\n            (e[r] = e[r] || []).unshift(n);\n          } else {\n            (e[r] = e[r] || []).push(n);\n          }\n        }\n      }\n    };\n  }\n  function qn(e, n, r, i) {\n    function s(u) {\n      var l;\n      o[u] = true;\n      b.each(e[u] || [], function(e, u) {\n        var c = u(n, r, i);\n        if (typeof c != 'string' || a || o[c]) {\n          if (a) {\n            return !(l = c);\n          } else {\n            return t;\n          }\n        } else {\n          n.dataTypes.unshift(c);\n          s(c);\n          return false;\n        }\n      });\n      return l;\n    }\n    var o = {};\n    var a = e === jn;\n    return s(n.dataTypes[0]) || (!o['*'] && s('*'));\n  }\n  function Mn(e, n) {\n    var r;\n    var i;\n    var o = b.ajaxSettings.flatOptions || {};\n    for (i in n) {\n      if (n[i] !== t) {\n        (o[i] ? e : r || (r = {}))[i] = n[i];\n      }\n    }\n    if (r) {\n      b.extend(true, e, r);\n    }\n    return e;\n  }\n  function _n(e, n, r) {\n    var i;\n    var o;\n    var a;\n    var s;\n    var u = e.contents;\n    var l = e.dataTypes;\n    var c = e.responseFields;\n    for (s in c) {\n      if (s in r) {\n        n[c[s]] = r[s];\n      }\n    }\n    while (l[0] === '*') {\n      l.shift();\n      if (o === t) {\n        o = e.mimeType || n.getResponseHeader('Content-Type');\n      }\n    }\n    if (o) {\n      for (s in u) {\n        if (u[s] && u[s].test(o)) {\n          l.unshift(s);\n          break;\n        }\n      }\n    }\n    if (l[0] in r) {\n      a = l[0];\n    } else {\n      for (s in r) {\n        if (!l[0] || e.converters[s + ' ' + l[0]]) {\n          a = s;\n          break;\n        }\n        if (!i) {\n          i = s;\n        }\n      }\n      a = a || i;\n    }\n    if (a) {\n      if (a !== l[0]) {\n        l.unshift(a);\n      }\n      return r[a];\n    } else {\n      return t;\n    }\n  }\n  function Fn(e, t) {\n    var n;\n    var r;\n    var i;\n    var o;\n    var a = {};\n    var s = 0;\n    var u = e.dataTypes.slice();\n    var l = u[0];\n    if (e.dataFilter) {\n      t = e.dataFilter(t, e.dataType);\n    }\n    if (u[1]) {\n      for (i in e.converters) {\n        a[i.toLowerCase()] = e.converters[i];\n      }\n    }\n    while ((r = u[++s])) {\n      if (r !== '*') {\n        if (l !== '*' && l !== r) {\n          i = a[l + ' ' + r] || a['* ' + r];\n          if (!i) {\n            for (n in a) {\n              o = n.split(' ');\n              if (o[1] === r && (i = a[l + ' ' + o[0]] || a['* ' + o[0]])) {\n                if (i === true) {\n                  i = a[n];\n                } else if (a[n] !== true) {\n                  r = o[0];\n                  u.splice(s--, 0, r);\n                }\n                break;\n              }\n            }\n          }\n          if (i !== true) {\n            if (i && e.throws) {\n              t = i(t);\n            } else {\n              try {\n                t = i(t);\n              } catch (c) {\n                return {\n                  state: 'parsererror',\n                  error: i ? c : 'No conversion from ' + l + ' to ' + r,\n                };\n              }\n            }\n          }\n        }\n        l = r;\n      }\n    }\n    return { state: 'success', data: t };\n  }\n  function In() {\n    try {\n      return new e.XMLHttpRequest();\n    } catch (t) {}\n  }\n  function zn() {\n    try {\n      return new e.ActiveXObject('Microsoft.XMLHTTP');\n    } catch (t) {}\n  }\n  function Kn() {\n    setTimeout(function() {\n      Xn = t;\n    });\n    return (Xn = b.now());\n  }\n  function Zn(e, t) {\n    b.each(t, function(t, n) {\n      var r = (Qn[t] || []).concat(Qn['*']);\n      var i = 0;\n      var o = r.length;\n    });\n  }\n  function er(e, t, n) {\n    var r;\n    var i;\n    var o = 0;\n    var a = Gn.length;\n    var s = b.Deferred().always(function() {\n      delete u.elem;\n    });\n    var u = function() {\n      if (i) {\n        return false;\n      }\n      var t = Xn || Kn();\n      var n = Math.max(0, l.startTime + l.duration - t);\n      var r = n / l.duration || 0;\n      var o = 1 - r;\n      var a = 0;\n      var u = l.tweens.length;\n      s.notifyWith(e, [l, o, n]);\n      if (1 > o && u) {\n        return n;\n      } else {\n        s.resolveWith(e, [l]);\n        return false;\n      }\n    };\n    var l = s.promise({\n      elem: e,\n      props: b.extend({}, t),\n      opts: b.extend(true, { specialEasing: {} }, n),\n      originalProperties: t,\n      originalOptions: n,\n      startTime: Xn || Kn(),\n      duration: n.duration,\n      tweens: [],\n      createTween: function(t, n) {\n        var r = b.Tween(\n          e,\n          l.opts,\n          t,\n          n,\n          l.opts.specialEasing[t] || l.opts.easing\n        );\n        l.tweens.push(r);\n        return r;\n      },\n      stop: function(t) {\n        var n = 0;\n        var r = t ? l.tweens.length : 0;\n        if (i) {\n          return this;\n        }\n        for (i = true; r > n; n++) {\n          l.tweens[n].run(1);\n        }\n        if (t) {\n          s.resolveWith(e, [l, t]);\n        } else {\n          s.rejectWith(e, [l, t]);\n        }\n        return this;\n      },\n    });\n    var c = l.props;\n    for (tr(c, l.opts.specialEasing); a > o; o++) {\n      if ((r = Gn[o].call(l, e, c, l.opts))) {\n        return r;\n      }\n    }\n    Zn(l, c);\n    if (b.isFunction(l.opts.start)) {\n      l.opts.start.call(e, l);\n    }\n    b.fx.timer(b.extend(u, { elem: e, anim: l, queue: l.opts.queue }));\n    return l\n      .progress(l.opts.progress)\n      .done(l.opts.done, l.opts.complete)\n      .fail(l.opts.fail)\n      .always(l.opts.always);\n  }\n  function tr(e, t) {\n    var n;\n    var r;\n    var i;\n    var o;\n    var a;\n    for (i in e) {\n      r = b.camelCase(i);\n      o = t[r];\n      n = e[i];\n      if (b.isArray(n)) {\n        o = n[1];\n        n = e[i] = n[0];\n      }\n      if (i !== r) {\n        e[r] = n;\n        delete e[i];\n      }\n      a = b.cssHooks[r];\n      if (a && 'expand' in a) {\n        n = a.expand(n);\n        delete e[r];\n        for (i in n) {\n          if (!(i in e)) {\n            e[i] = n[i];\n            t[i] = o;\n          }\n        }\n      } else {\n        t[r] = o;\n      }\n    }\n  }\n  function nr(e, t, n) {\n    var r;\n    var i;\n    var o;\n    var a;\n    var s;\n    var u;\n    var l;\n    var c;\n    var p;\n    var f = this;\n    var d = e.style;\n    var h = {};\n    var g = [];\n    var m = e.nodeType && nn(e);\n    if (!n.queue) {\n      c = b._queueHooks(e, 'fx');\n      if (c.unqueued == null) {\n        c.unqueued = 0;\n        p = c.empty.fire;\n        c.empty.fire = function() {\n          if (!c.unqueued) {\n            p();\n          }\n        };\n      }\n      c.unqueued++;\n      f.always(function() {\n        f.always(function() {\n          c.unqueued--;\n          if (!b.queue(e, 'fx').length) {\n            c.empty.fire();\n          }\n        });\n      });\n    }\n    if (e.nodeType === 1 && ('height' in t || 'width' in t)) {\n      n.overflow = [d.overflow, d.overflowX, d.overflowY];\n      if (b.css(e, 'display') === 'inline' && b.css(e, 'float') === 'none') {\n        if (b.support.inlineBlockNeedsLayout && un(e.nodeName) !== 'inline') {\n          d.zoom = 1;\n        } else {\n          d.display = 'inline-block';\n        }\n      }\n    }\n    if (n.overflow) {\n      d.overflow = 'hidden';\n      if (!b.support.shrinkWrapBlocks) {\n        f.always(function() {\n          d.overflow = n.overflow[0];\n          d.overflowX = n.overflow[1];\n          d.overflowY = n.overflow[2];\n        });\n      }\n    }\n    for (i in t) {\n      a = t[i];\n      if (Vn.exec(a)) {\n        delete t[i];\n        u = u || a === 'toggle';\n        if (a === (m ? 'hide' : 'show')) {\n          continue;\n        }\n        g.push(i);\n      }\n    }\n    if ((o = g.length)) {\n      s = b._data(e, 'fxshow') || b._data(e, 'fxshow', {});\n      if ('hidden' in s) {\n        m = s.hidden;\n      }\n      if (u) {\n        s.hidden = !m;\n      }\n      if (m) {\n        b(e).show();\n      } else {\n        f.done(function() {\n          b(e).hide();\n        });\n      }\n      f.done(function() {\n        var t;\n        b._removeData(e, 'fxshow');\n        for (t in h) {\n          b.style(e, t, h[t]);\n        }\n      });\n      for (i = 0; o > i; i++) {\n        r = g[i];\n        l = f.createTween(r, m ? s[r] : 0);\n        h[r] = s[r] || b.style(e, r);\n        if (!(r in s)) {\n          s[r] = l.start;\n          if (m) {\n            l.end = l.start;\n            l.start = r === 'width' || r === 'height' ? 1 : 0;\n          }\n        }\n      }\n    }\n  }\n  function rr(e, t, n, r, i) {\n    return new rr.prototype.init(e, t, n, r, i);\n  }\n  function ir(e, t) {\n    var n;\n    var r = { height: e };\n    var i = 0;\n    for (t = t ? 1 : 0; 4 > i; i += 2 - t) {\n      n = Zt[i];\n      r['margin' + n] = r['padding' + n] = e;\n    }\n    if (t) {\n      r.opacity = r.width = e;\n    }\n    return r;\n  }\n  function or(e) {\n    if (b.isWindow(e)) {\n      return e;\n    } else if (e.nodeType === 9) {\n      return e.defaultView || e.parentWindow;\n    } else {\n      return false;\n    }\n  }\n  var e = window;\n  var t;\n  var n;\n  var i = typeof t;\n  var o = e.document;\n  var a = e.location;\n  var s = e.jQuery;\n  var u = e.$;\n  var l = {};\n  var c = [];\n  var p = '1.9.1';\n  var f = c.concat;\n  var d = c.push;\n  var h = c.slice;\n  var g = c.indexOf;\n  var m = l.toString;\n  var y = l.hasOwnProperty;\n  var v = p.trim;\n  var b = function(e, t) {\n    return new b.fn.init(e, t, r);\n  };\n  var x = /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source;\n  var w = /\\S+/g;\n  var T = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n  var N = /^(?:(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/;\n  var C = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/;\n  var k = /^[\\],:{}\\s]*$/;\n  var E = /(?:^|:|,)(?:\\s*\\[)+/g;\n  var S = /\\\\(?:[\"\\\\\\/bfnrt]|u[\\da-fA-F]{4})/g;\n  var A = /\"[^\"\\\\\\r\\n]*\"|true|false|null|-?(?:\\d+\\.|)\\d+(?:[eE][+-]?\\d+|)/g;\n  var j = /^-ms-/;\n  var D = /-([\\da-z])/gi;\n  var L = function(e, t) {\n    return t.toUpperCase();\n  };\n  var H = function(e) {\n    if (\n      o.addEventListener ||\n      e.type === 'load' ||\n      o.readyState === 'complete'\n    ) {\n      q();\n      b.ready();\n    }\n  };\n  var q = function() {\n    if (o.addEventListener) {\n      o.removeEventListener('DOMContentLoaded', H, false);\n      e.removeEventListener('load', H, false);\n    } else {\n      o.detachEvent('onreadystatechange', H);\n      e.detachEvent('onload', H);\n    }\n  };\n  b.fn = b.prototype = {\n    jquery: p,\n    constructor: b,\n    init: function(e, n, r) {\n      var i;\n      var a;\n      if (!e) {\n        return this;\n      }\n      if (typeof e == 'string') {\n        i =\n          e.charAt(0) === '<' && e.charAt(e.length - 1) === '>' && e.length >= 3\n            ? [null, e, null]\n            : N.exec(e);\n        if (!i || (!i[1] && n)) {\n          if (!n || n.jquery) {\n            return (n || r).find(e);\n          } else {\n            return this.constructor(n).find(e);\n          }\n        }\n        if (i[1]) {\n          n = n instanceof b ? n[0] : n;\n          b.merge(\n            this,\n            b.parseHTML(i[1], n && n.nodeType ? n.ownerDocument || n : o, true)\n          );\n          if (C.test(i[1]) && b.isPlainObject(n)) {\n            for (i in n) {\n              if (b.isFunction(this[i])) {\n                this[i](n[i]);\n              } else {\n                this.attr(i, n[i]);\n              }\n            }\n          }\n          return this;\n        }\n        a = o.getElementById(i[2]);\n        if (a && a.parentNode) {\n          if (a.id !== i[2]) {\n            return r.find(e);\n          }\n          this.length = 1;\n          this[0] = a;\n        }\n        this.context = o;\n        this.selector = e;\n        return this;\n      }\n      if (e.nodeType) {\n        this.context = this[0] = e;\n        this.length = 1;\n        return this;\n      } else if (b.isFunction(e)) {\n        return r.ready(e);\n      } else {\n        if (e.selector !== t) {\n          this.selector = e.selector;\n          this.context = e.context;\n        }\n        return b.makeArray(e, this);\n      }\n    },\n    selector: '',\n    length: 0,\n    size: function() {\n      return this.length;\n    },\n    toArray: function() {\n      return h.call(this);\n    },\n    get: function(e) {\n      if (e == null) {\n        return this.toArray();\n      } else if (0 > e) {\n        return this[this.length + e];\n      } else {\n        return this[e];\n      }\n    },\n    pushStack: function(e) {\n      var t = b.merge(this.constructor(), e);\n      t.prevObject = this;\n      t.context = this.context;\n      return t;\n    },\n    each: function(e, t) {\n      return b.each(this, e, t);\n    },\n    ready: function(e) {\n      b.ready.promise().done(e);\n      return this;\n    },\n    slice: function() {\n      return this.pushStack(h.apply(this, arguments));\n    },\n    first: function() {\n      return this.eq(0);\n    },\n    last: function() {\n      return this.eq(-1);\n    },\n    eq: function(e) {\n      var t = this.length;\n      var n = +e + (0 > e ? t : 0);\n      return this.pushStack(n >= 0 && t > n ? [this[n]] : []);\n    },\n    map: function(e) {\n      return this.pushStack(\n        b.map(this, function(t, n) {\n          return e.call(t, n, t);\n        })\n      );\n    },\n    end: function() {\n      return this.prevObject || this.constructor(null);\n    },\n    push: d,\n    sort: [].sort,\n    splice: [].splice,\n  };\n  b.fn.init.prototype = b.fn;\n  b.extend = b.fn.extend = function() {\n    var e;\n    var n;\n    var r;\n    var i;\n    var o;\n    var a;\n    var s = arguments[0] || {};\n    var u = 1;\n    var l = arguments.length;\n    var c = false;\n    if (typeof s == 'boolean') {\n      c = s;\n      s = arguments[1] || {};\n      u = 2;\n    }\n    if (typeof s != 'object' && !b.isFunction(s)) {\n      s = {};\n    }\n    for (l === u && ((s = this), --u); l > u; u++) {\n      if ((o = arguments[u]) != null) {\n        for (i in o) {\n          e = s[i];\n          r = o[i];\n          if (s !== r) {\n            if (c && r && (b.isPlainObject(r) || (n = b.isArray(r)))) {\n              if (n) {\n                n = false;\n                a = e && b.isArray(e) ? e : [];\n              } else {\n                a = e && b.isPlainObject(e) ? e : {};\n              }\n              s[i] = b.extend(c, a, r);\n            } else if (r !== t) {\n              s[i] = r;\n            }\n          }\n        }\n      }\n    }\n    return s;\n  };\n  b.extend({\n    noConflict: function(t) {\n      if (e.$ === b) {\n        e.$ = u;\n      }\n      if (t && e.jQuery === b) {\n        e.jQuery = s;\n      }\n      return b;\n    },\n    isReady: false,\n    readyWait: 1,\n    holdReady: function(e) {\n      if (e) {\n        b.readyWait++;\n      } else {\n        b.ready(true);\n      }\n    },\n    ready: function(e) {\n      if (e === true ? !--b.readyWait : !b.isReady) {\n        if (!o.body) {\n          return setTimeout(b.ready);\n        }\n        b.isReady = true;\n        if (e === true || !(--b.readyWait > 0)) {\n          n.resolveWith(o, [b]);\n          if (b.fn.trigger) {\n            b(o)\n              .trigger('ready')\n              .off('ready');\n          }\n        }\n      }\n    },\n    isFunction: function(e) {\n      return b.type(e) === 'function';\n    },\n    isArray:\n      Array.isArray ||\n      function(e) {\n        return b.type(e) === 'array';\n      },\n    isWindow: function(e) {\n      return e != null && e == e.window;\n    },\n    isNumeric: function(e) {\n      return !isNaN(parseFloat(e)) && isFinite(e);\n    },\n    type: function(e) {\n      if (e == null) {\n        return e + '';\n      } else if (typeof e == 'object' || typeof e == 'function') {\n        return l[m.call(e)] || 'object';\n      } else {\n        return typeof e;\n      }\n    },\n    isPlainObject: function(e) {\n      if (!e || b.type(e) !== 'object' || e.nodeType || b.isWindow(e)) {\n        return false;\n      }\n      try {\n        if (\n          e.constructor &&\n          !y.call(e, 'constructor') &&\n          !y.call(e.constructor.prototype, 'isPrototypeOf')\n        ) {\n          return false;\n        }\n      } catch (n) {\n        return false;\n      }\n      var r;\n      for (r in e) {\n      }\n      return r === t || y.call(e, r);\n    },\n    isEmptyObject: function(e) {\n      var t;\n      for (t in e) {\n        return false;\n      }\n      return true;\n    },\n    error: function(e) {\n      throw Error(e);\n    },\n    parseHTML: function(e, t, n) {\n      if (!e || typeof e != 'string') {\n        return null;\n      }\n      if (typeof t == 'boolean') {\n        n = t;\n        t = false;\n      }\n      t = t || o;\n      var r = C.exec(e);\n      var i = !n && [];\n      if (r) {\n        return [t.createElement(r[1])];\n      } else {\n        r = b.buildFragment([e], t, i);\n        if (i) {\n          b(i).remove();\n        }\n        return b.merge([], r.childNodes);\n      }\n    },\n    parseJSON: function(n) {\n      if (e.JSON && e.JSON.parse) {\n        return e.JSON.parse(n);\n      } else if (n === null) {\n        return n;\n      } else if (\n        typeof n == 'string' &&\n        ((n = b.trim(n)),\n        n &&\n          k.test(\n            n\n              .replace(S, '@')\n              .replace(A, ']')\n              .replace(E, '')\n          ))\n      ) {\n        return Function('return ' + n)();\n      } else {\n        b.error('Invalid JSON: ' + n);\n        return t;\n      }\n    },\n    parseXML: function(n) {\n      var r;\n      var i;\n      if (!n || typeof n != 'string') {\n        return null;\n      }\n      try {\n        if (e.DOMParser) {\n          i = new DOMParser();\n          r = i.parseFromString(n, 'text/xml');\n        } else {\n          r = new ActiveXObject('Microsoft.XMLDOM');\n          r.async = 'false';\n          r.loadXML(n);\n        }\n      } catch (o) {\n        r = t;\n      }\n      if (\n        !r ||\n        !r.documentElement ||\n        !!r.getElementsByTagName('parsererror').length\n      ) {\n        b.error('Invalid XML: ' + n);\n      }\n      return r;\n    },\n    noop: function() {},\n    globalEval: function(t) {\n      if (t && b.trim(t)) {\n        (e.execScript ||\n          function(t) {\n            e.eval.call(e, t);\n          })(t);\n      }\n    },\n    camelCase: function(e) {\n      return e.replace(j, 'ms-').replace(D, L);\n    },\n    nodeName: function(e, t) {\n      return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase();\n    },\n    each: function(e, t, n) {\n      var r;\n      var i = 0;\n      var o = e.length;\n      var a = M(e);\n      if (n) {\n        if (a) {\n        } else {\n          for (i in e) {\n            r = t.apply(e[i], n);\n            if (r === false) {\n              break;\n            }\n          }\n        }\n      } else if (a) {\n      } else {\n        for (i in e) {\n          r = t.call(e[i], i, e[i]);\n          if (r === false) {\n            break;\n          }\n        }\n      }\n      return e;\n    },\n    trim:\n      v && !v.call('\\uFEFF\\xA0')\n        ? function(e) {\n            if (e == null) {\n              return '';\n            } else {\n              return v.call(e);\n            }\n          }\n        : function(e) {\n            if (e == null) {\n              return '';\n            } else {\n              return (e + '').replace(T, '');\n            }\n          },\n    makeArray: function(e, t) {\n      var n = t || [];\n      if (e != null) {\n        if (M(Object(e))) {\n          b.merge(n, typeof e == 'string' ? [e] : e);\n        } else {\n          d.call(n, e);\n        }\n      }\n      return n;\n    },\n    inArray: function(e, t, n) {\n      var r;\n      if (t) {\n        if (g) {\n          return g.call(t, e, n);\n        }\n        r = t.length;\n        for (n = n ? (0 > n ? Math.max(0, r + n) : n) : 0; r > n; n++) {\n          if (n in t && t[n] === e) {\n            return n;\n          }\n        }\n      }\n      return -1;\n    },\n    merge: function(e, n) {\n      var r = n.length;\n      var i = e.length;\n      var o = 0;\n      if (typeof r == 'number') {\n      } else {\n        while (n[o] !== t) {\n          e[i++] = n[o++];\n        }\n      }\n      e.length = i;\n      return e;\n    },\n    grep: function(e, t, n) {\n      var r;\n      var i = [];\n      var o = 0;\n      var a = e.length;\n      for (n = !!n; a > o; o++) {\n        r = !!t(e[o], o);\n        if (n !== r) {\n          i.push(e[o]);\n        }\n      }\n      return i;\n    },\n    map: function(e, t, n) {\n      var r;\n      var i = 0;\n      var o = e.length;\n      var a = M(e);\n      var s = [];\n      if (a) {\n      } else {\n        for (i in e) {\n          r = t(e[i], i, n);\n          if (r != null) {\n            s[s.length] = r;\n          }\n        }\n      }\n      return f.apply([], s);\n    },\n    guid: 1,\n    proxy: function(e, n) {\n      var r;\n      var i;\n      var o;\n      if (typeof n == 'string') {\n        o = e[n];\n        n = e;\n        e = o;\n      }\n      if (b.isFunction(e)) {\n        r = h.call(arguments, 2);\n        i = function() {\n          return e.apply(n || this, r.concat(h.call(arguments)));\n        };\n        i.guid = e.guid = e.guid || b.guid++;\n        return i;\n      } else {\n        return t;\n      }\n    },\n    access: function(e, n, r, i, o, a, s) {\n      var u = 0;\n      var l = e.length;\n      var c = r == null;\n      if (b.type(r) === 'object') {\n        o = true;\n        for (u in r) {\n          b.access(e, n, u, r[u], true, a, s);\n        }\n      } else if (\n        i !== t &&\n        ((o = true),\n        b.isFunction(i) || (s = true),\n        c &&\n          (s\n            ? (n.call(e, i), (n = null))\n            : ((c = n),\n              (n = function(e, t, n) {\n                return c.call(b(e), n);\n              }))),\n        n)\n      ) {\n      }\n      if (o) {\n        return e;\n      } else if (c) {\n        return n.call(e);\n      } else if (l) {\n        return n(e[0], r);\n      } else {\n        return a;\n      }\n    },\n    now: function() {\n      return new Date().getTime();\n    },\n  });\n  b.ready.promise = function(t) {\n    if (!n) {\n      n = b.Deferred();\n      if (o.readyState === 'complete') {\n        setTimeout(b.ready);\n      } else if (o.addEventListener) {\n        o.addEventListener('DOMContentLoaded', H, false);\n        e.addEventListener('load', H, false);\n      } else {\n        o.attachEvent('onreadystatechange', H);\n        e.attachEvent('onload', H);\n        var r = false;\n        try {\n          r = e.frameElement == null && o.documentElement;\n        } catch (i) {}\n        if (r && r.doScroll) {\n          (function a() {\n            if (!b.isReady) {\n              try {\n                r.doScroll('left');\n              } catch (e) {\n                return setTimeout(a, 50);\n              }\n              q();\n              b.ready();\n            }\n          })();\n        }\n      }\n    }\n    return n.promise(t);\n  };\n  b.each(\n    'Boolean Number String Function Array Date RegExp Object Error'.split(' '),\n    function(e, t) {\n      l['[object ' + t + ']'] = t.toLowerCase();\n    }\n  );\n  var r = b(o);\n  var _ = {};\n  b.Callbacks = function(e) {\n    e = typeof e == 'string' ? _[e] || F(e) : b.extend({}, e);\n    var n;\n    var r;\n    var i;\n    var o;\n    var a;\n    var s;\n    var u = [];\n    var l = !e.once && [];\n    var c = function(t) {\n      r = e.memory && t;\n      i = true;\n      a = s || 0;\n      s = 0;\n      o = u.length;\n      for (n = true; u && o > a; a++) {\n        if (u[a].apply(t[0], t[1]) === false && e.stopOnFalse) {\n          r = false;\n          break;\n        }\n      }\n      n = false;\n      if (u) {\n        if (l) {\n          if (l.length) {\n            c(l.shift());\n          }\n        } else if (r) {\n          u = [];\n        } else {\n          p.disable();\n        }\n      }\n    };\n    var p = {\n      add: function() {\n        if (u) {\n          var t = u.length;\n          (function i(t) {\n            b.each(t, function(t, n) {\n              var r = b.type(n);\n              if (r === 'function') {\n                if (!e.unique || !p.has(n)) {\n                  u.push(n);\n                }\n              } else if (n && n.length && r !== 'string') {\n                i(n);\n              }\n            });\n          })(arguments);\n          if (n) {\n            o = u.length;\n          } else if (r) {\n            s = t;\n            c(r);\n          }\n        }\n        return this;\n      },\n      remove: function() {\n        if (u) {\n          b.each(arguments, function(e, t) {\n            var r;\n            while ((r = b.inArray(t, u, r)) > -1) {\n              u.splice(r, 1);\n              if (n) {\n                if (o >= r) {\n                  o--;\n                }\n                if (a >= r) {\n                  a--;\n                }\n              }\n            }\n          });\n        }\n        return this;\n      },\n      has: function(e) {\n        if (e) {\n          return b.inArray(e, u) > -1;\n        } else {\n          return !!u && !!u.length;\n        }\n      },\n      empty: function() {\n        u = [];\n        return this;\n      },\n      disable: function() {\n        u = l = r = t;\n        return this;\n      },\n      disabled: function() {\n        return !u;\n      },\n      lock: function() {\n        l = t;\n        if (!r) {\n          p.disable();\n        }\n        return this;\n      },\n      locked: function() {\n        return !l;\n      },\n      fireWith: function(e, t) {\n        t = t || [];\n        t = [e, t.slice ? t.slice() : t];\n        if (!!u && (!i || !!l)) {\n          if (n) {\n            l.push(t);\n          } else {\n            c(t);\n          }\n        }\n        return this;\n      },\n      fire: function() {\n        p.fireWith(this, arguments);\n        return this;\n      },\n      fired: function() {\n        return !!i;\n      },\n    };\n    return p;\n  };\n  b.extend({\n    Deferred: function(e) {\n      var t = [\n        ['resolve', 'done', b.Callbacks('once memory'), 'resolved'],\n        ['reject', 'fail', b.Callbacks('once memory'), 'rejected'],\n        ['notify', 'progress', b.Callbacks('memory')],\n      ];\n      var n = 'pending';\n      var r = {\n        state: function() {\n          return n;\n        },\n        always: function() {\n          i.done(arguments).fail(arguments);\n          return this;\n        },\n        then: function() {\n          var e = arguments;\n          return b\n            .Deferred(function(n) {\n              b.each(t, function(t, o) {\n                var a = o[0];\n                var s = b.isFunction(e[t]) && e[t];\n                i[o[1]](function() {\n                  var e = s && s.apply(this, arguments);\n                  if (e && b.isFunction(e.promise)) {\n                    e\n                      .promise()\n                      .done(n.resolve)\n                      .fail(n.reject)\n                      .progress(n.notify);\n                  } else {\n                    n[a + 'With'](\n                      this === r ? n.promise() : this,\n                      s ? [e] : arguments\n                    );\n                  }\n                });\n              });\n              e = null;\n            })\n            .promise();\n        },\n        promise: function(e) {\n          if (e == null) {\n            return r;\n          } else {\n            return b.extend(e, r);\n          }\n        },\n      };\n      var i = {};\n      r.pipe = r.then;\n      b.each(t, function(e, o) {\n        var a = o[2];\n        var s = o[3];\n        r[o[1]] = a.add;\n        if (s) {\n          a.add(\n            function() {\n              n = s;\n            },\n            t[1 ^ e][2].disable,\n            t[2][2].lock\n          );\n        }\n        i[o[0]] = function() {\n          i[o[0] + 'With'](this === i ? r : this, arguments);\n          return this;\n        };\n        i[o[0] + 'With'] = a.fireWith;\n      });\n      r.promise(i);\n      if (e) {\n        e.call(i, i);\n      }\n      return i;\n    },\n    when: function(e) {\n      var t = 0;\n      var n = h.call(arguments);\n      var r = n.length;\n      var i = r !== 1 || (e && b.isFunction(e.promise)) ? r : 0;\n      var o = i === 1 ? e : b.Deferred();\n      var a = function(e, t, n) {\n        return function(r) {\n          t[e] = this;\n          n[e] = arguments.length > 1 ? h.call(arguments) : r;\n          if (n === s) {\n            o.notifyWith(t, n);\n          } else if (!--i) {\n            o.resolveWith(t, n);\n          }\n        };\n      };\n      var s;\n      var u;\n      var l;\n      if (r > 1) {\n        s = Array(r);\n        u = Array(r);\n        for (l = Array(r); r > t; t++) {\n          if (n[t] && b.isFunction(n[t].promise)) {\n            n[t]\n              .promise()\n              .done(a(t, l, n))\n              .fail(o.reject)\n              .progress(a(t, u, s));\n          } else {\n            --i;\n          }\n        }\n      }\n      if (!i) {\n        o.resolveWith(l, n);\n      }\n      return o.promise();\n    },\n  });\n  b.support = (function() {\n    var c;\n    var p;\n    var f;\n    var d = o.createElement('div');\n    d.setAttribute('className', 't');\n    d.innerHTML =\n      \"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\";\n    var n = d.getElementsByTagName('*');\n    var r = d.getElementsByTagName('a')[0];\n    if (!n || !r || !n.length) {\n      return {};\n    }\n    var s = o.createElement('select');\n    var l = s.appendChild(o.createElement('option'));\n    var a = d.getElementsByTagName('input')[0];\n    r.style.cssText = 'top:1px;float:left;opacity:.5';\n    var t = {\n      getSetAttribute: d.className !== 't',\n      leadingWhitespace: d.firstChild.nodeType === 3,\n      tbody: !d.getElementsByTagName('tbody').length,\n      htmlSerialize: !!d.getElementsByTagName('link').length,\n      style: /top/.test(r.getAttribute('style')),\n      hrefNormalized: r.getAttribute('href') === '/a',\n      opacity: /^0.5/.test(r.style.opacity),\n      cssFloat: !!r.style.cssFloat,\n      checkOn: !!a.value,\n      optSelected: l.selected,\n      enctype: !!o.createElement('form').enctype,\n      html5Clone:\n        o.createElement('nav').cloneNode(true).outerHTML !== '<:nav></:nav>',\n      boxModel: o.compatMode === 'CSS1Compat',\n      deleteExpando: true,\n      noCloneEvent: true,\n      inlineBlockNeedsLayout: false,\n      shrinkWrapBlocks: false,\n      reliableMarginRight: true,\n      boxSizingReliable: true,\n      pixelPosition: false,\n    };\n    a.checked = true;\n    t.noCloneChecked = a.cloneNode(true).checked;\n    s.disabled = true;\n    t.optDisabled = !l.disabled;\n    try {\n      delete d.test;\n    } catch (h) {\n      t.deleteExpando = false;\n    }\n    a = o.createElement('input');\n    a.setAttribute('value', '');\n    t.input = a.getAttribute('value') === '';\n    a.value = 't';\n    a.setAttribute('type', 'radio');\n    t.radioValue = a.value === 't';\n    a.setAttribute('checked', 't');\n    a.setAttribute('name', 't');\n    var u = o.createDocumentFragment();\n    u.appendChild(a);\n    t.appendChecked = a.checked;\n    t.checkClone = u.cloneNode(true).cloneNode(true).lastChild.checked;\n    if (d.attachEvent) {\n      d.attachEvent('onclick', function() {\n        t.noCloneEvent = false;\n      });\n      d.cloneNode(true).click();\n    }\n    for (f in { submit: true, change: true, focusin: true }) {\n      d.setAttribute((c = 'on' + f), 't');\n      t[f + 'Bubbles'] = c in e || d.attributes[c].expando === false;\n    }\n    d.style.backgroundClip = 'content-box';\n    d.cloneNode(true).style.backgroundClip = '';\n    t.clearCloneStyle = d.style.backgroundClip === 'content-box';\n    b(function() {\n      var n;\n      var r;\n      var a;\n      var s =\n        'padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;';\n      var u = o.getElementsByTagName('body')[0];\n      if (u) {\n        n = o.createElement('div');\n        n.style.cssText =\n          'border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px';\n        u.appendChild(n).appendChild(d);\n        d.innerHTML = '<table><tr><td></td><td>t</td></tr></table>';\n        a = d.getElementsByTagName('td');\n        a[0].style.cssText = 'padding:0;margin:0;border:0;display:none';\n        p = a[0].offsetHeight === 0;\n        a[0].style.display = '';\n        a[1].style.display = 'none';\n        t.reliableHiddenOffsets = p && a[0].offsetHeight === 0;\n        d.innerHTML = '';\n        d.style.cssText =\n          'box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;';\n        t.boxSizing = d.offsetWidth === 4;\n        t.doesNotIncludeMarginInBodyOffset = u.offsetTop !== 1;\n        if (e.getComputedStyle) {\n          t.pixelPosition = (e.getComputedStyle(d, null) || {}).top !== '1%';\n          t.boxSizingReliable =\n            (e.getComputedStyle(d, null) || { width: '4px' }).width === '4px';\n          r = d.appendChild(o.createElement('div'));\n          r.style.cssText = d.style.cssText = s;\n          r.style.marginRight = r.style.width = '0';\n          d.style.width = '1px';\n          t.reliableMarginRight = !parseFloat(\n            (e.getComputedStyle(r, null) || {}).marginRight\n          );\n        }\n        if (typeof d.style.zoom !== i) {\n          d.innerHTML = '';\n          d.style.cssText = s + 'width:1px;padding:1px;display:inline;zoom:1';\n          t.inlineBlockNeedsLayout = d.offsetWidth === 3;\n          d.style.display = 'block';\n          d.innerHTML = '<div></div>';\n          d.firstChild.style.width = '5px';\n          t.shrinkWrapBlocks = d.offsetWidth !== 3;\n          if (t.inlineBlockNeedsLayout) {\n            u.style.zoom = 1;\n          }\n        }\n        u.removeChild(n);\n        n = d = a = r = null;\n      }\n    });\n    n = s = u = l = r = a = null;\n    return t;\n  })();\n  var O = /(?:\\{[\\s\\S]*\\}|\\[[\\s\\S]*\\])$/;\n  var B = /([A-Z])/g;\n  b.extend({\n    cache: {},\n    expando: 'jQuery' + (p + Math.random()).replace(/\\D/g, ''),\n    noData: {\n      embed: true,\n      object: 'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000',\n      applet: true,\n    },\n    hasData: function(e) {\n      e = e.nodeType ? b.cache[e[b.expando]] : e[b.expando];\n      return !!e && !$(e);\n    },\n    data: function(e, t, n) {\n      return P(e, t, n);\n    },\n    removeData: function(e, t) {\n      return R(e, t);\n    },\n    _data: function(e, t, n) {\n      return P(e, t, n, true);\n    },\n    _removeData: function(e, t) {\n      return R(e, t, true);\n    },\n    acceptData: function(e) {\n      if (e.nodeType && e.nodeType !== 1 && e.nodeType !== 9) {\n        return false;\n      }\n      var t = e.nodeName && b.noData[e.nodeName.toLowerCase()];\n      return !t || (t !== true && e.getAttribute('classid') === t);\n    },\n  });\n  b.fn.extend({\n    data: function(e, n) {\n      var r;\n      var i;\n      var o = this[0];\n      var a = 0;\n      var s = null;\n      if (e === t) {\n        if (\n          this.length &&\n          ((s = b.data(o)), o.nodeType === 1 && !b._data(o, 'parsedAttrs'))\n        ) {\n          for (r = o.attributes; r.length > a; a++) {\n            i = r[a].name;\n            if (!i.indexOf('data-')) {\n              i = b.camelCase(i.slice(5));\n              W(o, i, s[i]);\n            }\n          }\n          b._data(o, 'parsedAttrs', true);\n        }\n        return s;\n      }\n      if (typeof e == 'object') {\n        return this.each(function() {\n          b.data(this, e);\n        });\n      } else {\n        return b.access(\n          this,\n          function(n) {\n            if (n === t) {\n              if (o) {\n                return W(o, e, b.data(o, e));\n              } else {\n                return null;\n              }\n            } else {\n              this.each(function() {\n                b.data(this, e, n);\n              });\n              return t;\n            }\n          },\n          null,\n          n,\n          arguments.length > 1,\n          null,\n          true\n        );\n      }\n    },\n    removeData: function(e) {\n      return this.each(function() {\n        b.removeData(this, e);\n      });\n    },\n  });\n  b.extend({\n    queue: function(e, n, r) {\n      var i;\n      if (e) {\n        n = (n || 'fx') + 'queue';\n        i = b._data(e, n);\n        if (r) {\n          if (!i || b.isArray(r)) {\n            i = b._data(e, n, b.makeArray(r));\n          } else {\n            i.push(r);\n          }\n        }\n        return i || [];\n      } else {\n        return t;\n      }\n    },\n    dequeue: function(e, t) {\n      t = t || 'fx';\n      var n = b.queue(e, t);\n      var r = n.length;\n      var i = n.shift();\n      var o = b._queueHooks(e, t);\n      var a = function() {\n        b.dequeue(e, t);\n      };\n      if (i === 'inprogress') {\n        i = n.shift();\n        r--;\n      }\n      o.cur = i;\n      if (i) {\n        if (t === 'fx') {\n          n.unshift('inprogress');\n        }\n        delete o.stop;\n        i.call(e, a, o);\n      }\n      if (!r && o) {\n        o.empty.fire();\n      }\n    },\n    _queueHooks: function(e, t) {\n      var n = t + 'queueHooks';\n      return (\n        b._data(e, n) ||\n        b._data(e, n, {\n          empty: b.Callbacks('once memory').add(function() {\n            b._removeData(e, t + 'queue');\n            b._removeData(e, n);\n          }),\n        })\n      );\n    },\n  });\n  b.fn.extend({\n    queue: function(e, n) {\n      var r = 2;\n      if (typeof e != 'string') {\n        n = e;\n        e = 'fx';\n        r--;\n      }\n      if (r > arguments.length) {\n        return b.queue(this[0], e);\n      } else if (n === t) {\n        return this;\n      } else {\n        return this.each(function() {\n          var t = b.queue(this, e, n);\n          b._queueHooks(this, e);\n          if (e === 'fx' && t[0] !== 'inprogress') {\n            b.dequeue(this, e);\n          }\n        });\n      }\n    },\n    dequeue: function(e) {\n      return this.each(function() {\n        b.dequeue(this, e);\n      });\n    },\n    delay: function(e, t) {\n      e = b.fx ? b.fx.speeds[e] || e : e;\n      t = t || 'fx';\n      return this.queue(t, function(t, n) {\n        var r = setTimeout(t, e);\n        n.stop = function() {\n          clearTimeout(r);\n        };\n      });\n    },\n    clearQueue: function(e) {\n      return this.queue(e || 'fx', []);\n    },\n    promise: function(e, n) {\n      var r;\n      var i = 1;\n      var o = b.Deferred();\n      var a = this;\n      var s = this.length;\n      var u = function() {\n        if (!--i) {\n          o.resolveWith(a, [a]);\n        }\n      };\n      if (typeof e != 'string') {\n        n = e;\n        e = t;\n      }\n      e = e || 'fx';\n      while (s--) {\n        r = b._data(a[s], e + 'queueHooks');\n        if (r && r.empty) {\n          i++;\n          r.empty.add(u);\n        }\n      }\n      u();\n      return o.promise(n);\n    },\n  });\n  var I;\n  var X = /[\\t\\r\\n]/g;\n  var U = /\\r/g;\n  var V = /^(?:input|select|textarea|button|object)$/i;\n  var Y = /^(?:a|area)$/i;\n  var J = /^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i;\n  var G = /^(?:checked|selected)$/i;\n  var Q = b.support.getSetAttribute;\n  var K = b.support.input;\n  b.fn.extend({\n    attr: function(e, t) {\n      return b.access(this, b.attr, e, t, arguments.length > 1);\n    },\n    removeAttr: function(e) {\n      return this.each(function() {\n        b.removeAttr(this, e);\n      });\n    },\n    prop: function(e, t) {\n      return b.access(this, b.prop, e, t, arguments.length > 1);\n    },\n    removeProp: function(e) {\n      e = b.propFix[e] || e;\n      return this.each(function() {\n        try {\n          this[e] = t;\n          delete this[e];\n        } catch (n) {}\n      });\n    },\n    addClass: function(e) {\n      var t;\n      var n;\n      var r;\n      var i;\n      var o;\n      var a = 0;\n      var s = this.length;\n      var u = typeof e == 'string' && e;\n      if (b.isFunction(e)) {\n        return this.each(function(t) {\n          b(this).addClass(e.call(this, t, this.className));\n        });\n      }\n      if (u) {\n        for (t = (e || '').match(w) || []; s > a; a++) {\n          n = this[a];\n          if (\n            (r =\n              n.nodeType === 1 &&\n              (n.className ? (' ' + n.className + ' ').replace(X, ' ') : ' '))\n          ) {\n            o = 0;\n            while ((i = t[o++])) {\n              if (0 > r.indexOf(' ' + i + ' ')) {\n                r += i + ' ';\n              }\n            }\n            n.className = b.trim(r);\n          }\n        }\n      }\n      return this;\n    },\n    removeClass: function(e) {\n      var t;\n      var n;\n      var r;\n      var i;\n      var o;\n      var a = 0;\n      var s = this.length;\n      var u = arguments.length === 0 || (typeof e == 'string' && e);\n      if (b.isFunction(e)) {\n        return this.each(function(t) {\n          b(this).removeClass(e.call(this, t, this.className));\n        });\n      }\n      if (u) {\n        for (t = (e || '').match(w) || []; s > a; a++) {\n          n = this[a];\n          if (\n            (r =\n              n.nodeType === 1 &&\n              (n.className ? (' ' + n.className + ' ').replace(X, ' ') : ''))\n          ) {\n            o = 0;\n            while ((i = t[o++])) {\n              while (r.indexOf(' ' + i + ' ') >= 0) {\n                r = r.replace(' ' + i + ' ', ' ');\n              }\n            }\n            n.className = e ? b.trim(r) : '';\n          }\n        }\n      }\n      return this;\n    },\n    toggleClass: function(e, t) {\n      var n = typeof e;\n      var r = typeof t == 'boolean';\n      if (b.isFunction(e)) {\n        return this.each(function(n) {\n          b(this).toggleClass(e.call(this, n, this.className, t), t);\n        });\n      } else {\n        return this.each(function() {\n          if (n === 'string') {\n            var o;\n            var a = 0;\n            var s = b(this);\n            var u = t;\n            var l = e.match(w) || [];\n            while ((o = l[a++])) {\n              u = r ? u : !s.hasClass(o);\n              s[u ? 'addClass' : 'removeClass'](o);\n            }\n          } else if (n === i || n === 'boolean') {\n            if (this.className) {\n              b._data(this, '__className__', this.className);\n            }\n            this.className =\n              this.className || e === false\n                ? ''\n                : b._data(this, '__className__') || '';\n          }\n        });\n      }\n    },\n    hasClass: function(e) {\n      var t = ' ' + e + ' ';\n      var n = 0;\n      var r = this.length;\n      return false;\n    },\n    val: function(e) {\n      var n;\n      var r;\n      var i;\n      var o = this[0];\n      if (arguments.length) {\n        i = b.isFunction(e);\n        return this.each(function(n) {\n          var o;\n          var a = b(this);\n          if (this.nodeType === 1) {\n            o = i ? e.call(this, n, a.val()) : e;\n            if (o == null) {\n              o = '';\n            } else if (typeof o == 'number') {\n              o += '';\n            } else if (b.isArray(o)) {\n              o = b.map(o, function(e) {\n                if (e == null) {\n                  return '';\n                } else {\n                  return e + '';\n                }\n              });\n            }\n            r =\n              b.valHooks[this.type] || b.valHooks[this.nodeName.toLowerCase()];\n            if (!r || !('set' in r) || r.set(this, o, 'value') === t) {\n              this.value = o;\n            }\n          }\n        });\n      }\n      if (o) {\n        r = b.valHooks[o.type] || b.valHooks[o.nodeName.toLowerCase()];\n        if (r && 'get' in r && (n = r.get(o, 'value')) !== t) {\n          return n;\n        } else {\n          n = o.value;\n          if (typeof n == 'string') {\n            return n.replace(U, '');\n          } else if (n == null) {\n            return '';\n          } else {\n            return n;\n          }\n        }\n      }\n    },\n  });\n  b.extend({\n    valHooks: {\n      option: {\n        get: function(e) {\n          var t = e.attributes.value;\n          if (!t || t.specified) {\n            return e.value;\n          } else {\n            return e.text;\n          }\n        },\n      },\n      select: {\n        get: function(e) {\n          var t;\n          var n;\n          var r = e.options;\n          var i = e.selectedIndex;\n          var o = e.type === 'select-one' || 0 > i;\n          var a = o ? null : [];\n          var s = o ? i + 1 : r.length;\n          var u = 0 > i ? s : o ? i : 0;\n          return a;\n        },\n        set: function(e, t) {\n          var n = b.makeArray(t);\n          b(e)\n            .find('option')\n            .each(function() {\n              this.selected = b.inArray(b(this).val(), n) >= 0;\n            });\n          if (!n.length) {\n            e.selectedIndex = -1;\n          }\n          return n;\n        },\n      },\n    },\n    attr: function(e, n, r) {\n      var o;\n      var a;\n      var s;\n      var u = e.nodeType;\n      if (e && u !== 3 && u !== 8 && u !== 2) {\n        if (typeof e.getAttribute === i) {\n          return b.prop(e, n, r);\n        } else {\n          a = u !== 1 || !b.isXMLDoc(e);\n          if (a) {\n            n = n.toLowerCase();\n            o = b.attrHooks[n] || (J.test(n) ? z : I);\n          }\n          if (r === t) {\n            if (o && a && 'get' in o && (s = o.get(e, n)) !== null) {\n              return s;\n            } else {\n              if (typeof e.getAttribute !== i) {\n                s = e.getAttribute(n);\n              }\n              if (s == null) {\n                return t;\n              } else {\n                return s;\n              }\n            }\n          } else if (r === null) {\n            b.removeAttr(e, n);\n            return t;\n          } else if (o && a && 'set' in o && (s = o.set(e, r, n)) !== t) {\n            return s;\n          } else {\n            e.setAttribute(n, r + '');\n            return r;\n          }\n        }\n      }\n    },\n    removeAttr: function(e, t) {\n      var n;\n      var r;\n      var i = 0;\n      var o = t && t.match(w);\n      if (o && e.nodeType === 1) {\n        while ((n = o[i++])) {\n          r = b.propFix[n] || n;\n          if (J.test(n)) {\n            if (!Q && G.test(n)) {\n              e[b.camelCase('default-' + n)] = e[r] = false;\n            } else {\n              e[r] = false;\n            }\n          } else {\n            b.attr(e, n, '');\n          }\n          e.removeAttribute(Q ? n : r);\n        }\n      }\n    },\n    attrHooks: {\n      type: {\n        set: function(e, t) {\n          if (\n            !b.support.radioValue &&\n            t === 'radio' &&\n            b.nodeName(e, 'input')\n          ) {\n            var n = e.value;\n            e.setAttribute('type', t);\n            if (n) {\n              e.value = n;\n            }\n            return t;\n          }\n        },\n      },\n    },\n    propFix: {\n      tabindex: 'tabIndex',\n      readonly: 'readOnly',\n      for: 'htmlFor',\n      class: 'className',\n      maxlength: 'maxLength',\n      cellspacing: 'cellSpacing',\n      cellpadding: 'cellPadding',\n      rowspan: 'rowSpan',\n      colspan: 'colSpan',\n      usemap: 'useMap',\n      frameborder: 'frameBorder',\n      contenteditable: 'contentEditable',\n    },\n    prop: function(e, n, r) {\n      var i;\n      var o;\n      var a;\n      var s = e.nodeType;\n      if (e && s !== 3 && s !== 8 && s !== 2) {\n        a = s !== 1 || !b.isXMLDoc(e);\n        if (a) {\n          n = b.propFix[n] || n;\n          o = b.propHooks[n];\n        }\n        if (r === t) {\n          if (o && 'get' in o && (i = o.get(e, n)) !== null) {\n            return i;\n          } else {\n            return e[n];\n          }\n        } else if (o && 'set' in o && (i = o.set(e, r, n)) !== t) {\n          return i;\n        } else {\n          return (e[n] = r);\n        }\n      }\n    },\n    propHooks: {\n      tabIndex: {\n        get: function(e) {\n          var n = e.getAttributeNode('tabindex');\n          if (n && n.specified) {\n            return parseInt(n.value, 10);\n          } else if (V.test(e.nodeName) || (Y.test(e.nodeName) && e.href)) {\n            return 0;\n          } else {\n            return t;\n          }\n        },\n      },\n    },\n  });\n  var z = {\n    get: function(e, n) {\n      var r = b.prop(e, n);\n      var i = typeof r == 'boolean' && e.getAttribute(n);\n      var o =\n        typeof r == 'boolean'\n          ? K && Q\n            ? i != null\n            : G.test(n) ? e[b.camelCase('default-' + n)] : !!i\n          : e.getAttributeNode(n);\n      if (o && o.value !== false) {\n        return n.toLowerCase();\n      } else {\n        return t;\n      }\n    },\n    set: function(e, t, n) {\n      if (t === false) {\n        b.removeAttr(e, n);\n      } else if ((K && Q) || !G.test(n)) {\n        e.setAttribute((!Q && b.propFix[n]) || n, n);\n      } else {\n        e[b.camelCase('default-' + n)] = e[n] = true;\n      }\n      return n;\n    },\n  };\n  if (!K || !Q) {\n    b.attrHooks.value = {\n      get: function(e, n) {\n        var r = e.getAttributeNode(n);\n        if (b.nodeName(e, 'input')) {\n          return e.defaultValue;\n        } else if (r && r.specified) {\n          return r.value;\n        } else {\n          return t;\n        }\n      },\n      set: function(e, n, r) {\n        if (b.nodeName(e, 'input')) {\n          e.defaultValue = n;\n          return t;\n        } else {\n          return I && I.set(e, n, r);\n        }\n      },\n    };\n  }\n  if (!Q) {\n    I = b.valHooks.button = {\n      get: function(e, n) {\n        var r = e.getAttributeNode(n);\n        if (\n          r &&\n          (n === 'id' || n === 'name' || n === 'coords'\n            ? r.value !== ''\n            : r.specified)\n        ) {\n          return r.value;\n        } else {\n          return t;\n        }\n      },\n      set: function(e, n, r) {\n        var i = e.getAttributeNode(r);\n        if (!i) {\n          e.setAttributeNode((i = e.ownerDocument.createAttribute(r)));\n        }\n        i.value = n += '';\n        if (r === 'value' || n === e.getAttribute(r)) {\n          return n;\n        } else {\n          return t;\n        }\n      },\n    };\n    b.attrHooks.contenteditable = {\n      get: I.get,\n      set: function(e, t, n) {\n        I.set(e, t === '' ? false : t, n);\n      },\n    };\n    b.each(['width', 'height'], function(e, n) {\n      b.attrHooks[n] = b.extend(b.attrHooks[n], {\n        set: function(e, r) {\n          if (r === '') {\n            e.setAttribute(n, 'auto');\n            return r;\n          } else {\n            return t;\n          }\n        },\n      });\n    });\n  }\n  if (!b.support.hrefNormalized) {\n    b.each(['href', 'src', 'width', 'height'], function(e, n) {\n      b.attrHooks[n] = b.extend(b.attrHooks[n], {\n        get: function(e) {\n          var r = e.getAttribute(n, 2);\n          if (r == null) {\n            return t;\n          } else {\n            return r;\n          }\n        },\n      });\n    });\n    b.each(['href', 'src'], function(e, t) {\n      b.propHooks[t] = {\n        get: function(e) {\n          return e.getAttribute(t, 4);\n        },\n      };\n    });\n  }\n  if (!b.support.style) {\n    b.attrHooks.style = {\n      get: function(e) {\n        return e.style.cssText || t;\n      },\n      set: function(e, t) {\n        return (e.style.cssText = t + '');\n      },\n    };\n  }\n  if (!b.support.optSelected) {\n    b.propHooks.selected = b.extend(b.propHooks.selected, {\n      get: function(e) {\n        var t = e.parentNode;\n        if (t) {\n          t.selectedIndex;\n          if (t.parentNode) {\n            t.parentNode.selectedIndex;\n          }\n        }\n        return null;\n      },\n    });\n  }\n  if (!b.support.enctype) {\n    b.propFix.enctype = 'encoding';\n  }\n  if (!b.support.checkOn) {\n    b.each(['radio', 'checkbox'], function() {\n      b.valHooks[this] = {\n        get: function(e) {\n          if (e.getAttribute('value') === null) {\n            return 'on';\n          } else {\n            return e.value;\n          }\n        },\n      };\n    });\n  }\n  b.each(['radio', 'checkbox'], function() {\n    b.valHooks[this] = b.extend(b.valHooks[this], {\n      set: function(e, n) {\n        if (b.isArray(n)) {\n          return (e.checked = b.inArray(b(e).val(), n) >= 0);\n        } else {\n          return t;\n        }\n      },\n    });\n  });\n  var Z = /^(?:input|select|textarea)$/i;\n  var et = /^key/;\n  var tt = /^(?:mouse|contextmenu)|click/;\n  var nt = /^(?:focusinfocus|focusoutblur)$/;\n  var rt = /^([^.]*)(?:\\.(.+)|)$/;\n  b.event = {\n    global: {},\n    add: function(e, n, r, o, a) {\n      var s;\n      var u;\n      var l;\n      var c;\n      var p;\n      var f;\n      var d;\n      var h;\n      var g;\n      var m;\n      var y;\n      var v = b._data(e);\n      if (v) {\n        if (r.handler) {\n          c = r;\n          r = c.handler;\n          a = c.selector;\n        }\n        if (!r.guid) {\n          r.guid = b.guid++;\n        }\n        if (!(u = v.events)) {\n          u = v.events = {};\n        }\n        if (!(f = v.handle)) {\n          f = v.handle = function(e) {\n            if (typeof b === i || (e && b.event.triggered === e.type)) {\n              return t;\n            } else {\n              return b.event.dispatch.apply(f.elem, arguments);\n            }\n          };\n          f.elem = e;\n        }\n        n = (n || '').match(w) || [''];\n        l = n.length;\n        while (l--) {\n          s = rt.exec(n[l]) || [];\n          g = y = s[1];\n          m = (s[2] || '').split('.').sort();\n          p = b.event.special[g] || {};\n          g = (a ? p.delegateType : p.bindType) || g;\n          p = b.event.special[g] || {};\n          d = b.extend(\n            {\n              type: g,\n              origType: y,\n              data: o,\n              handler: r,\n              guid: r.guid,\n              selector: a,\n              needsContext: a && b.expr.match.needsContext.test(a),\n              namespace: m.join('.'),\n            },\n            c\n          );\n          if (!(h = u[g])) {\n            h = u[g] = [];\n            h.delegateCount = 0;\n            if (!p.setup || p.setup.call(e, o, m, f) === false) {\n              if (e.addEventListener) {\n                e.addEventListener(g, f, false);\n              } else if (e.attachEvent) {\n                e.attachEvent('on' + g, f);\n              }\n            }\n          }\n          if (p.add) {\n            p.add.call(e, d);\n            if (!d.handler.guid) {\n              d.handler.guid = r.guid;\n            }\n          }\n          if (a) {\n            h.splice(h.delegateCount++, 0, d);\n          } else {\n            h.push(d);\n          }\n          b.event.global[g] = true;\n        }\n        e = null;\n      }\n    },\n    remove: function(e, t, n, r, i) {\n      var o;\n      var a;\n      var s;\n      var u;\n      var l;\n      var c;\n      var p;\n      var f;\n      var d;\n      var h;\n      var g;\n      var m = b.hasData(e) && b._data(e);\n      if (m && (c = m.events)) {\n        t = (t || '').match(w) || [''];\n        l = t.length;\n        while (l--) {\n          s = rt.exec(t[l]) || [];\n          d = g = s[1];\n          h = (s[2] || '').split('.').sort();\n          if (d) {\n            p = b.event.special[d] || {};\n            d = (r ? p.delegateType : p.bindType) || d;\n            f = c[d] || [];\n            s = s[2] && RegExp('(^|\\\\.)' + h.join('\\\\.(?:.*\\\\.|)') + '(\\\\.|$)');\n            u = o = f.length;\n            while (o--) {\n              a = f[o];\n              if (\n                (!!i || g === a.origType) &&\n                (!n || n.guid === a.guid) &&\n                (!s || !!s.test(a.namespace)) &&\n                (!r || r === a.selector || (r === '**' && !!a.selector))\n              ) {\n                f.splice(o, 1);\n                if (a.selector) {\n                  f.delegateCount--;\n                }\n                if (p.remove) {\n                  p.remove.call(e, a);\n                }\n              }\n            }\n            if (u && !f.length) {\n              if (!p.teardown || p.teardown.call(e, h, m.handle) === false) {\n                b.removeEvent(e, d, m.handle);\n              }\n              delete c[d];\n            }\n          } else {\n            for (d in c) {\n              b.event.remove(e, d + t[l], n, r, true);\n            }\n          }\n        }\n        if (b.isEmptyObject(c)) {\n          delete m.handle;\n          b._removeData(e, 'events');\n        }\n      }\n    },\n    trigger: function(n, r, i, a) {\n      var s;\n      var u;\n      var c;\n      var p;\n      var f;\n      var d;\n      var h = [i || o];\n      var g = y.call(n, 'type') ? n.type : n;\n      var m = y.call(n, 'namespace') ? n.namespace.split('.') : [];\n      var l = (f = i = i || o);\n      if (\n        i.nodeType !== 3 &&\n        i.nodeType !== 8 &&\n        !nt.test(g + b.event.triggered) &&\n        (g.indexOf('.') >= 0 && ((m = g.split('.')), (g = m.shift()), m.sort()),\n        (u = 0 > g.indexOf(':') && 'on' + g),\n        (n = n[b.expando] ? n : new b.Event(g, typeof n == 'object' && n)),\n        (n.isTrigger = true),\n        (n.namespace = m.join('.')),\n        (n.namespace_re = n.namespace\n          ? RegExp('(^|\\\\.)' + m.join('\\\\.(?:.*\\\\.|)') + '(\\\\.|$)')\n          : null),\n        (n.result = t),\n        n.target || (n.target = i),\n        (r = r == null ? [n] : b.makeArray(r, [n])),\n        (p = b.event.special[g] || {}),\n        a || !p.trigger || p.trigger.apply(i, r) !== false)\n      ) {\n        if (!a && !p.noBubble && !b.isWindow(i)) {\n          c = p.delegateType || g;\n          for (nt.test(c + g) || (l = l.parentNode); l; l = l.parentNode) {\n            h.push(l);\n            f = l;\n          }\n          if (f === (i.ownerDocument || o)) {\n            h.push(f.defaultView || f.parentWindow || e);\n          }\n        }\n        d = 0;\n        while ((l = h[d++]) && !n.isPropagationStopped()) {\n          n.type = d > 1 ? c : p.bindType || g;\n          s = (b._data(l, 'events') || {})[n.type] && b._data(l, 'handle');\n          if (s) {\n            s.apply(l, r);\n          }\n          s = u && l[u];\n          if (s && b.acceptData(l) && s.apply && s.apply(l, r) === false) {\n            n.preventDefault();\n          }\n        }\n        n.type = g;\n        if (\n          !a &&\n          !n.isDefaultPrevented() &&\n          (!p._default || p._default.apply(i.ownerDocument, r) === false) &&\n          (g !== 'click' || !b.nodeName(i, 'a')) &&\n          !!b.acceptData(i) &&\n          !!u &&\n          !!i[g] &&\n          !b.isWindow(i)\n        ) {\n          f = i[u];\n          if (f) {\n            i[u] = null;\n          }\n          b.event.triggered = g;\n          try {\n            i[g]();\n          } catch (v) {}\n          b.event.triggered = t;\n          if (f) {\n            i[u] = f;\n          }\n        }\n        return n.result;\n      }\n    },\n    dispatch: function(e) {\n      e = b.event.fix(e);\n      var n;\n      var r;\n      var i;\n      var o;\n      var a;\n      var s = [];\n      var u = h.call(arguments);\n      var l = (b._data(this, 'events') || {})[e.type] || [];\n      var c = b.event.special[e.type] || {};\n      u[0] = e;\n      e.delegateTarget = this;\n      if (!c.preDispatch || c.preDispatch.call(this, e) !== false) {\n        s = b.event.handlers.call(this, e, l);\n        n = 0;\n        while ((o = s[n++]) && !e.isPropagationStopped()) {\n          e.currentTarget = o.elem;\n          a = 0;\n          while ((i = o.handlers[a++]) && !e.isImmediatePropagationStopped()) {\n            if (!e.namespace_re || e.namespace_re.test(i.namespace)) {\n              e.handleObj = i;\n              e.data = i.data;\n              r = (\n                (b.event.special[i.origType] || {}).handle || i.handler\n              ).apply(o.elem, u);\n              if (r !== t && (e.result = r) === false) {\n                e.preventDefault();\n                e.stopPropagation();\n              }\n            }\n          }\n        }\n        if (c.postDispatch) {\n          c.postDispatch.call(this, e);\n        }\n        return e.result;\n      }\n    },\n    handlers: function(e, n) {\n      var r;\n      var i;\n      var o;\n      var a;\n      var s = [];\n      var u = n.delegateCount;\n      var l = e.target;\n      if (u && l.nodeType && (!e.button || e.type !== 'click')) {\n      }\n      if (n.length > u) {\n        s.push({ elem: this, handlers: n.slice(u) });\n      }\n      return s;\n    },\n    fix: function(e) {\n      if (e[b.expando]) {\n        return e;\n      }\n      var n;\n      var i = e.type;\n      var a = e;\n      var s = this.fixHooks[i];\n      if (!s) {\n        this.fixHooks[i] = s = tt.test(i)\n          ? this.mouseHooks\n          : et.test(i) ? this.keyHooks : {};\n      }\n      var r = s.props ? this.props.concat(s.props) : this.props;\n      e = new b.Event(a);\n      var t = r.length;\n      while (t--) {\n        n = r[t];\n        e[n] = a[n];\n      }\n      if (!e.target) {\n        e.target = a.srcElement || o;\n      }\n      if (e.target.nodeType === 3) {\n        e.target = e.target.parentNode;\n      }\n      e.metaKey = !!e.metaKey;\n      if (s.filter) {\n        return s.filter(e, a);\n      } else {\n        return e;\n      }\n    },\n    props: 'altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which'.split(\n      ' '\n    ),\n    fixHooks: {},\n    keyHooks: {\n      props: 'char charCode key keyCode'.split(' '),\n      filter: function(e, t) {\n        if (e.which == null) {\n          e.which = t.charCode != null ? t.charCode : t.keyCode;\n        }\n        return e;\n      },\n    },\n    mouseHooks: {\n      props: 'button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement'.split(\n        ' '\n      ),\n      filter: function(e, n) {\n        var r;\n        var i;\n        var a;\n        var s = n.button;\n        var u = n.fromElement;\n        if (e.pageX == null && n.clientX != null) {\n          i = e.target.ownerDocument || o;\n          a = i.documentElement;\n          r = i.body;\n          e.pageX =\n            n.clientX +\n            ((a && a.scrollLeft) || (r && r.scrollLeft) || 0) -\n            ((a && a.clientLeft) || (r && r.clientLeft) || 0);\n          e.pageY =\n            n.clientY +\n            ((a && a.scrollTop) || (r && r.scrollTop) || 0) -\n            ((a && a.clientTop) || (r && r.clientTop) || 0);\n        }\n        if (!e.relatedTarget && u) {\n          e.relatedTarget = u === e.target ? n.toElement : u;\n        }\n        if (!e.which && s !== t) {\n          e.which = 1 & s ? 1 : 2 & s ? 3 : 4 & s ? 2 : 0;\n        }\n        return e;\n      },\n    },\n    special: {\n      load: { noBubble: true },\n      click: {\n        trigger: function() {\n          if (\n            b.nodeName(this, 'input') &&\n            this.type === 'checkbox' &&\n            this.click\n          ) {\n            this.click();\n            return false;\n          } else {\n            return t;\n          }\n        },\n      },\n      focus: {\n        trigger: function() {\n          if (this !== o.activeElement && this.focus) {\n            try {\n              this.focus();\n              return false;\n            } catch (e) {}\n          }\n        },\n        delegateType: 'focusin',\n      },\n      blur: {\n        trigger: function() {\n          if (this === o.activeElement && this.blur) {\n            this.blur();\n            return false;\n          } else {\n            return t;\n          }\n        },\n        delegateType: 'focusout',\n      },\n      beforeunload: {\n        postDispatch: function(e) {\n          if (e.result !== t) {\n            e.originalEvent.returnValue = e.result;\n          }\n        },\n      },\n    },\n    simulate: function(e, t, n, r) {\n      var i = b.extend(new b.Event(), n, {\n        type: e,\n        isSimulated: true,\n        originalEvent: {},\n      });\n      if (r) {\n        b.event.trigger(i, null, t);\n      } else {\n        b.event.dispatch.call(t, i);\n      }\n      if (i.isDefaultPrevented()) {\n        n.preventDefault();\n      }\n    },\n  };\n  b.removeEvent = o.removeEventListener\n    ? function(e, t, n) {\n        if (e.removeEventListener) {\n          e.removeEventListener(t, n, false);\n        }\n      }\n    : function(e, t, n) {\n        var r = 'on' + t;\n        if (e.detachEvent) {\n          if (typeof e[r] === i) {\n            e[r] = null;\n          }\n          e.detachEvent(r, n);\n        }\n      };\n  b.Event = function(e, n) {\n    if (this instanceof b.Event) {\n      if (e && e.type) {\n        this.originalEvent = e;\n        this.type = e.type;\n        this.isDefaultPrevented =\n          e.defaultPrevented ||\n          e.returnValue === false ||\n          (e.getPreventDefault && e.getPreventDefault())\n            ? it\n            : ot;\n      } else {\n        this.type = e;\n      }\n      if (n) {\n        b.extend(this, n);\n      }\n      this.timeStamp = (e && e.timeStamp) || b.now();\n      this[b.expando] = true;\n      return t;\n    } else {\n      return new b.Event(e, n);\n    }\n  };\n  b.Event.prototype = {\n    isDefaultPrevented: ot,\n    isPropagationStopped: ot,\n    isImmediatePropagationStopped: ot,\n    preventDefault: function() {\n      var e = this.originalEvent;\n      this.isDefaultPrevented = it;\n      if (e) {\n        if (e.preventDefault) {\n          e.preventDefault();\n        } else {\n          e.returnValue = false;\n        }\n      }\n    },\n    stopPropagation: function() {\n      var e = this.originalEvent;\n      this.isPropagationStopped = it;\n      if (e) {\n        if (e.stopPropagation) {\n          e.stopPropagation();\n        }\n        e.cancelBubble = true;\n      }\n    },\n    stopImmediatePropagation: function() {\n      this.isImmediatePropagationStopped = it;\n      this.stopPropagation();\n    },\n  };\n  b.each({ mouseenter: 'mouseover', mouseleave: 'mouseout' }, function(e, t) {\n    b.event.special[e] = {\n      delegateType: t,\n      bindType: t,\n      handle: function(e) {\n        var n;\n        var r = this;\n        var i = e.relatedTarget;\n        var o = e.handleObj;\n        if (!i || (i !== r && !b.contains(r, i))) {\n          e.type = o.origType;\n          n = o.handler.apply(this, arguments);\n          e.type = t;\n        }\n        return n;\n      },\n    };\n  });\n  if (!b.support.submitBubbles) {\n    b.event.special.submit = {\n      setup: function() {\n        if (b.nodeName(this, 'form')) {\n          return false;\n        } else {\n          b.event.add(this, 'click._submit keypress._submit', function(e) {\n            var n = e.target;\n            var r =\n              b.nodeName(n, 'input') || b.nodeName(n, 'button') ? n.form : t;\n            if (r && !b._data(r, 'submitBubbles')) {\n              b.event.add(r, 'submit._submit', function(e) {\n                e._submit_bubble = true;\n              });\n              b._data(r, 'submitBubbles', true);\n            }\n          });\n          return t;\n        }\n      },\n      postDispatch: function(e) {\n        if (e._submit_bubble) {\n          delete e._submit_bubble;\n          if (this.parentNode && !e.isTrigger) {\n            b.event.simulate('submit', this.parentNode, e, true);\n          }\n        }\n      },\n      teardown: function() {\n        if (b.nodeName(this, 'form')) {\n          return false;\n        } else {\n          b.event.remove(this, '._submit');\n          return t;\n        }\n      },\n    };\n  }\n  if (!b.support.changeBubbles) {\n    b.event.special.change = {\n      setup: function() {\n        if (Z.test(this.nodeName)) {\n          if (this.type === 'checkbox' || this.type === 'radio') {\n            b.event.add(this, 'propertychange._change', function(e) {\n              if (e.originalEvent.propertyName === 'checked') {\n                this._just_changed = true;\n              }\n            });\n            b.event.add(this, 'click._change', function(e) {\n              if (this._just_changed && !e.isTrigger) {\n                this._just_changed = false;\n              }\n              b.event.simulate('change', this, e, true);\n            });\n          }\n          return false;\n        } else {\n          b.event.add(this, 'beforeactivate._change', function(e) {\n            var t = e.target;\n            if (Z.test(t.nodeName) && !b._data(t, 'changeBubbles')) {\n              b.event.add(t, 'change._change', function(e) {\n                if (!!this.parentNode && !e.isSimulated && !e.isTrigger) {\n                  b.event.simulate('change', this.parentNode, e, true);\n                }\n              });\n              b._data(t, 'changeBubbles', true);\n            }\n          });\n          return t;\n        }\n      },\n      handle: function(e) {\n        var n = e.target;\n        if (\n          this !== n ||\n          e.isSimulated ||\n          e.isTrigger ||\n          (n.type !== 'radio' && n.type !== 'checkbox')\n        ) {\n          return e.handleObj.handler.apply(this, arguments);\n        } else {\n          return t;\n        }\n      },\n      teardown: function() {\n        b.event.remove(this, '._change');\n        return !Z.test(this.nodeName);\n      },\n    };\n  }\n  if (!b.support.focusinBubbles) {\n    b.each({ focus: 'focusin', blur: 'focusout' }, function(e, t) {\n      var n = 0;\n      var r = function(e) {\n        b.event.simulate(t, e.target, b.event.fix(e), true);\n      };\n      b.event.special[t] = {\n        setup: function() {\n          if (n++ === 0) {\n            o.addEventListener(e, r, true);\n          }\n        },\n        teardown: function() {\n          if (--n === 0) {\n            o.removeEventListener(e, r, true);\n          }\n        },\n      };\n    });\n  }\n  b.fn.extend({\n    on: function(e, n, r, i, o) {\n      var a;\n      var s;\n      if (typeof e == 'object') {\n        if (typeof n != 'string') {\n          r = r || n;\n          n = t;\n        }\n        for (a in e) {\n          this.on(a, n, r, e[a], o);\n        }\n        return this;\n      }\n      if (r == null && i == null) {\n        i = n;\n        r = n = t;\n      } else if (i == null) {\n        if (typeof n == 'string') {\n          i = r;\n          r = t;\n        } else {\n          i = r;\n          r = n;\n          n = t;\n        }\n      }\n      if (i === false) {\n        i = ot;\n      } else if (!i) {\n        return this;\n      }\n      if (o === 1) {\n        s = i;\n        i = function(e) {\n          b().off(e);\n          return s.apply(this, arguments);\n        };\n        i.guid = s.guid || (s.guid = b.guid++);\n      }\n      return this.each(function() {\n        b.event.add(this, e, i, r, n);\n      });\n    },\n    one: function(e, t, n, r) {\n      return this.on(e, t, n, r, 1);\n    },\n    off: function(e, n, r) {\n      var i;\n      var o;\n      if (e && e.preventDefault && e.handleObj) {\n        i = e.handleObj;\n        b(e.delegateTarget).off(\n          i.namespace ? i.origType + '.' + i.namespace : i.origType,\n          i.selector,\n          i.handler\n        );\n        return this;\n      }\n      if (typeof e == 'object') {\n        for (o in e) {\n          this.off(o, n, e[o]);\n        }\n        return this;\n      }\n      if (n === false || typeof n == 'function') {\n        r = n;\n        n = t;\n      }\n      if (r === false) {\n        r = ot;\n      }\n      return this.each(function() {\n        b.event.remove(this, e, r, n);\n      });\n    },\n    bind: function(e, t, n) {\n      return this.on(e, null, t, n);\n    },\n    unbind: function(e, t) {\n      return this.off(e, null, t);\n    },\n    delegate: function(e, t, n, r) {\n      return this.on(t, e, n, r);\n    },\n    undelegate: function(e, t, n) {\n      if (arguments.length === 1) {\n        return this.off(e, '**');\n      } else {\n        return this.off(t, e || '**', n);\n      }\n    },\n    trigger: function(e, t) {\n      return this.each(function() {\n        b.event.trigger(e, t, this);\n      });\n    },\n    triggerHandler: function(e, n) {\n      var r = this[0];\n      if (r) {\n        return b.event.trigger(e, n, r, true);\n      } else {\n        return t;\n      }\n    },\n  });\n  (function(e, t) {\n    function rt(e) {\n      return Y.test(e + '');\n    }\n    function it() {\n      var e;\n      var t = [];\n      return (e = function(n, r) {\n        if (t.push((n += ' ')) > i.cacheLength) {\n          delete e[t.shift()];\n        }\n        return (e[n] = r);\n      });\n    }\n    function ot(e) {\n      e[x] = true;\n      return e;\n    }\n    function at(e) {\n      var t = p.createElement('div');\n      try {\n        return e(t);\n      } catch (n) {\n        return false;\n      } finally {\n        t = null;\n      }\n    }\n    function st(e, t, n, r) {\n      var i;\n      var o;\n      var a;\n      var s;\n      var u;\n      var l;\n      var f;\n      var g;\n      var m;\n      var v;\n      if ((t ? t.ownerDocument || t : w) !== p) {\n        c(t);\n      }\n      t = t || p;\n      n = n || [];\n      if (!e || typeof e != 'string') {\n        return n;\n      }\n      if ((s = t.nodeType) !== 1 && s !== 9) {\n        return [];\n      }\n      if (!d && !r) {\n        if ((i = J.exec(e))) {\n          if ((a = i[1])) {\n            if (s === 9) {\n              o = t.getElementById(a);\n              if (!o || !o.parentNode) {\n                return n;\n              }\n              if (o.id === a) {\n                n.push(o);\n                return n;\n              }\n            } else if (\n              t.ownerDocument &&\n              (o = t.ownerDocument.getElementById(a)) &&\n              y(t, o) &&\n              o.id === a\n            ) {\n              n.push(o);\n              return n;\n            }\n          } else {\n            if (i[2]) {\n              H.apply(n, q.call(t.getElementsByTagName(e), 0));\n              return n;\n            }\n            if ((a = i[3]) && T.getByClassName && t.getElementsByClassName) {\n              H.apply(n, q.call(t.getElementsByClassName(a), 0));\n              return n;\n            }\n          }\n        }\n        if (T.qsa && !h.test(e)) {\n          f = true;\n          g = x;\n          m = t;\n          v = s === 9 && e;\n          if (s === 1 && t.nodeName.toLowerCase() !== 'object') {\n            l = ft(e);\n            if ((f = t.getAttribute('id'))) {\n              g = f.replace(K, '\\\\$&');\n            } else {\n              t.setAttribute('id', g);\n            }\n            g = \"[id='\" + g + \"'] \";\n            u = l.length;\n            while (u--) {\n              l[u] = g + dt(l[u]);\n            }\n            m = (V.test(e) && t.parentNode) || t;\n            v = l.join(',');\n          }\n          if (v) {\n            try {\n              H.apply(n, q.call(m.querySelectorAll(v), 0));\n              return n;\n            } catch (b) {\n            } finally {\n              if (!f) {\n                t.removeAttribute('id');\n              }\n            }\n          }\n        }\n      }\n      return wt(e.replace(W, '$1'), t, n, r);\n    }\n    function ut(e, t) {\n      var n = t && e;\n      var r = n && (~t.sourceIndex || j) - (~e.sourceIndex || j);\n      if (r) {\n        return r;\n      }\n      if (n) {\n        while ((n = n.nextSibling)) {\n          if (n === t) {\n            return -1;\n          }\n        }\n      }\n      if (e) {\n        return 1;\n      } else {\n        return -1;\n      }\n    }\n    function lt(e) {\n      return function(t) {\n        var n = t.nodeName.toLowerCase();\n        return n === 'input' && t.type === e;\n      };\n    }\n    function ct(e) {\n      return function(t) {\n        var n = t.nodeName.toLowerCase();\n        return (n === 'input' || n === 'button') && t.type === e;\n      };\n    }\n    function pt(e) {\n      return ot(function(t) {\n        t = +t;\n        return ot(function(n, r) {\n          var i;\n          var o = e([], n.length, t);\n          var a = o.length;\n          while (a--) {\n            if (n[(i = o[a])]) {\n              n[i] = !(r[i] = n[i]);\n            }\n          }\n        });\n      });\n    }\n    function ft(e, t) {\n      var n;\n      var r;\n      var o;\n      var a;\n      var c = E[e + ' '];\n      if (c) {\n        if (t) {\n          return 0;\n        } else {\n          return c.slice(0);\n        }\n      }\n      var s = e;\n      var u = [];\n      var l = i.preFilter;\n      while (s) {\n        if (!n || (r = $.exec(s))) {\n          if (r) {\n            s = s.slice(r[0].length) || s;\n          }\n          u.push((o = []));\n        }\n        n = false;\n        if ((r = I.exec(s))) {\n          n = r.shift();\n          o.push({ value: n, type: r[0].replace(W, ' ') });\n          s = s.slice(n.length);\n        }\n        for (a in i.filter) {\n          if (!!(r = U[a].exec(s)) && (!l[a] || !!(r = l[a](r)))) {\n            n = r.shift();\n            o.push({ value: n, type: a, matches: r });\n            s = s.slice(n.length);\n          }\n        }\n        if (!n) {\n          break;\n        }\n      }\n      if (t) {\n        return s.length;\n      } else if (s) {\n        return st.error(e);\n      } else {\n        return E(e, u).slice(0);\n      }\n    }\n    function dt(e) {\n      var t = 0;\n      var n = e.length;\n      var r = '';\n      return r;\n    }\n    function ht(e, t, n) {\n      var i = t.dir;\n      var o = n && i === 'parentNode';\n      var a = C++;\n      if (t.first) {\n        return function(t, n, r) {\n          while ((t = t[i])) {\n            if (t.nodeType === 1 || o) {\n              return e(t, n, r);\n            }\n          }\n        };\n      } else {\n        return function(t, n, s) {\n          var u;\n          var l;\n          var c;\n          var p = N + ' ' + a;\n          if (s) {\n            while ((t = t[i])) {\n              if ((t.nodeType === 1 || o) && e(t, n, s)) {\n                return true;\n              }\n            }\n          } else {\n            while ((t = t[i])) {\n              if (t.nodeType === 1 || o) {\n                c = t[x] || (t[x] = {});\n                if ((l = c[i]) && l[0] === p) {\n                  if ((u = l[1]) === true || u === r) {\n                    return u === true;\n                  }\n                } else if (\n                  ((l = c[i] = [p]), (l[1] = e(t, n, s) || r), l[1] === true)\n                ) {\n                  return true;\n                }\n              }\n            }\n          }\n        };\n      }\n    }\n    function gt(e) {\n      if (e.length > 1) {\n        return function(t, n, r) {\n          var i = e.length;\n          while (i--) {\n            if (!e[i](t, n, r)) {\n              return false;\n            }\n          }\n          return true;\n        };\n      } else {\n        return e[0];\n      }\n    }\n    function mt(e, t, n, r, i) {\n      var o;\n      var a = [];\n      var s = 0;\n      var u = e.length;\n      var l = t != null;\n      return a;\n    }\n    function yt(e, t, n, r, i, o) {\n      if (r && !r[x]) {\n        r = yt(r);\n      }\n      if (i && !i[x]) {\n        i = yt(i, o);\n      }\n      return ot(function(o, a, s, u) {\n        var l;\n        var c;\n        var p;\n        var f = [];\n        var d = [];\n        var h = a.length;\n        var g = o || xt(t || '*', s.nodeType ? [s] : s, []);\n        var m = !e || (!o && t) ? g : mt(g, f, e, s, u);\n        var y = n ? (i || (o ? e : h || r) ? [] : a) : m;\n        if (n) {\n          n(m, y, s, u);\n        }\n        if (r) {\n          l = mt(y, d);\n          r(l, [], s, u);\n          c = l.length;\n          while (c--) {\n            if ((p = l[c])) {\n              y[d[c]] = !(m[d[c]] = p);\n            }\n          }\n        }\n        if (o) {\n          if (i || e) {\n            if (i) {\n              l = [];\n              c = y.length;\n              while (c--) {\n                if ((p = y[c])) {\n                  l.push((m[c] = p));\n                }\n              }\n              i(null, (y = []), l, u);\n            }\n            c = y.length;\n            while (c--) {\n              if ((p = y[c]) && (l = i ? M.call(o, p) : f[c]) > -1) {\n                o[l] = !(a[l] = p);\n              }\n            }\n          }\n        } else {\n          y = mt(y === a ? y.splice(h, y.length) : y);\n          if (i) {\n            i(null, a, y, u);\n          } else {\n            H.apply(a, y);\n          }\n        }\n      });\n    }\n    function vt(e) {\n      var t;\n      var n;\n      var r;\n      var o = e.length;\n      var a = i.relative[e[0].type];\n      var s = a || i.relative[' '];\n      var u = a ? 1 : 0;\n      var c = ht(\n        function(e) {\n          return e === t;\n        },\n        s,\n        true\n      );\n      var p = ht(\n        function(e) {\n          return M.call(t, e) > -1;\n        },\n        s,\n        true\n      );\n      var f = [\n        function(e, n, r) {\n          return (\n            (!a && (r || n !== l)) ||\n            ((t = n).nodeType ? c(e, n, r) : p(e, n, r))\n          );\n        },\n      ];\n      return gt(f);\n    }\n    function bt(e, t) {\n      var n = 0;\n      var o = t.length > 0;\n      var a = e.length > 0;\n      var s = function(s, u, c, f, d) {\n        var h;\n        var g;\n        var m;\n        var y = [];\n        var v = 0;\n        var b = '0';\n        var x = s && [];\n        var w = d != null;\n        var T = l;\n        var C = s || (a && i.find.TAG('*', (d && u.parentNode) || u));\n        var k = (N += T == null ? 1 : Math.random() || 0.1);\n        for (w && ((l = u !== p && u), (r = n)); (h = C[b]) != null; b++) {\n          if (a && h) {\n            g = 0;\n            while ((m = e[g++])) {\n              if (m(h, u, c)) {\n                f.push(h);\n                break;\n              }\n            }\n            if (w) {\n              N = k;\n              r = ++n;\n            }\n          }\n          if (o) {\n            if ((h = !m && h)) {\n              v--;\n            }\n            if (s) {\n              x.push(h);\n            }\n          }\n        }\n        v += b;\n        if (o && b !== v) {\n          g = 0;\n          while ((m = t[g++])) {\n            m(x, y, u, c);\n          }\n          if (s) {\n            if (v > 0) {\n              while (b--) {\n                if (!x[b] && !y[b]) {\n                  y[b] = L.call(f);\n                }\n              }\n            }\n            y = mt(y);\n          }\n          H.apply(f, y);\n          if (w && !s && y.length > 0 && v + t.length > 1) {\n            st.uniqueSort(f);\n          }\n        }\n        if (w) {\n          N = k;\n          l = T;\n        }\n        return x;\n      };\n      if (o) {\n        return ot(s);\n      } else {\n        return s;\n      }\n    }\n    function xt(e, t, n) {\n      var r = 0;\n      var i = t.length;\n      return n;\n    }\n    function wt(e, t, n, r) {\n      var o;\n      var a;\n      var u;\n      var l;\n      var c;\n      var p = ft(e);\n      if (!r && p.length === 1) {\n        a = p[0] = p[0].slice(0);\n        if (\n          a.length > 2 &&\n          (u = a[0]).type === 'ID' &&\n          t.nodeType === 9 &&\n          !d &&\n          i.relative[a[1].type]\n        ) {\n          t = i.find.ID(u.matches[0].replace(et, tt), t)[0];\n          if (!t) {\n            return n;\n          }\n          e = e.slice(a.shift().value.length);\n        }\n        o = U.needsContext.test(e) ? 0 : a.length;\n        while (o--) {\n          u = a[o];\n          if (i.relative[(l = u.type)]) {\n            break;\n          }\n          if (\n            (c = i.find[l]) &&\n            (r = c(\n              u.matches[0].replace(et, tt),\n              (V.test(a[0].type) && t.parentNode) || t\n            ))\n          ) {\n            a.splice(o, 1);\n            e = r.length && dt(a);\n            if (!e) {\n              H.apply(n, q.call(r, 0));\n              return n;\n            }\n            break;\n          }\n        }\n      }\n      s(e, p)(r, t, d, n, V.test(e));\n      return n;\n    }\n    function Tt() {}\n    var n;\n    var r;\n    var u;\n    var l;\n    var p;\n    var f;\n    var d;\n    var h;\n    var g;\n    var m;\n    var y;\n    var v;\n    var x = 'sizzle' + -new Date();\n    var w = e.document;\n    var T = {};\n    var N = 0;\n    var C = 0;\n    var k = it();\n    var E = it();\n    var S = it();\n    var A = typeof t;\n    var j = 1 << 31;\n    var D = [];\n    var L = D.pop;\n    var H = D.push;\n    var q = D.slice;\n    var M =\n      D.indexOf ||\n      function(e) {\n        var t = 0;\n        var n = this.length;\n        return -1;\n      };\n    var _ = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]';\n    var F = '(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+';\n    var O = F.replace('w', 'w#');\n    var B = '([*^$|!~]?=)';\n    var P =\n      '\\\\[' +\n      _ +\n      '*(' +\n      F +\n      ')' +\n      _ +\n      '*(?:' +\n      B +\n      _ +\n      '*(?:([\\'\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\3|(' +\n      O +\n      ')|)|)' +\n      _ +\n      '*\\\\]';\n    var R =\n      ':(' +\n      F +\n      ')(?:\\\\((([\\'\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\3|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|' +\n      P.replace(3, 8) +\n      ')*)|.*)\\\\)|)';\n    var W = RegExp('^' + _ + '+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)' + _ + '+$', 'g');\n    var $ = RegExp('^' + _ + '*,' + _ + '*');\n    var I = RegExp('^' + _ + '*([\\\\x20\\\\t\\\\r\\\\n\\\\f>+~])' + _ + '*');\n    var z = RegExp(R);\n    var X = RegExp('^' + O + '$');\n    var U = {\n      ID: RegExp('^#(' + F + ')'),\n      CLASS: RegExp('^\\\\.(' + F + ')'),\n      NAME: RegExp('^\\\\[name=[\\'\"]?(' + F + ')[\\'\"]?\\\\]'),\n      TAG: RegExp('^(' + F.replace('w', 'w*') + ')'),\n      ATTR: RegExp('^' + P),\n      PSEUDO: RegExp('^' + R),\n      CHILD: RegExp(\n        '^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(' +\n          _ +\n          '*(even|odd|(([+-]|)(\\\\d*)n|)' +\n          _ +\n          '*(?:([+-]|)' +\n          _ +\n          '*(\\\\d+)|))' +\n          _ +\n          '*\\\\)|)',\n        'i'\n      ),\n      needsContext: RegExp(\n        '^' +\n          _ +\n          '*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(' +\n          _ +\n          '*((?:-\\\\d)?\\\\d*)' +\n          _ +\n          '*\\\\)|)(?=[^-]|$)',\n        'i'\n      ),\n    };\n    var V = /[\\x20\\t\\r\\n\\f]*[+~]/;\n    var Y = /^[^{]+\\{\\s*\\[native code/;\n    var J = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/;\n    var G = /^(?:input|select|textarea|button)$/i;\n    var Q = /^h\\d$/i;\n    var K = /'|\\\\/g;\n    var Z = /\\=[\\x20\\t\\r\\n\\f]*([^'\"\\]]*)[\\x20\\t\\r\\n\\f]*\\]/g;\n    var et = /\\\\([\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|.)/g;\n    var tt = function(e, t) {\n      var n = '0x' + t - 65536;\n      if (n === n) {\n        if (0 > n) {\n          return String.fromCharCode(n + 65536);\n        } else {\n          return String.fromCharCode(55296 | (n >> 10), 56320 | (1023 & n));\n        }\n      } else {\n        return t;\n      }\n    };\n    try {\n      q.call(w.documentElement.childNodes, 0)[0].nodeType;\n    } catch (nt) {\n      q = function(e) {\n        var t;\n        var n = [];\n        while ((t = this[e++])) {\n          n.push(t);\n        }\n        return n;\n      };\n    }\n    var a = (st.isXML = function(e) {\n      var t = e && (e.ownerDocument || e).documentElement;\n      if (t) {\n        return t.nodeName !== 'HTML';\n      } else {\n        return false;\n      }\n    });\n    c = st.setDocument = function(e) {\n      var n = e ? e.ownerDocument || e : w;\n      if (n !== p && n.nodeType === 9 && n.documentElement) {\n        p = n;\n        f = n.documentElement;\n        d = a(n);\n        T.tagNameNoComments = at(function(e) {\n          e.appendChild(n.createComment(''));\n          return !e.getElementsByTagName('*').length;\n        });\n        T.attributes = at(function(e) {\n          e.innerHTML = '<select></select>';\n          var t = typeof e.lastChild.getAttribute('multiple');\n          return t !== 'boolean' && t !== 'string';\n        });\n        T.getByClassName = at(function(e) {\n          e.innerHTML =\n            \"<div class='hidden e'></div><div class='hidden'></div>\";\n          if (\n            e.getElementsByClassName &&\n            e.getElementsByClassName('e').length\n          ) {\n            e.lastChild.className = 'e';\n            return e.getElementsByClassName('e').length === 2;\n          } else {\n            return false;\n          }\n        });\n        T.getByName = at(function(e) {\n          e.id = x + 0;\n          e.innerHTML = \"<a name='\" + x + \"'></a><div name='\" + x + \"'></div>\";\n          f.insertBefore(e, f.firstChild);\n          var t =\n            n.getElementsByName &&\n            n.getElementsByName(x).length ===\n              2 + n.getElementsByName(x + 0).length;\n          T.getIdNotName = !n.getElementById(x);\n          f.removeChild(e);\n          return t;\n        });\n        i.attrHandle = at(function(e) {\n          e.innerHTML = \"<a href='#'></a>\";\n          return (\n            e.firstChild &&\n            typeof e.firstChild.getAttribute !== A &&\n            e.firstChild.getAttribute('href') === '#'\n          );\n        })\n          ? {}\n          : {\n              href: function(e) {\n                return e.getAttribute('href', 2);\n              },\n              type: function(e) {\n                return e.getAttribute('type');\n              },\n            };\n        if (T.getIdNotName) {\n          i.find.ID = function(e, t) {\n            if (typeof t.getElementById !== A && !d) {\n              var n = t.getElementById(e);\n              if (n && n.parentNode) {\n                return [n];\n              } else {\n                return [];\n              }\n            }\n          };\n          i.filter.ID = function(e) {\n            var t = e.replace(et, tt);\n            return function(e) {\n              return e.getAttribute('id') === t;\n            };\n          };\n        } else {\n          i.find.ID = function(e, n) {\n            if (typeof n.getElementById !== A && !d) {\n              var r = n.getElementById(e);\n              if (r) {\n                if (\n                  r.id === e ||\n                  (typeof r.getAttributeNode !== A &&\n                    r.getAttributeNode('id').value === e)\n                ) {\n                  return [r];\n                } else {\n                  return t;\n                }\n              } else {\n                return [];\n              }\n            }\n          };\n          i.filter.ID = function(e) {\n            var t = e.replace(et, tt);\n            return function(e) {\n              var n =\n                typeof e.getAttributeNode !== A && e.getAttributeNode('id');\n              return n && n.value === t;\n            };\n          };\n        }\n        i.find.TAG = T.tagNameNoComments\n          ? function(e, n) {\n              if (typeof n.getElementsByTagName === A) {\n                return t;\n              } else {\n                return n.getElementsByTagName(e);\n              }\n            }\n          : function(e, t) {\n              var n;\n              var r = [];\n              var i = 0;\n              var o = t.getElementsByTagName(e);\n              if (e === '*') {\n                while ((n = o[i++])) {\n                  if (n.nodeType === 1) {\n                    r.push(n);\n                  }\n                }\n                return r;\n              }\n              return o;\n            };\n        i.find.NAME =\n          T.getByName &&\n          function(e, n) {\n            if (typeof n.getElementsByName === A) {\n              return t;\n            } else {\n              return n.getElementsByName(name);\n            }\n          };\n        i.find.CLASS =\n          T.getByClassName &&\n          function(e, n) {\n            if (typeof n.getElementsByClassName === A || d) {\n              return t;\n            } else {\n              return n.getElementsByClassName(e);\n            }\n          };\n        g = [];\n        h = [':focus'];\n        if ((T.qsa = rt(n.querySelectorAll))) {\n          at(function(e) {\n            e.innerHTML = \"<select><option selected=''></option></select>\";\n            if (!e.querySelectorAll('[selected]').length) {\n              h.push(\n                '\\\\[' +\n                  _ +\n                  '*(?:checked|disabled|ismap|multiple|readonly|selected|value)'\n              );\n            }\n            if (!e.querySelectorAll(':checked').length) {\n              h.push(':checked');\n            }\n          });\n          at(function(e) {\n            e.innerHTML = \"<input type='hidden' i=''/>\";\n            if (e.querySelectorAll(\"[i^='']\").length) {\n              h.push('[*^$]=' + _ + '*(?:\"\"|\\'\\')');\n            }\n            if (!e.querySelectorAll(':enabled').length) {\n              h.push(':enabled', ':disabled');\n            }\n            e.querySelectorAll('*,:x');\n            h.push(',.*:');\n          });\n        }\n        if (\n          (T.matchesSelector = rt(\n            (m =\n              f.matchesSelector ||\n              f.mozMatchesSelector ||\n              f.webkitMatchesSelector ||\n              f.oMatchesSelector ||\n              f.msMatchesSelector)\n          ))\n        ) {\n          at(function(e) {\n            T.disconnectedMatch = m.call(e, 'div');\n            m.call(e, \"[s!='']:x\");\n            g.push('!=', R);\n          });\n        }\n        h = RegExp(h.join('|'));\n        g = RegExp(g.join('|'));\n        y =\n          rt(f.contains) || f.compareDocumentPosition\n            ? function(e, t) {\n                var n = e.nodeType === 9 ? e.documentElement : e;\n                var r = t && t.parentNode;\n                return (\n                  e === r ||\n                  (!!r &&\n                    r.nodeType === 1 &&\n                    !!(n.contains\n                      ? n.contains(r)\n                      : e.compareDocumentPosition &&\n                        16 & e.compareDocumentPosition(r)))\n                );\n              }\n            : function(e, t) {\n                if (t) {\n                  while ((t = t.parentNode)) {\n                    if (t === e) {\n                      return true;\n                    }\n                  }\n                }\n                return false;\n              };\n        v = f.compareDocumentPosition\n          ? function(e, t) {\n              var r;\n              if (e === t) {\n                u = true;\n                return 0;\n              } else if (\n                (r =\n                  t.compareDocumentPosition &&\n                  e.compareDocumentPosition &&\n                  e.compareDocumentPosition(t))\n              ) {\n                if (1 & r || (e.parentNode && e.parentNode.nodeType === 11)) {\n                  if (e === n || y(w, e)) {\n                    return -1;\n                  } else if (t === n || y(w, t)) {\n                    return 1;\n                  } else {\n                    return 0;\n                  }\n                } else if (4 & r) {\n                  return -1;\n                } else {\n                  return 1;\n                }\n              } else if (e.compareDocumentPosition) {\n                return -1;\n              } else {\n                return 1;\n              }\n            }\n          : function(e, t) {\n              var i = 0;\n              var o = e.parentNode;\n              var a = t.parentNode;\n              var s = [e];\n              var l = [t];\n              if (e === t) {\n                u = true;\n                return 0;\n              }\n              if (!o || !a) {\n                if (e === n) {\n                  return -1;\n                } else if (t === n) {\n                  return 1;\n                } else if (o) {\n                  return -1;\n                } else if (a) {\n                  return 1;\n                } else {\n                  return 0;\n                }\n              }\n              if (o === a) {\n                return ut(e, t);\n              }\n              var r = e;\n              while ((r = r.parentNode)) {\n                s.unshift(r);\n              }\n              r = t;\n              while ((r = r.parentNode)) {\n                l.unshift(r);\n              }\n              while (s[i] === l[i]) {\n                i++;\n              }\n              if (i) {\n                return ut(s[i], l[i]);\n              } else if (s[i] === w) {\n                return -1;\n              } else if (l[i] === w) {\n                return 1;\n              } else {\n                return 0;\n              }\n            };\n        u = false;\n        [0, 0].sort(v);\n        T.detectDuplicates = u;\n        return p;\n      } else {\n        return p;\n      }\n    };\n    st.matches = function(e, t) {\n      return st(e, null, null, t);\n    };\n    st.matchesSelector = function(e, t) {\n      if ((e.ownerDocument || e) !== p) {\n        c(e);\n      }\n      t = t.replace(Z, \"='$1']\");\n      if (!!T.matchesSelector && !d && (!g || !g.test(t)) && !h.test(t)) {\n        try {\n          var n = m.call(e, t);\n          if (\n            n ||\n            T.disconnectedMatch ||\n            (e.document && e.document.nodeType !== 11)\n          ) {\n            return n;\n          }\n        } catch (r) {}\n      }\n      return st(t, p, null, [e]).length > 0;\n    };\n    st.contains = function(e, t) {\n      if ((e.ownerDocument || e) !== p) {\n        c(e);\n      }\n      return y(e, t);\n    };\n    st.attr = function(e, t) {\n      var n;\n      if ((e.ownerDocument || e) !== p) {\n        c(e);\n      }\n      if (!d) {\n        t = t.toLowerCase();\n      }\n      if ((n = i.attrHandle[t])) {\n        return n(e);\n      } else if (d || T.attributes) {\n        return e.getAttribute(t);\n      } else if (\n        ((n = e.getAttributeNode(t)) || e.getAttribute(t)) &&\n        e[t] === true\n      ) {\n        return t;\n      } else if (n && n.specified) {\n        return n.value;\n      } else {\n        return null;\n      }\n    };\n    st.error = function(e) {\n      throw Error('Syntax error, unrecognized expression: ' + e);\n    };\n    st.uniqueSort = function(e) {\n      var t;\n      var n = [];\n      var r = 1;\n      var i = 0;\n      u = !T.detectDuplicates;\n      e.sort(v);\n      if (u) {\n        while (i--) {\n          e.splice(n[i], 1);\n        }\n      }\n      return e;\n    };\n    var o = (st.getText = function(e) {\n      var t;\n      var n = '';\n      var r = 0;\n      var i = e.nodeType;\n      if (i) {\n        if (i === 1 || i === 9 || i === 11) {\n          if (typeof e.textContent == 'string') {\n            return e.textContent;\n          }\n          for (e = e.firstChild; e; e = e.nextSibling) {\n            n += o(e);\n          }\n        } else if (i === 3 || i === 4) {\n          return e.nodeValue;\n        }\n      }\n      return n;\n    });\n    var i = (st.selectors = {\n      cacheLength: 50,\n      createPseudo: ot,\n      match: U,\n      find: {},\n      relative: {\n        '>': { dir: 'parentNode', first: true },\n        ' ': { dir: 'parentNode' },\n        '+': { dir: 'previousSibling', first: true },\n        '~': { dir: 'previousSibling' },\n      },\n      preFilter: {\n        ATTR: function(e) {\n          e[1] = e[1].replace(et, tt);\n          e[3] = (e[4] || e[5] || '').replace(et, tt);\n          if (e[2] === '~=') {\n            e[3] = ' ' + e[3] + ' ';\n          }\n          return e.slice(0, 4);\n        },\n        CHILD: function(e) {\n          e[1] = e[1].toLowerCase();\n          if (e[1].slice(0, 3) === 'nth') {\n            if (!e[3]) {\n              st.error(e[0]);\n            }\n            e[4] = +(e[4]\n              ? e[5] + (e[6] || 1)\n              : 2 * (e[3] === 'even' || e[3] === 'odd'));\n            e[5] = +(e[7] + e[8] || e[3] === 'odd');\n          } else if (e[3]) {\n            st.error(e[0]);\n          }\n          return e;\n        },\n        PSEUDO: function(e) {\n          var t;\n          var n = !e[5] && e[2];\n          if (U.CHILD.test(e[0])) {\n            return null;\n          } else {\n            if (e[4]) {\n              e[2] = e[4];\n            } else if (\n              n &&\n              z.test(n) &&\n              (t = ft(n, true)) &&\n              (t = n.indexOf(')', n.length - t) - n.length)\n            ) {\n              e[0] = e[0].slice(0, t);\n              e[2] = n.slice(0, t);\n            }\n            return e.slice(0, 3);\n          }\n        },\n      },\n      filter: {\n        TAG: function(e) {\n          if (e === '*') {\n            return function() {\n              return true;\n            };\n          } else {\n            e = e.replace(et, tt).toLowerCase();\n            return function(t) {\n              return t.nodeName && t.nodeName.toLowerCase() === e;\n            };\n          }\n        },\n        CLASS: function(e) {\n          var t = k[e + ' '];\n          return (\n            t ||\n            ((t = RegExp('(^|' + _ + ')' + e + '(' + _ + '|$)')) &&\n              k(e, function(e) {\n                return t.test(\n                  e.className ||\n                    (typeof e.getAttribute !== A && e.getAttribute('class')) ||\n                    ''\n                );\n              }))\n          );\n        },\n        ATTR: function(e, t, n) {\n          return function(r) {\n            var i = st.attr(r, e);\n            if (i == null) {\n              return t === '!=';\n            } else if (t) {\n              i += '';\n              if (t === '=') {\n                return i === n;\n              } else if (t === '!=') {\n                return i !== n;\n              } else if (t === '^=') {\n                return n && i.indexOf(n) === 0;\n              } else if (t === '*=') {\n                return n && i.indexOf(n) > -1;\n              } else if (t === '$=') {\n                return n && i.slice(-n.length) === n;\n              } else if (t === '~=') {\n                return (' ' + i + ' ').indexOf(n) > -1;\n              } else if (t === '|=') {\n                return i === n || i.slice(0, n.length + 1) === n + '-';\n              } else {\n                return false;\n              }\n            } else {\n              return true;\n            }\n          };\n        },\n        CHILD: function(e, t, n, r, i) {\n          var o = e.slice(0, 3) !== 'nth';\n          var a = e.slice(-4) !== 'last';\n          var s = t === 'of-type';\n          if (r === 1 && i === 0) {\n            return function(e) {\n              return !!e.parentNode;\n            };\n          } else {\n            return function(t, n, u) {\n              var l;\n              var c;\n              var p;\n              var f;\n              var d;\n              var h;\n              var g = o !== a ? 'nextSibling' : 'previousSibling';\n              var m = t.parentNode;\n              var y = s && t.nodeName.toLowerCase();\n              var v = !u && !s;\n              if (m) {\n                if (o) {\n                  while (g) {\n                    p = t;\n                    while ((p = p[g])) {\n                      if (\n                        s ? p.nodeName.toLowerCase() === y : p.nodeType === 1\n                      ) {\n                        return false;\n                      }\n                    }\n                    h = g = e === 'only' && !h && 'nextSibling';\n                  }\n                  return true;\n                }\n                h = [a ? m.firstChild : m.lastChild];\n                if (a && v) {\n                  c = m[x] || (m[x] = {});\n                  l = c[e] || [];\n                  d = l[0] === N && l[1];\n                  f = l[0] === N && l[2];\n                  p = d && m.childNodes[d];\n                  while ((p = (++d && p && p[g]) || (f = d = 0) || h.pop())) {\n                    if (p.nodeType === 1 && ++f && p === t) {\n                      c[e] = [N, d, f];\n                      break;\n                    }\n                  }\n                } else if (v && (l = (t[x] || (t[x] = {}))[e]) && l[0] === N) {\n                  f = l[1];\n                } else {\n                  while ((p = (++d && p && p[g]) || (f = d = 0) || h.pop())) {\n                    if (\n                      (s ? p.nodeName.toLowerCase() === y : p.nodeType === 1) &&\n                      ++f &&\n                      (v && ((p[x] || (p[x] = {}))[e] = [N, f]), p === t)\n                    ) {\n                      break;\n                    }\n                  }\n                }\n                f -= i;\n                return f === r || (f % r === 0 && f / r >= 0);\n              }\n            };\n          }\n        },\n        PSEUDO: function(e, t) {\n          var n;\n          var r =\n            i.pseudos[e] ||\n            i.setFilters[e.toLowerCase()] ||\n            st.error('unsupported pseudo: ' + e);\n          if (r[x]) {\n            return r(t);\n          } else if (r.length > 1) {\n            n = [e, e, '', t];\n            if (i.setFilters.hasOwnProperty(e.toLowerCase())) {\n              return ot(function(e, n) {\n                var i;\n                var o = r(e, t);\n                var a = o.length;\n                while (a--) {\n                  i = M.call(e, o[a]);\n                  e[i] = !(n[i] = o[a]);\n                }\n              });\n            } else {\n              return function(e) {\n                return r(e, 0, n);\n              };\n            }\n          } else {\n            return r;\n          }\n        },\n      },\n      pseudos: {\n        not: ot(function(e) {\n          var t = [];\n          var n = [];\n          var r = s(e.replace(W, '$1'));\n          if (r[x]) {\n            return ot(function(e, t, n, i) {\n              var o;\n              var a = r(e, null, i, []);\n              var s = e.length;\n              while (s--) {\n                if ((o = a[s])) {\n                  e[s] = !(t[s] = o);\n                }\n              }\n            });\n          } else {\n            return function(e, i, o) {\n              t[0] = e;\n              r(t, null, o, n);\n              return !n.pop();\n            };\n          }\n        }),\n        has: ot(function(e) {\n          return function(t) {\n            return st(e, t).length > 0;\n          };\n        }),\n        contains: ot(function(e) {\n          return function(t) {\n            return (t.textContent || t.innerText || o(t)).indexOf(e) > -1;\n          };\n        }),\n        lang: ot(function(e) {\n          if (!X.test(e || '')) {\n            st.error('unsupported lang: ' + e);\n          }\n          e = e.replace(et, tt).toLowerCase();\n          return function(t) {\n            var n;\n            do {\n              if (\n                (n = d\n                  ? t.getAttribute('xml:lang') || t.getAttribute('lang')\n                  : t.lang)\n              ) {\n                n = n.toLowerCase();\n                return n === e || n.indexOf(e + '-') === 0;\n              }\n            } while ((t = t.parentNode) && t.nodeType === 1);\n            return false;\n          };\n        }),\n        target: function(t) {\n          var n = e.location && e.location.hash;\n          return n && n.slice(1) === t.id;\n        },\n        root: function(e) {\n          return e === f;\n        },\n        focus: function(e) {\n          return (\n            e === p.activeElement &&\n            (!p.hasFocus || p.hasFocus()) &&\n            (!!e.type || !!e.href || !!~e.tabIndex)\n          );\n        },\n        enabled: function(e) {\n          return e.disabled === false;\n        },\n        disabled: function(e) {\n          return e.disabled === true;\n        },\n        checked: function(e) {\n          var t = e.nodeName.toLowerCase();\n          return (\n            (t === 'input' && !!e.checked) || (t === 'option' && !!e.selected)\n          );\n        },\n        selected: function(e) {\n          if (e.parentNode) {\n            e.parentNode.selectedIndex;\n          }\n          return e.selected === true;\n        },\n        empty: function(e) {\n          for (e = e.firstChild; e; e = e.nextSibling) {\n            if (e.nodeName > '@' || e.nodeType === 3 || e.nodeType === 4) {\n              return false;\n            }\n          }\n          return true;\n        },\n        parent: function(e) {\n          return !i.pseudos.empty(e);\n        },\n        header: function(e) {\n          return Q.test(e.nodeName);\n        },\n        input: function(e) {\n          return G.test(e.nodeName);\n        },\n        button: function(e) {\n          var t = e.nodeName.toLowerCase();\n          return (t === 'input' && e.type === 'button') || t === 'button';\n        },\n        text: function(e) {\n          var t;\n          return (\n            e.nodeName.toLowerCase() === 'input' &&\n            e.type === 'text' &&\n            ((t = e.getAttribute('type')) == null || t.toLowerCase() === e.type)\n          );\n        },\n        first: pt(function() {\n          return [0];\n        }),\n        last: pt(function(e, t) {\n          return [t - 1];\n        }),\n        eq: pt(function(e, t, n) {\n          return [0 > n ? n + t : n];\n        }),\n        even: pt(function(e, t) {\n          var n = 0;\n          return e;\n        }),\n        odd: pt(function(e, t) {\n          var n = 1;\n          return e;\n        }),\n        lt: pt(function(e, t, n) {\n          var r = 0 > n ? n + t : n;\n          while (--r >= 0) {\n            e.push(r);\n          }\n          return e;\n        }),\n        gt: pt(function(e, t, n) {\n          var r = 0 > n ? n + t : n;\n          while (t > ++r) {\n            e.push(r);\n          }\n          return e;\n        }),\n      },\n    });\n    for (n in {\n      radio: true,\n      checkbox: true,\n      file: true,\n      password: true,\n      image: true,\n    }) {\n      i.pseudos[n] = lt(n);\n    }\n    for (n in { submit: true, reset: true }) {\n      i.pseudos[n] = ct(n);\n    }\n    var s = (st.compile = function(e, t) {\n      var n;\n      var r = [];\n      var i = [];\n      var o = S[e + ' '];\n      if (!o) {\n        if (!t) {\n          t = ft(e);\n        }\n        n = t.length;\n        while (n--) {\n          o = vt(t[n]);\n          if (o[x]) {\n            r.push(o);\n          } else {\n            i.push(o);\n          }\n        }\n        o = S(e, bt(i, r));\n      }\n      return o;\n    });\n    i.pseudos.nth = i.pseudos.eq;\n    i.filters = Tt.prototype = i.pseudos;\n    i.setFilters = new Tt();\n    c();\n    st.attr = b.attr;\n    b.find = st;\n    b.expr = st.selectors;\n    b.expr[':'] = b.expr.pseudos;\n    b.unique = st.uniqueSort;\n    b.text = st.getText;\n    b.isXMLDoc = st.isXML;\n    b.contains = st.contains;\n  })(e);\n  var at = /Until$/;\n  var st = /^(?:parents|prev(?:Until|All))/;\n  var ut = /^.[^:#\\[\\.,]*$/;\n  var lt = b.expr.match.needsContext;\n  var ct = { children: true, contents: true, next: true, prev: true };\n  b.fn.extend({\n    find: function(e) {\n      var t;\n      var r;\n      var i = this.length;\n      if (typeof e != 'string') {\n        r = this;\n        return this.pushStack(\n          b(e).filter(function() {\n            for (t = 0; i > t; t++) {\n              if (b.contains(r[t], this)) {\n                return true;\n              }\n            }\n          })\n        );\n      }\n      var n = [];\n      for (t = 0; i > t; t++) {\n        b.find(e, this[t], n);\n      }\n      n = this.pushStack(i > 1 ? b.unique(n) : n);\n      n.selector = (this.selector ? this.selector + ' ' : '') + e;\n      return n;\n    },\n    has: function(e) {\n      var t;\n      var n = b(e, this);\n      var r = n.length;\n      return this.filter(function() {\n        for (t = 0; r > t; t++) {\n          if (b.contains(this, n[t])) {\n            return true;\n          }\n        }\n      });\n    },\n    not: function(e) {\n      return this.pushStack(ft(this, e, false));\n    },\n    filter: function(e) {\n      return this.pushStack(ft(this, e, true));\n    },\n    is: function(e) {\n      return (\n        !!e &&\n        (typeof e == 'string'\n          ? lt.test(e)\n            ? b(e, this.context).index(this[0]) >= 0\n            : b.filter(e, this).length > 0\n          : this.filter(e).length > 0)\n      );\n    },\n    closest: function(e, t) {\n      var n;\n      var r = 0;\n      var i = this.length;\n      var o = [];\n      var a = lt.test(e) || typeof e != 'string' ? b(e, t || this.context) : 0;\n      return this.pushStack(o.length > 1 ? b.unique(o) : o);\n    },\n    index: function(e) {\n      if (e) {\n        if (typeof e == 'string') {\n          return b.inArray(this[0], b(e));\n        } else {\n          return b.inArray(e.jquery ? e[0] : e, this);\n        }\n      } else if (this[0] && this[0].parentNode) {\n        return this.first().prevAll().length;\n      } else {\n        return -1;\n      }\n    },\n    add: function(e, t) {\n      var n =\n        typeof e == 'string' ? b(e, t) : b.makeArray(e && e.nodeType ? [e] : e);\n      var r = b.merge(this.get(), n);\n      return this.pushStack(b.unique(r));\n    },\n    addBack: function(e) {\n      return this.add(e == null ? this.prevObject : this.prevObject.filter(e));\n    },\n  });\n  b.fn.andSelf = b.fn.addBack;\n  b.each(\n    {\n      parent: function(e) {\n        var t = e.parentNode;\n        if (t && t.nodeType !== 11) {\n          return t;\n        } else {\n          return null;\n        }\n      },\n      parents: function(e) {\n        return b.dir(e, 'parentNode');\n      },\n      parentsUntil: function(e, t, n) {\n        return b.dir(e, 'parentNode', n);\n      },\n      next: function(e) {\n        return pt(e, 'nextSibling');\n      },\n      prev: function(e) {\n        return pt(e, 'previousSibling');\n      },\n      nextAll: function(e) {\n        return b.dir(e, 'nextSibling');\n      },\n      prevAll: function(e) {\n        return b.dir(e, 'previousSibling');\n      },\n      nextUntil: function(e, t, n) {\n        return b.dir(e, 'nextSibling', n);\n      },\n      prevUntil: function(e, t, n) {\n        return b.dir(e, 'previousSibling', n);\n      },\n      siblings: function(e) {\n        return b.sibling((e.parentNode || {}).firstChild, e);\n      },\n      children: function(e) {\n        return b.sibling(e.firstChild);\n      },\n      contents: function(e) {\n        if (b.nodeName(e, 'iframe')) {\n          return e.contentDocument || e.contentWindow.document;\n        } else {\n          return b.merge([], e.childNodes);\n        }\n      },\n    },\n    function(e, t) {\n      b.fn[e] = function(n, r) {\n        var i = b.map(this, t, n);\n        if (!at.test(e)) {\n          r = n;\n        }\n        if (r && typeof r == 'string') {\n          i = b.filter(r, i);\n        }\n        i = this.length > 1 && !ct[e] ? b.unique(i) : i;\n        if (this.length > 1 && st.test(e)) {\n          i = i.reverse();\n        }\n        return this.pushStack(i);\n      };\n    }\n  );\n  b.extend({\n    filter: function(e, t, n) {\n      if (n) {\n        e = ':not(' + e + ')';\n      }\n      if (t.length === 1) {\n        if (b.find.matchesSelector(t[0], e)) {\n          return [t[0]];\n        } else {\n          return [];\n        }\n      } else {\n        return b.find.matches(e, t);\n      }\n    },\n    dir: function(e, n, r) {\n      var i = [];\n      var o = e[n];\n      while (\n        o &&\n        o.nodeType !== 9 &&\n        (r === t || o.nodeType !== 1 || !b(o).is(r))\n      ) {\n        if (o.nodeType === 1) {\n          i.push(o);\n        }\n        o = o[n];\n      }\n      return i;\n    },\n    sibling: function(e, t) {\n      var n = [];\n      return n;\n    },\n  });\n  var ht =\n    'abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video';\n  var gt = / jQuery\\d+=\"(?:null|\\d+)\"/g;\n  var mt = RegExp('<(?:' + ht + ')[\\\\s/>]', 'i');\n  var yt = /^\\s+/;\n  var vt = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi;\n  var bt = /<([\\w:]+)/;\n  var xt = /<tbody/i;\n  var wt = /<|&#?\\w+;/;\n  var Tt = /<(?:script|style|link)/i;\n  var Nt = /^(?:checkbox|radio)$/i;\n  var Ct = /checked\\s*(?:[^=]|=\\s*.checked.)/i;\n  var kt = /^$|\\/(?:java|ecma)script/i;\n  var Et = /^true\\/(.*)/;\n  var St = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;\n  var At = {\n    option: [1, \"<select multiple='multiple'>\", '</select>'],\n    legend: [1, '<fieldset>', '</fieldset>'],\n    area: [1, '<map>', '</map>'],\n    param: [1, '<object>', '</object>'],\n    thead: [1, '<table>', '</table>'],\n    tr: [2, '<table><tbody>', '</tbody></table>'],\n    col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n    td: [3, '<table><tbody><tr>', '</tr></tbody></table>'],\n    _default: b.support.htmlSerialize ? [0, '', ''] : [1, 'X<div>', '</div>'],\n  };\n  var jt = dt(o);\n  var Dt = jt.appendChild(o.createElement('div'));\n  At.optgroup = At.option;\n  At.tbody = At.tfoot = At.colgroup = At.caption = At.thead;\n  At.th = At.td;\n  b.fn.extend({\n    text: function(e) {\n      return b.access(\n        this,\n        function(e) {\n          if (e === t) {\n            return b.text(this);\n          } else {\n            return this.empty().append(\n              ((this[0] && this[0].ownerDocument) || o).createTextNode(e)\n            );\n          }\n        },\n        null,\n        e,\n        arguments.length\n      );\n    },\n    wrapAll: function(e) {\n      if (b.isFunction(e)) {\n        return this.each(function(t) {\n          b(this).wrapAll(e.call(this, t));\n        });\n      }\n      if (this[0]) {\n        var t = b(e, this[0].ownerDocument)\n          .eq(0)\n          .clone(true);\n        if (this[0].parentNode) {\n          t.insertBefore(this[0]);\n        }\n        t\n          .map(function() {\n            var e = this;\n            while (e.firstChild && e.firstChild.nodeType === 1) {\n              e = e.firstChild;\n            }\n            return e;\n          })\n          .append(this);\n      }\n      return this;\n    },\n    wrapInner: function(e) {\n      if (b.isFunction(e)) {\n        return this.each(function(t) {\n          b(this).wrapInner(e.call(this, t));\n        });\n      } else {\n        return this.each(function() {\n          var t = b(this);\n          var n = t.contents();\n          if (n.length) {\n            n.wrapAll(e);\n          } else {\n            t.append(e);\n          }\n        });\n      }\n    },\n    wrap: function(e) {\n      var t = b.isFunction(e);\n      return this.each(function(n) {\n        b(this).wrapAll(t ? e.call(this, n) : e);\n      });\n    },\n    unwrap: function() {\n      return this.parent()\n        .each(function() {\n          if (!b.nodeName(this, 'body')) {\n            b(this).replaceWith(this.childNodes);\n          }\n        })\n        .end();\n    },\n    append: function() {\n      return this.domManip(arguments, true, function(e) {\n        if (\n          this.nodeType === 1 ||\n          this.nodeType === 11 ||\n          this.nodeType === 9\n        ) {\n          this.appendChild(e);\n        }\n      });\n    },\n    prepend: function() {\n      return this.domManip(arguments, true, function(e) {\n        if (\n          this.nodeType === 1 ||\n          this.nodeType === 11 ||\n          this.nodeType === 9\n        ) {\n          this.insertBefore(e, this.firstChild);\n        }\n      });\n    },\n    before: function() {\n      return this.domManip(arguments, false, function(e) {\n        if (this.parentNode) {\n          this.parentNode.insertBefore(e, this);\n        }\n      });\n    },\n    after: function() {\n      return this.domManip(arguments, false, function(e) {\n        if (this.parentNode) {\n          this.parentNode.insertBefore(e, this.nextSibling);\n        }\n      });\n    },\n    remove: function(e, t) {\n      var n;\n      var r = 0;\n      return this;\n    },\n    empty: function() {\n      var e;\n      var t = 0;\n      return this;\n    },\n    clone: function(e, t) {\n      e = e == null ? false : e;\n      t = t == null ? e : t;\n      return this.map(function() {\n        return b.clone(this, e, t);\n      });\n    },\n    html: function(e) {\n      return b.access(\n        this,\n        function(e) {\n          var n = this[0] || {};\n          var r = 0;\n          var i = this.length;\n          if (e === t) {\n            if (n.nodeType === 1) {\n              return n.innerHTML.replace(gt, '');\n            } else {\n              return t;\n            }\n          }\n          if (\n            typeof e == 'string' &&\n            !Tt.test(e) &&\n            (!!b.support.htmlSerialize || !mt.test(e)) &&\n            (!!b.support.leadingWhitespace || !yt.test(e)) &&\n            !At[(bt.exec(e) || ['', ''])[1].toLowerCase()]\n          ) {\n            e = e.replace(vt, '<$1></$2>');\n            try {\n              n = 0;\n            } catch (o) {}\n          }\n          if (n) {\n            this.empty().append(e);\n          }\n        },\n        null,\n        e,\n        arguments.length\n      );\n    },\n    replaceWith: function(e) {\n      var t = b.isFunction(e);\n      if (!t && typeof e != 'string') {\n        e = b(e)\n          .not(this)\n          .detach();\n      }\n      return this.domManip([e], true, function(e) {\n        var t = this.nextSibling;\n        var n = this.parentNode;\n        if (n) {\n          b(this).remove();\n          n.insertBefore(e, t);\n        }\n      });\n    },\n    detach: function(e) {\n      return this.remove(e, true);\n    },\n    domManip: function(e, n, r) {\n      e = f.apply([], e);\n      var i;\n      var o;\n      var a;\n      var s;\n      var u;\n      var l;\n      var c = 0;\n      var p = this.length;\n      var d = this;\n      var h = p - 1;\n      var g = e[0];\n      var m = b.isFunction(g);\n      if (\n        m ||\n        (!(1 >= p) &&\n          typeof g == 'string' &&\n          !b.support.checkClone &&\n          Ct.test(g))\n      ) {\n        return this.each(function(i) {\n          var o = d.eq(i);\n          if (m) {\n            e[0] = g.call(this, i, n ? o.html() : t);\n          }\n          o.domManip(e, n, r);\n        });\n      }\n      if (\n        p &&\n        ((l = b.buildFragment(e, this[0].ownerDocument, false, this)),\n        (i = l.firstChild),\n        l.childNodes.length === 1 && (l = i),\n        i)\n      ) {\n        n = n && b.nodeName(i, 'tr');\n        s = b.map(Ot(l, 'script'), Ht);\n        for (a = s.length; p > c; c++) {\n          o = l;\n          if (c !== h) {\n            o = b.clone(o, true, true);\n            if (a) {\n              b.merge(s, Ot(o, 'script'));\n            }\n          }\n          r.call(\n            n && b.nodeName(this[c], 'table') ? Lt(this[c], 'tbody') : this[c],\n            o,\n            c\n          );\n        }\n        if (a) {\n          u = s[s.length - 1].ownerDocument;\n          b.map(s, qt);\n          for (c = 0; a > c; c++) {\n            o = s[c];\n            if (\n              kt.test(o.type || '') &&\n              !b._data(o, 'globalEval') &&\n              b.contains(u, o)\n            ) {\n              if (o.src) {\n                b.ajax({\n                  url: o.src,\n                  type: 'GET',\n                  dataType: 'script',\n                  async: false,\n                  global: false,\n                  throws: true,\n                });\n              } else {\n                b.globalEval(\n                  (o.text || o.textContent || o.innerHTML || '').replace(St, '')\n                );\n              }\n            }\n          }\n        }\n        l = i = null;\n      }\n      return this;\n    },\n  });\n  b.each(\n    {\n      appendTo: 'append',\n      prependTo: 'prepend',\n      insertBefore: 'before',\n      insertAfter: 'after',\n      replaceAll: 'replaceWith',\n    },\n    function(e, t) {\n      b.fn[e] = function(e) {\n        var n;\n        var r = 0;\n        var i = [];\n        var o = b(e);\n        var a = o.length - 1;\n        return this.pushStack(i);\n      };\n    }\n  );\n  b.extend({\n    clone: function(e, t, n) {\n      var i;\n      var o;\n      var a;\n      var s;\n      var u = b.contains(e.ownerDocument, e);\n      if (\n        b.support.html5Clone ||\n        b.isXMLDoc(e) ||\n        !mt.test('<' + e.nodeName + '>')\n      ) {\n        o = e.cloneNode(true);\n      } else {\n        Dt.innerHTML = e.outerHTML;\n        Dt.removeChild((o = Dt.firstChild));\n      }\n      if (\n        (!b.support.noCloneEvent || !b.support.noCloneChecked) &&\n        (e.nodeType === 1 || e.nodeType === 11) &&\n        !b.isXMLDoc(e)\n      ) {\n        r = Ot(o);\n        s = Ot(e);\n        for (a = 0; (i = s[a]) != null; ++a) {\n          if (r[a]) {\n            Ft(i, r[a]);\n          }\n        }\n      }\n      if (t) {\n        if (n) {\n          s = s || Ot(e);\n          r = r || Ot(o);\n          for (a = 0; (i = s[a]) != null; a++) {\n            _t(i, r[a]);\n          }\n        } else {\n          _t(e, o);\n        }\n      }\n      var r = Ot(o, 'script');\n      if (r.length > 0) {\n        Mt(r, !u && Ot(e, 'script'));\n      }\n      r = s = i = null;\n      return o;\n    },\n    buildFragment: function(e, t, n, r) {\n      var i;\n      var o;\n      var a;\n      var u;\n      var l;\n      var c;\n      var p = e.length;\n      var f = dt(t);\n      var d = [];\n      var h = 0;\n      if (s) {\n        f.removeChild(s);\n      }\n      if (!b.support.appendChecked) {\n        b.grep(Ot(d, 'input'), Bt);\n      }\n      h = 0;\n      while ((o = d[h++])) {\n        if (\n          (!r || b.inArray(o, r) === -1) &&\n          ((a = b.contains(o.ownerDocument, o)),\n          (s = Ot(f.appendChild(o), 'script')),\n          a && Mt(s),\n          n)\n        ) {\n          i = 0;\n          while ((o = s[i++])) {\n            if (kt.test(o.type || '')) {\n              n.push(o);\n            }\n          }\n        }\n      }\n      var s = null;\n      return f;\n    },\n    cleanData: function(e, t) {\n      var n;\n      var r;\n      var o;\n      var a;\n      var s = 0;\n      var u = b.expando;\n      var l = b.cache;\n      var p = b.support.deleteExpando;\n      var f = b.event.special;\n    },\n  });\n  var Pt;\n  var Rt;\n  var Wt;\n  var $t = /alpha\\([^)]*\\)/i;\n  var It = /opacity\\s*=\\s*([^)]*)/;\n  var zt = /^(top|right|bottom|left)$/;\n  var Xt = /^(none|table(?!-c[ea]).+)/;\n  var Ut = /^margin/;\n  var Vt = RegExp('^(' + x + ')(.*)$', 'i');\n  var Yt = RegExp('^(' + x + ')(?!px)[a-z%]+$', 'i');\n  var Jt = RegExp('^([+-])=(' + x + ')', 'i');\n  var Gt = { BODY: 'block' };\n  var Qt = { position: 'absolute', visibility: 'hidden', display: 'block' };\n  var Kt = { letterSpacing: 0, fontWeight: 400 };\n  var Zt = ['Top', 'Right', 'Bottom', 'Left'];\n  var en = ['Webkit', 'O', 'Moz', 'ms'];\n  b.fn.extend({\n    css: function(e, n) {\n      return b.access(\n        this,\n        function(e, n, r) {\n          var i;\n          var o;\n          var a = {};\n          var s = 0;\n          if (b.isArray(n)) {\n            o = Rt(e);\n            for (i = n.length; i > s; s++) {\n              a[n[s]] = b.css(e, n[s], false, o);\n            }\n            return a;\n          }\n          if (r === t) {\n            return b.css(e, n);\n          } else {\n            return b.style(e, n, r);\n          }\n        },\n        e,\n        n,\n        arguments.length > 1\n      );\n    },\n    show: function() {\n      return rn(this, true);\n    },\n    hide: function() {\n      return rn(this);\n    },\n    toggle: function(e) {\n      var t = typeof e == 'boolean';\n      return this.each(function() {\n        if (t ? e : nn(this)) {\n          b(this).show();\n        } else {\n          b(this).hide();\n        }\n      });\n    },\n  });\n  b.extend({\n    cssHooks: {\n      opacity: {\n        get: function(e, t) {\n          if (t) {\n            var n = Wt(e, 'opacity');\n            if (n === '') {\n              return '1';\n            } else {\n              return n;\n            }\n          }\n        },\n      },\n    },\n    cssNumber: {\n      columnCount: true,\n      fillOpacity: true,\n      fontWeight: true,\n      lineHeight: true,\n      opacity: true,\n      orphans: true,\n      widows: true,\n      zIndex: true,\n      zoom: true,\n    },\n    cssProps: { float: b.support.cssFloat ? 'cssFloat' : 'styleFloat' },\n    style: function(e, n, r, i) {\n      if (e && e.nodeType !== 3 && e.nodeType !== 8 && e.style) {\n        var o;\n        var a;\n        var s;\n        var u = b.camelCase(n);\n        var l = e.style;\n        n = b.cssProps[u] || (b.cssProps[u] = tn(l, u));\n        s = b.cssHooks[n] || b.cssHooks[u];\n        if (r === t) {\n          if (s && 'get' in s && (o = s.get(e, false, i)) !== t) {\n            return o;\n          } else {\n            return l[n];\n          }\n        }\n        a = typeof r;\n        if (a === 'string' && (o = Jt.exec(r))) {\n          r = (o[1] + 1) * o[2] + parseFloat(b.css(e, n));\n          a = 'number';\n        }\n        if (\n          r != null &&\n          (a !== 'number' || !isNaN(r)) &&\n          !(a !== 'number' || b.cssNumber[u] || (r += 'px'),\n          b.support.clearCloneStyle ||\n            r !== '' ||\n            n.indexOf('background') !== 0 ||\n            (l[n] = 'inherit'),\n          s && 'set' in s && (r = s.set(e, r, i)) === t)\n        ) {\n          try {\n            l[n] = r;\n          } catch (c) {}\n        }\n      }\n    },\n    css: function(e, n, r, i) {\n      var o;\n      var a;\n      var u = b.camelCase(n);\n      n = b.cssProps[u] || (b.cssProps[u] = tn(e.style, u));\n      var s = b.cssHooks[n] || b.cssHooks[u];\n      if (s && 'get' in s) {\n        a = s.get(e, true, r);\n      }\n      if (a === t) {\n        a = Wt(e, n, i);\n      }\n      if (a === 'normal' && n in Kt) {\n        a = Kt[n];\n      }\n      if (r === '' || r) {\n        o = parseFloat(a);\n        if (r === true || b.isNumeric(o)) {\n          return o || 0;\n        } else {\n          return a;\n        }\n      } else {\n        return a;\n      }\n    },\n    swap: function(e, t, n, r) {\n      var o;\n      var a = {};\n      for (o in t) {\n        a[o] = e.style[o];\n        e.style[o] = t[o];\n      }\n      var i = n.apply(e, r || []);\n      for (o in t) {\n        e.style[o] = a[o];\n      }\n      return i;\n    },\n  });\n  if (e.getComputedStyle) {\n    Rt = function(t) {\n      return e.getComputedStyle(t, null);\n    };\n    Wt = function(e, n, r) {\n      var i;\n      var o;\n      var a;\n      var s = r || Rt(e);\n      var u = s ? s.getPropertyValue(n) || s[n] : t;\n      var l = e.style;\n      if (s) {\n        if (u === '' && !b.contains(e.ownerDocument, e)) {\n          u = b.style(e, n);\n        }\n        if (Yt.test(u) && Ut.test(n)) {\n          i = l.width;\n          o = l.minWidth;\n          a = l.maxWidth;\n          l.minWidth = l.maxWidth = l.width = u;\n          u = s.width;\n          l.width = i;\n          l.minWidth = o;\n          l.maxWidth = a;\n        }\n      }\n      return u;\n    };\n  } else if (o.documentElement.currentStyle) {\n    Rt = function(e) {\n      return e.currentStyle;\n    };\n    Wt = function(e, n, r) {\n      var i;\n      var o;\n      var a;\n      var s = r || Rt(e);\n      var u = s ? s[n] : t;\n      var l = e.style;\n      if (u == null && l && l[n]) {\n        u = l[n];\n      }\n      if (Yt.test(u) && !zt.test(n)) {\n        i = l.left;\n        o = e.runtimeStyle;\n        a = o && o.left;\n        if (a) {\n          o.left = e.currentStyle.left;\n        }\n        l.left = n === 'fontSize' ? '1em' : u;\n        u = l.pixelLeft + 'px';\n        l.left = i;\n        if (a) {\n          o.left = a;\n        }\n      }\n      if (u === '') {\n        return 'auto';\n      } else {\n        return u;\n      }\n    };\n  }\n  b.each(['height', 'width'], function(e, n) {\n    b.cssHooks[n] = {\n      get: function(e, r, i) {\n        if (r) {\n          if (e.offsetWidth === 0 && Xt.test(b.css(e, 'display'))) {\n            return b.swap(e, Qt, function() {\n              return sn(e, n, i);\n            });\n          } else {\n            return sn(e, n, i);\n          }\n        } else {\n          return t;\n        }\n      },\n      set: function(e, t, r) {\n        var i = r && Rt(e);\n        return on(\n          e,\n          t,\n          r\n            ? an(\n                e,\n                n,\n                r,\n                b.support.boxSizing &&\n                  b.css(e, 'boxSizing', false, i) === 'border-box',\n                i\n              )\n            : 0\n        );\n      },\n    };\n  });\n  if (!b.support.opacity) {\n    b.cssHooks.opacity = {\n      get: function(e, t) {\n        if (\n          It.test(\n            (t && e.currentStyle ? e.currentStyle.filter : e.style.filter) || ''\n          )\n        ) {\n          return 0.01 * parseFloat(RegExp.$1) + '';\n        } else if (t) {\n          return '1';\n        } else {\n          return '';\n        }\n      },\n      set: function(e, t) {\n        var n = e.style;\n        var r = e.currentStyle;\n        var i = b.isNumeric(t) ? 'alpha(opacity=' + 100 * t + ')' : '';\n        var o = (r && r.filter) || n.filter || '';\n        n.zoom = 1;\n        if (\n          (!(t >= 1) && t !== '') ||\n          b.trim(o.replace($t, '')) !== '' ||\n          !n.removeAttribute ||\n          !(n.removeAttribute('filter'), t === '' || (r && !r.filter))\n        ) {\n          n.filter = $t.test(o) ? o.replace($t, i) : o + ' ' + i;\n        }\n      },\n    };\n  }\n  b(function() {\n    if (!b.support.reliableMarginRight) {\n      b.cssHooks.marginRight = {\n        get: function(e, n) {\n          if (n) {\n            return b.swap(e, { display: 'inline-block' }, Wt, [\n              e,\n              'marginRight',\n            ]);\n          } else {\n            return t;\n          }\n        },\n      };\n    }\n    if (!b.support.pixelPosition && b.fn.position) {\n      b.each(['top', 'left'], function(e, n) {\n        b.cssHooks[n] = {\n          get: function(e, r) {\n            if (r) {\n              r = Wt(e, n);\n              if (Yt.test(r)) {\n                return b(e).position()[n] + 'px';\n              } else {\n                return r;\n              }\n            } else {\n              return t;\n            }\n          },\n        };\n      });\n    }\n  });\n  if (b.expr && b.expr.filters) {\n    b.expr.filters.hidden = function(e) {\n      return (\n        (0 >= e.offsetWidth && 0 >= e.offsetHeight) ||\n        (!b.support.reliableHiddenOffsets &&\n          ((e.style && e.style.display) || b.css(e, 'display')) === 'none')\n      );\n    };\n    b.expr.filters.visible = function(e) {\n      return !b.expr.filters.hidden(e);\n    };\n  }\n  b.each({ margin: '', padding: '', border: 'Width' }, function(e, t) {\n    b.cssHooks[e + t] = {\n      expand: function(n) {\n        var r = 0;\n        var i = {};\n        var o = typeof n == 'string' ? n.split(' ') : [n];\n        return i;\n      },\n    };\n    if (!Ut.test(e)) {\n      b.cssHooks[e + t].set = on;\n    }\n  });\n  var cn = /%20/g;\n  var pn = /\\[\\]$/;\n  var fn = /\\r?\\n/g;\n  var dn = /^(?:submit|button|image|reset|file)$/i;\n  var hn = /^(?:input|select|textarea|keygen)/i;\n  b.fn.extend({\n    serialize: function() {\n      return b.param(this.serializeArray());\n    },\n    serializeArray: function() {\n      return this.map(function() {\n        var e = b.prop(this, 'elements');\n        if (e) {\n          return b.makeArray(e);\n        } else {\n          return this;\n        }\n      })\n        .filter(function() {\n          var e = this.type;\n          return (\n            this.name &&\n            !b(this).is(':disabled') &&\n            hn.test(this.nodeName) &&\n            !dn.test(e) &&\n            (this.checked || !Nt.test(e))\n          );\n        })\n        .map(function(e, t) {\n          var n = b(this).val();\n          if (n == null) {\n            return null;\n          } else if (b.isArray(n)) {\n            return b.map(n, function(e) {\n              return { name: t.name, value: e.replace(fn, '\\r\\n') };\n            });\n          } else {\n            return { name: t.name, value: n.replace(fn, '\\r\\n') };\n          }\n        })\n        .get();\n    },\n  });\n  b.param = function(e, n) {\n    var r;\n    var i = [];\n    var o = function(e, t) {\n      t = b.isFunction(t) ? t() : t == null ? '' : t;\n      i[i.length] = encodeURIComponent(e) + '=' + encodeURIComponent(t);\n    };\n    if (n === t) {\n      n = b.ajaxSettings && b.ajaxSettings.traditional;\n    }\n    if (b.isArray(e) || (e.jquery && !b.isPlainObject(e))) {\n      b.each(e, function() {\n        o(this.name, this.value);\n      });\n    } else {\n      for (r in e) {\n        gn(r, e[r], n, o);\n      }\n    }\n    return i.join('&').replace(cn, '+');\n  };\n  b.each(\n    'blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu'.split(\n      ' '\n    ),\n    function(e, t) {\n      b.fn[t] = function(e, n) {\n        if (arguments.length > 0) {\n          return this.on(t, null, e, n);\n        } else {\n          return this.trigger(t);\n        }\n      };\n    }\n  );\n  b.fn.hover = function(e, t) {\n    return this.mouseenter(e).mouseleave(t || e);\n  };\n  var yn;\n  var vn = b.now();\n  var bn = /\\?/;\n  var xn = /#.*$/;\n  var wn = /([?&])_=[^&]*/;\n  var Tn = /^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/gm;\n  var Nn = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/;\n  var Cn = /^(?:GET|HEAD)$/;\n  var kn = /^\\/\\//;\n  var En = /^([\\w.+-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+)|)|)/;\n  var Sn = b.fn.load;\n  var An = {};\n  var jn = {};\n  var Dn = '*/'.concat('*');\n  try {\n    yn = a.href;\n  } catch (Ln) {\n    yn = o.createElement('a');\n    yn.href = '';\n    yn = yn.href;\n  }\n  var mn = En.exec(yn.toLowerCase()) || [];\n  b.fn.load = function(e, n, r) {\n    if (typeof e != 'string' && Sn) {\n      return Sn.apply(this, arguments);\n    }\n    var i;\n    var o;\n    var a;\n    var s = this;\n    var u = e.indexOf(' ');\n    if (u >= 0) {\n      i = e.slice(u, e.length);\n      e = e.slice(0, u);\n    }\n    if (b.isFunction(n)) {\n      r = n;\n      n = t;\n    } else if (n && typeof n == 'object') {\n      a = 'POST';\n    }\n    if (s.length > 0) {\n      b\n        .ajax({ url: e, type: a, dataType: 'html', data: n })\n        .done(function(e) {\n          o = arguments;\n          s.html(\n            i\n              ? b('<div>')\n                  .append(b.parseHTML(e))\n                  .find(i)\n              : e\n          );\n        })\n        .complete(\n          r &&\n            function(e, t) {\n              s.each(r, o || [e.responseText, t, e]);\n            }\n        );\n    }\n    return this;\n  };\n  b.each(\n    [\n      'ajaxStart',\n      'ajaxStop',\n      'ajaxComplete',\n      'ajaxError',\n      'ajaxSuccess',\n      'ajaxSend',\n    ],\n    function(e, t) {\n      b.fn[t] = function(e) {\n        return this.on(t, e);\n      };\n    }\n  );\n  b.each(['get', 'post'], function(e, n) {\n    b[n] = function(e, r, i, o) {\n      if (b.isFunction(r)) {\n        o = o || i;\n        i = r;\n        r = t;\n      }\n      return b.ajax({ url: e, type: n, dataType: o, data: r, success: i });\n    };\n  });\n  b.extend({\n    active: 0,\n    lastModified: {},\n    etag: {},\n    ajaxSettings: {\n      url: yn,\n      type: 'GET',\n      isLocal: Nn.test(mn[1]),\n      global: true,\n      processData: true,\n      async: true,\n      contentType: 'application/x-www-form-urlencoded; charset=UTF-8',\n      accepts: {\n        '*': Dn,\n        text: 'text/plain',\n        html: 'text/html',\n        xml: 'application/xml, text/xml',\n        json: 'application/json, text/javascript',\n      },\n      contents: { xml: /xml/, html: /html/, json: /json/ },\n      responseFields: { xml: 'responseXML', text: 'responseText' },\n      converters: {\n        '* text': e.String,\n        'text html': true,\n        'text json': b.parseJSON,\n        'text xml': b.parseXML,\n      },\n      flatOptions: { url: true, context: true },\n    },\n    ajaxSetup: function(e, t) {\n      if (t) {\n        return Mn(Mn(e, b.ajaxSettings), t);\n      } else {\n        return Mn(b.ajaxSettings, e);\n      }\n    },\n    ajaxPrefilter: Hn(An),\n    ajaxTransport: Hn(jn),\n    ajax: function(e, n) {\n      function k(e, n, r, i) {\n        var c;\n        var y;\n        var v;\n        var w;\n        var T;\n        var C = n;\n        if (x !== 2) {\n          x = 2;\n          if (s) {\n            clearTimeout(s);\n          }\n          l = t;\n          a = i || '';\n          N.readyState = e > 0 ? 4 : 0;\n          if (r) {\n            w = _n(p, N, r);\n          }\n          if ((e >= 200 && 300 > e) || e === 304) {\n            if (p.ifModified) {\n              T = N.getResponseHeader('Last-Modified');\n              if (T) {\n                b.lastModified[o] = T;\n              }\n              T = N.getResponseHeader('etag');\n              if (T) {\n                b.etag[o] = T;\n              }\n            }\n            if (e === 204) {\n              c = true;\n              C = 'nocontent';\n            } else if (e === 304) {\n              c = true;\n              C = 'notmodified';\n            } else {\n              c = Fn(p, w);\n              C = c.state;\n              y = c.data;\n              v = c.error;\n              c = !v;\n            }\n          } else {\n            v = C;\n            if (e || !C) {\n              C = 'error';\n              if (0 > e) {\n                e = 0;\n              }\n            }\n          }\n          N.status = e;\n          N.statusText = (n || C) + '';\n          if (c) {\n            h.resolveWith(f, [y, C, N]);\n          } else {\n            h.rejectWith(f, [N, C, v]);\n          }\n          N.statusCode(m);\n          m = t;\n          if (u) {\n            d.trigger(c ? 'ajaxSuccess' : 'ajaxError', [N, p, c ? y : v]);\n          }\n          g.fireWith(f, [N, C]);\n          if (u) {\n            d.trigger('ajaxComplete', [N, p]);\n            if (!--b.active) {\n              b.event.trigger('ajaxStop');\n            }\n          }\n        }\n      }\n      if (typeof e == 'object') {\n        n = e;\n        e = t;\n      }\n      n = n || {};\n      var r;\n      var i;\n      var a;\n      var s;\n      var l;\n      var c;\n      var p = b.ajaxSetup({}, n);\n      var f = p.context || p;\n      var d = p.context && (f.nodeType || f.jquery) ? b(f) : b.event;\n      var h = b.Deferred();\n      var g = b.Callbacks('once memory');\n      var m = p.statusCode || {};\n      var y = {};\n      var v = {};\n      var x = 0;\n      var T = 'canceled';\n      var N = {\n        readyState: 0,\n        getResponseHeader: function(e) {\n          var t;\n          if (x === 2) {\n            if (!c) {\n              c = {};\n              while ((t = Tn.exec(a))) {\n                c[t[1].toLowerCase()] = t[2];\n              }\n            }\n            t = c[e.toLowerCase()];\n          }\n          if (t == null) {\n            return null;\n          } else {\n            return t;\n          }\n        },\n        getAllResponseHeaders: function() {\n          if (x === 2) {\n            return a;\n          } else {\n            return null;\n          }\n        },\n        setRequestHeader: function(e, t) {\n          var n = e.toLowerCase();\n          if (!x) {\n            e = v[n] = v[n] || e;\n            y[e] = t;\n          }\n          return this;\n        },\n        overrideMimeType: function(e) {\n          if (!x) {\n            p.mimeType = e;\n          }\n          return this;\n        },\n        statusCode: function(e) {\n          var t;\n          if (e) {\n            if (2 > x) {\n              for (t in e) {\n                m[t] = [m[t], e[t]];\n              }\n            } else {\n              N.always(e[N.status]);\n            }\n          }\n          return this;\n        },\n        abort: function(e) {\n          var t = e || T;\n          if (l) {\n            l.abort(t);\n          }\n          k(0, t);\n          return this;\n        },\n      };\n      h.promise(N).complete = g.add;\n      N.success = N.done;\n      N.error = N.fail;\n      p.url = ((e || p.url || yn) + '')\n        .replace(xn, '')\n        .replace(kn, mn[1] + '//');\n      p.type = n.method || n.type || p.method || p.type;\n      p.dataTypes = b\n        .trim(p.dataType || '*')\n        .toLowerCase()\n        .match(w) || [''];\n      if (p.crossDomain == null) {\n        r = En.exec(p.url.toLowerCase());\n        p.crossDomain =\n          !!r &&\n          (r[1] !== mn[1] ||\n            r[2] !== mn[2] ||\n            (r[3] || (r[1] === 'http:' ? 80 : 443)) !=\n              (mn[3] || (mn[1] === 'http:' ? 80 : 443)));\n      }\n      if (p.data && p.processData && typeof p.data != 'string') {\n        p.data = b.param(p.data, p.traditional);\n      }\n      qn(An, p, n, N);\n      if (x === 2) {\n        return N;\n      }\n      var u = p.global;\n      if (u && b.active++ === 0) {\n        b.event.trigger('ajaxStart');\n      }\n      p.type = p.type.toUpperCase();\n      p.hasContent = !Cn.test(p.type);\n      var o = p.url;\n      if (!p.hasContent) {\n        if (p.data) {\n          o = p.url += (bn.test(o) ? '&' : '?') + p.data;\n          delete p.data;\n        }\n        if (p.cache === false) {\n          p.url = wn.test(o)\n            ? o.replace(wn, '$1_=' + vn++)\n            : o + (bn.test(o) ? '&' : '?') + '_=' + vn++;\n        }\n      }\n      if (p.ifModified) {\n        if (b.lastModified[o]) {\n          N.setRequestHeader('If-Modified-Since', b.lastModified[o]);\n        }\n        if (b.etag[o]) {\n          N.setRequestHeader('If-None-Match', b.etag[o]);\n        }\n      }\n      if (\n        (p.data && p.hasContent && p.contentType !== false) ||\n        n.contentType\n      ) {\n        N.setRequestHeader('Content-Type', p.contentType);\n      }\n      N.setRequestHeader(\n        'Accept',\n        p.dataTypes[0] && p.accepts[p.dataTypes[0]]\n          ? p.accepts[p.dataTypes[0]] +\n            (p.dataTypes[0] !== '*' ? ', ' + Dn + '; q=0.01' : '')\n          : p.accepts['*']\n      );\n      for (i in p.headers) {\n        N.setRequestHeader(i, p.headers[i]);\n      }\n      if (p.beforeSend && (p.beforeSend.call(f, N, p) === false || x === 2)) {\n        return N.abort();\n      }\n      T = 'abort';\n      for (i in { success: 1, error: 1, complete: 1 }) {\n        N[i](p[i]);\n      }\n      if ((l = qn(jn, p, n, N))) {\n        N.readyState = 1;\n        if (u) {\n          d.trigger('ajaxSend', [N, p]);\n        }\n        if (p.async && p.timeout > 0) {\n          s = setTimeout(function() {\n            N.abort('timeout');\n          }, p.timeout);\n        }\n        try {\n          x = 1;\n          l.send(y, k);\n        } catch (C) {\n          if (!(2 > x)) {\n            throw C;\n          }\n          k(-1, C);\n        }\n      } else {\n        k(-1, 'No Transport');\n      }\n      return N;\n    },\n    getScript: function(e, n) {\n      return b.get(e, t, n, 'script');\n    },\n    getJSON: function(e, t, n) {\n      return b.get(e, t, n, 'json');\n    },\n  });\n  b.ajaxSetup({\n    accepts: {\n      script:\n        'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript',\n    },\n    contents: { script: /(?:java|ecma)script/ },\n    converters: {\n      'text script': function(e) {\n        b.globalEval(e);\n        return e;\n      },\n    },\n  });\n  b.ajaxPrefilter('script', function(e) {\n    if (e.cache === t) {\n      e.cache = false;\n    }\n    if (e.crossDomain) {\n      e.type = 'GET';\n      e.global = false;\n    }\n  });\n  b.ajaxTransport('script', function(e) {\n    if (e.crossDomain) {\n      var n;\n      var r = o.head || b('head')[0] || o.documentElement;\n      return {\n        send: function(t, i) {\n          n = o.createElement('script');\n          n.async = true;\n          if (e.scriptCharset) {\n            n.charset = e.scriptCharset;\n          }\n          n.src = e.url;\n          n.onload = n.onreadystatechange = function(e, t) {\n            if (t || !n.readyState || /loaded|complete/.test(n.readyState)) {\n              n.onload = n.onreadystatechange = null;\n              if (n.parentNode) {\n                n.parentNode.removeChild(n);\n              }\n              n = null;\n              if (!t) {\n                i(200, 'success');\n              }\n            }\n          };\n          r.insertBefore(n, r.firstChild);\n        },\n        abort: function() {\n          if (n) {\n            n.onload(t, true);\n          }\n        },\n      };\n    }\n  });\n  var On = [];\n  var Bn = /(=)\\?(?=&|$)|\\?\\?/;\n  b.ajaxSetup({\n    jsonp: 'callback',\n    jsonpCallback: function() {\n      var e = On.pop() || b.expando + '_' + vn++;\n      this[e] = true;\n      return e;\n    },\n  });\n  b.ajaxPrefilter('json jsonp', function(n, r, i) {\n    var o;\n    var a;\n    var s;\n    var u =\n      n.jsonp !== false &&\n      (Bn.test(n.url)\n        ? 'url'\n        : typeof n.data == 'string' &&\n          !(n.contentType || '').indexOf('application/x-www-form-urlencoded') &&\n          Bn.test(n.data) &&\n          'data');\n    if (u || n.dataTypes[0] === 'jsonp') {\n      o = n.jsonpCallback = b.isFunction(n.jsonpCallback)\n        ? n.jsonpCallback()\n        : n.jsonpCallback;\n      if (u) {\n        n[u] = n[u].replace(Bn, '$1' + o);\n      } else if (n.jsonp !== false) {\n        n.url += (bn.test(n.url) ? '&' : '?') + n.jsonp + '=' + o;\n      }\n      n.converters['script json'] = function() {\n        if (!s) {\n          b.error(o + ' was not called');\n        }\n        return s[0];\n      };\n      n.dataTypes[0] = 'json';\n      a = e[o];\n      e[o] = function() {\n        s = arguments;\n      };\n      i.always(function() {\n        e[o] = a;\n        if (n[o]) {\n          n.jsonpCallback = r.jsonpCallback;\n          On.push(o);\n        }\n        if (s && b.isFunction(a)) {\n          a(s[0]);\n        }\n        s = a = t;\n      });\n      return 'script';\n    } else {\n      return t;\n    }\n  });\n  var Pn;\n  var Wn = 0;\n  var $n =\n    e.ActiveXObject &&\n    function() {\n      var e;\n      for (e in Pn) {\n        Pn[e](t, true);\n      }\n    };\n  b.ajaxSettings.xhr = e.ActiveXObject\n    ? function() {\n        return (!this.isLocal && In()) || zn();\n      }\n    : In;\n  var Rn = b.ajaxSettings.xhr();\n  b.support.cors = !!Rn && 'withCredentials' in Rn;\n  Rn = b.support.ajax = !!Rn;\n  if (Rn) {\n    b.ajaxTransport(function(n) {\n      if (!n.crossDomain || b.support.cors) {\n        var r;\n        return {\n          send: function(i, o) {\n            var a;\n            var s;\n            var u = n.xhr();\n            if (n.username) {\n              u.open(n.type, n.url, n.async, n.username, n.password);\n            } else {\n              u.open(n.type, n.url, n.async);\n            }\n            if (n.xhrFields) {\n              for (s in n.xhrFields) {\n                u[s] = n.xhrFields[s];\n              }\n            }\n            if (n.mimeType && u.overrideMimeType) {\n              u.overrideMimeType(n.mimeType);\n            }\n            if (!n.crossDomain && !i['X-Requested-With']) {\n              i['X-Requested-With'] = 'XMLHttpRequest';\n            }\n            try {\n              for (s in i) {\n                u.setRequestHeader(s, i[s]);\n              }\n            } catch (l) {}\n            u.send((n.hasContent && n.data) || null);\n            r = function(e, i) {\n              var s;\n              var l;\n              var c;\n              var p;\n              try {\n                if (r && (i || u.readyState === 4)) {\n                  r = t;\n                  if (a) {\n                    u.onreadystatechange = b.noop;\n                    if ($n) {\n                      delete Pn[a];\n                    }\n                  }\n                  if (i) {\n                    if (u.readyState !== 4) {\n                      u.abort();\n                    }\n                  } else {\n                    p = {};\n                    s = u.status;\n                    l = u.getAllResponseHeaders();\n                    if (typeof u.responseText == 'string') {\n                      p.text = u.responseText;\n                    }\n                    try {\n                      c = u.statusText;\n                    } catch (f) {\n                      c = '';\n                    }\n                    if (s || !n.isLocal || n.crossDomain) {\n                      if (s === 1223) {\n                        s = 204;\n                      }\n                    } else {\n                      s = p.text ? 200 : 404;\n                    }\n                  }\n                }\n              } catch (d) {\n                if (!i) {\n                  o(-1, d);\n                }\n              }\n              if (p) {\n                o(s, c, p, l);\n              }\n            };\n            if (n.async) {\n              if (u.readyState === 4) {\n                setTimeout(r);\n              } else {\n                a = ++Wn;\n                if ($n) {\n                  if (!Pn) {\n                    Pn = {};\n                    b(e).unload($n);\n                  }\n                  Pn[a] = r;\n                }\n                u.onreadystatechange = r;\n              }\n            } else {\n              r();\n            }\n          },\n          abort: function() {\n            if (r) {\n              r(t, true);\n            }\n          },\n        };\n      }\n    });\n  }\n  var Xn;\n  var Un;\n  var Vn = /^(?:toggle|show|hide)$/;\n  var Yn = RegExp('^(?:([+-])=|)(' + x + ')([a-z%]*)$', 'i');\n  var Jn = /queueHooks$/;\n  var Gn = [nr];\n  var Qn = {\n    '*': [\n      function(e, t) {\n        var n;\n        var r;\n        var i = this.createTween(e, t);\n        var o = Yn.exec(t);\n        var a = i.cur();\n        var s = +a || 0;\n        var u = 1;\n        var l = 20;\n        if (o) {\n          n = +o[2];\n          r = o[3] || (b.cssNumber[e] ? '' : 'px');\n          if (r !== 'px' && s) {\n            s = b.css(i.elem, e, true) || n || 1;\n            do {\n              u = u || '.5';\n              s /= u;\n              b.style(i.elem, e, s + r);\n            } while (u !== (u = i.cur() / a) && u !== 1 && --l);\n          }\n          i.unit = r;\n          i.start = s;\n          i.end = o[1] ? s + (o[1] + 1) * n : n;\n        }\n        return i;\n      },\n    ],\n  };\n  b.Animation = b.extend(er, {\n    tweener: function(e, t) {\n      if (b.isFunction(e)) {\n        t = e;\n        e = ['*'];\n      } else {\n        e = e.split(' ');\n      }\n      var n;\n      var r = 0;\n      var i = e.length;\n    },\n    prefilter: function(e, t) {\n      if (t) {\n        Gn.unshift(e);\n      } else {\n        Gn.push(e);\n      }\n    },\n  });\n  b.Tween = rr;\n  rr.prototype = {\n    constructor: rr,\n    init: function(e, t, n, r, i, o) {\n      this.elem = e;\n      this.prop = n;\n      this.easing = i || 'swing';\n      this.options = t;\n      this.start = this.now = this.cur();\n      this.end = r;\n      this.unit = o || (b.cssNumber[n] ? '' : 'px');\n    },\n    cur: function() {\n      var e = rr.propHooks[this.prop];\n      if (e && e.get) {\n        return e.get(this);\n      } else {\n        return rr.propHooks._default.get(this);\n      }\n    },\n    run: function(e) {\n      var t;\n      var n = rr.propHooks[this.prop];\n      this.pos = t = this.options.duration\n        ? b.easing[this.easing](\n            e,\n            this.options.duration * e,\n            0,\n            1,\n            this.options.duration\n          )\n        : e;\n      this.now = (this.end - this.start) * t + this.start;\n      if (this.options.step) {\n        this.options.step.call(this.elem, this.now, this);\n      }\n      if (n && n.set) {\n        n.set(this);\n      } else {\n        rr.propHooks._default.set(this);\n      }\n      return this;\n    },\n  };\n  rr.prototype.init.prototype = rr.prototype;\n  rr.propHooks = {\n    _default: {\n      get: function(e) {\n        var t;\n        if (\n          e.elem[e.prop] == null ||\n          (e.elem.style && e.elem.style[e.prop] != null)\n        ) {\n          t = b.css(e.elem, e.prop, '');\n          if (t && t !== 'auto') {\n            return t;\n          } else {\n            return 0;\n          }\n        } else {\n          return e.elem[e.prop];\n        }\n      },\n      set: function(e) {\n        if (b.fx.step[e.prop]) {\n          b.fx.step[e.prop](e);\n        } else if (\n          e.elem.style &&\n          (e.elem.style[b.cssProps[e.prop]] != null || b.cssHooks[e.prop])\n        ) {\n          b.style(e.elem, e.prop, e.now + e.unit);\n        } else {\n          e.elem[e.prop] = e.now;\n        }\n      },\n    },\n  };\n  rr.propHooks.scrollTop = rr.propHooks.scrollLeft = {\n    set: function(e) {\n      if (e.elem.nodeType && e.elem.parentNode) {\n        e.elem[e.prop] = e.now;\n      }\n    },\n  };\n  b.each(['toggle', 'show', 'hide'], function(e, t) {\n    var n = b.fn[t];\n    b.fn[t] = function(e, r, i) {\n      if (e == null || typeof e == 'boolean') {\n        return n.apply(this, arguments);\n      } else {\n        return this.animate(ir(t, true), e, r, i);\n      }\n    };\n  });\n  b.fn.extend({\n    fadeTo: function(e, t, n, r) {\n      return this.filter(nn)\n        .css('opacity', 0)\n        .show()\n        .end()\n        .animate({ opacity: t }, e, n, r);\n    },\n    animate: function(e, t, n, r) {\n      var i = b.isEmptyObject(e);\n      var o = b.speed(t, n, r);\n      var a = function() {\n        var t = er(this, b.extend({}, e), o);\n        a.finish = function() {\n          t.stop(true);\n        };\n        if (i || b._data(this, 'finish')) {\n          t.stop(true);\n        }\n      };\n      a.finish = a;\n      if (i || o.queue === false) {\n        return this.each(a);\n      } else {\n        return this.queue(o.queue, a);\n      }\n    },\n    stop: function(e, n, r) {\n      var i = function(e) {\n        var t = e.stop;\n        delete e.stop;\n        t(r);\n      };\n      if (typeof e != 'string') {\n        r = n;\n        n = e;\n        e = t;\n      }\n      if (n && e !== false) {\n        this.queue(e || 'fx', []);\n      }\n      return this.each(function() {\n        var t = true;\n        var n = e != null && e + 'queueHooks';\n        var o = b.timers;\n        var a = b._data(this);\n        if (n) {\n          if (a[n] && a[n].stop) {\n            i(a[n]);\n          }\n        } else {\n          for (n in a) {\n            if (a[n] && a[n].stop && Jn.test(n)) {\n              i(a[n]);\n            }\n          }\n        }\n        for (n = o.length; n--; ) {\n          if (o[n].elem === this && (e == null || o[n].queue === e)) {\n            o[n].anim.stop(r);\n            t = false;\n            o.splice(n, 1);\n          }\n        }\n        if (t || !r) {\n          b.dequeue(this, e);\n        }\n      });\n    },\n    finish: function(e) {\n      if (e !== false) {\n        e = e || 'fx';\n      }\n      return this.each(function() {\n        var n = b._data(this);\n        var r = n[e + 'queue'];\n        var i = n[e + 'queueHooks'];\n        var o = b.timers;\n        var a = r ? r.length : 0;\n        n.finish = true;\n        b.queue(this, e, []);\n        if (i && i.cur && i.cur.finish) {\n          i.cur.finish.call(this);\n        }\n        for (var t = o.length; t--; ) {\n          if (o[t].elem === this && o[t].queue === e) {\n            o[t].anim.stop(true);\n            o.splice(t, 1);\n          }\n        }\n        for (t = 0; a > t; t++) {\n          if (r[t] && r[t].finish) {\n            r[t].finish.call(this);\n          }\n        }\n        delete n.finish;\n      });\n    },\n  });\n  b.each(\n    {\n      slideDown: ir('show'),\n      slideUp: ir('hide'),\n      slideToggle: ir('toggle'),\n      fadeIn: { opacity: 'show' },\n      fadeOut: { opacity: 'hide' },\n      fadeToggle: { opacity: 'toggle' },\n    },\n    function(e, t) {\n      b.fn[e] = function(e, n, r) {\n        return this.animate(t, e, n, r);\n      };\n    }\n  );\n  b.speed = function(e, t, n) {\n    var r =\n      e && typeof e == 'object'\n        ? b.extend({}, e)\n        : {\n            complete: n || (!n && t) || (b.isFunction(e) && e),\n            duration: e,\n            easing: (n && t) || (t && !b.isFunction(t) && t),\n          };\n    r.duration = b.fx.off\n      ? 0\n      : typeof r.duration == 'number'\n        ? r.duration\n        : r.duration in b.fx.speeds\n          ? b.fx.speeds[r.duration]\n          : b.fx.speeds._default;\n    if (r.queue == null || r.queue === true) {\n      r.queue = 'fx';\n    }\n    r.old = r.complete;\n    r.complete = function() {\n      if (b.isFunction(r.old)) {\n        r.old.call(this);\n      }\n      if (r.queue) {\n        b.dequeue(this, r.queue);\n      }\n    };\n    return r;\n  };\n  b.easing = {\n    linear: function(e) {\n      return e;\n    },\n    swing: function(e) {\n      return 0.5 - Math.cos(e * Math.PI) / 2;\n    },\n  };\n  b.timers = [];\n  b.fx = rr.prototype.init;\n  b.fx.tick = function() {\n    var e;\n    var n = b.timers;\n    var r = 0;\n    for (Xn = b.now(); n.length > r; r++) {\n      e = n[r];\n      if (!e() && n[r] === e) {\n        n.splice(r--, 1);\n      }\n    }\n    if (!n.length) {\n      b.fx.stop();\n    }\n    Xn = t;\n  };\n  b.fx.timer = function(e) {\n    if (e() && b.timers.push(e)) {\n      b.fx.start();\n    }\n  };\n  b.fx.interval = 13;\n  b.fx.start = function() {\n    if (!Un) {\n      Un = setInterval(b.fx.tick, b.fx.interval);\n    }\n  };\n  b.fx.stop = function() {\n    clearInterval(Un);\n    Un = null;\n  };\n  b.fx.speeds = { slow: 600, fast: 200, _default: 400 };\n  b.fx.step = {};\n  if (b.expr && b.expr.filters) {\n    b.expr.filters.animated = function(e) {\n      return b.grep(b.timers, function(t) {\n        return e === t.elem;\n      }).length;\n    };\n  }\n  b.fn.offset = function(e) {\n    if (arguments.length) {\n      if (e === t) {\n        return this;\n      } else {\n        return this.each(function(t) {\n          b.offset.setOffset(this, e, t);\n        });\n      }\n    }\n    var n;\n    var r;\n    var o = { top: 0, left: 0 };\n    var a = this[0];\n    var s = a && a.ownerDocument;\n    if (s) {\n      n = s.documentElement;\n      if (b.contains(n, a)) {\n        if (typeof a.getBoundingClientRect !== i) {\n          o = a.getBoundingClientRect();\n        }\n        r = or(s);\n        return {\n          top: o.top + (r.pageYOffset || n.scrollTop) - (n.clientTop || 0),\n          left: o.left + (r.pageXOffset || n.scrollLeft) - (n.clientLeft || 0),\n        };\n      } else {\n        return o;\n      }\n    }\n  };\n  b.offset = {\n    setOffset: function(e, t, n) {\n      var r = b.css(e, 'position');\n      if (r === 'static') {\n        e.style.position = 'relative';\n      }\n      var i = b(e);\n      var o = i.offset();\n      var a = b.css(e, 'top');\n      var s = b.css(e, 'left');\n      var u =\n        (r === 'absolute' || r === 'fixed') && b.inArray('auto', [a, s]) > -1;\n      var l = {};\n      var c = {};\n      var p;\n      var f;\n      if (u) {\n        c = i.position();\n        p = c.top;\n        f = c.left;\n      } else {\n        p = parseFloat(a) || 0;\n        f = parseFloat(s) || 0;\n      }\n      if (b.isFunction(t)) {\n        t = t.call(e, n, o);\n      }\n      if (t.top != null) {\n        l.top = t.top - o.top + p;\n      }\n      if (t.left != null) {\n        l.left = t.left - o.left + f;\n      }\n      if ('using' in t) {\n        t.using.call(e, l);\n      } else {\n        i.css(l);\n      }\n    },\n  };\n  b.fn.extend({\n    position: function() {\n      if (this[0]) {\n        var e;\n        var t;\n        var n = { top: 0, left: 0 };\n        var r = this[0];\n        if (b.css(r, 'position') === 'fixed') {\n          t = r.getBoundingClientRect();\n        } else {\n          e = this.offsetParent();\n          t = this.offset();\n          if (!b.nodeName(e[0], 'html')) {\n            n = e.offset();\n          }\n          n.top += b.css(e[0], 'borderTopWidth', true);\n          n.left += b.css(e[0], 'borderLeftWidth', true);\n        }\n        return {\n          top: t.top - n.top - b.css(r, 'marginTop', true),\n          left: t.left - n.left - b.css(r, 'marginLeft', true),\n        };\n      }\n    },\n    offsetParent: function() {\n      return this.map(function() {\n        var e = this.offsetParent || o.documentElement;\n        while (\n          e &&\n          !b.nodeName(e, 'html') &&\n          b.css(e, 'position') === 'static'\n        ) {\n          e = e.offsetParent;\n        }\n        return e || o.documentElement;\n      });\n    },\n  });\n  b.each({ scrollLeft: 'pageXOffset', scrollTop: 'pageYOffset' }, function(\n    e,\n    n\n  ) {\n    var r = /Y/.test(n);\n    b.fn[e] = function(i) {\n      return b.access(\n        this,\n        function(e, i, o) {\n          var a = or(e);\n          if (o === t) {\n            if (a) {\n              if (n in a) {\n                return a[n];\n              } else {\n                return a.document.documentElement[i];\n              }\n            } else {\n              return e[i];\n            }\n          } else {\n            if (a) {\n              a.scrollTo(r ? b(a).scrollLeft() : o, r ? o : b(a).scrollTop());\n            } else {\n              e[i] = o;\n            }\n            return t;\n          }\n        },\n        e,\n        i,\n        arguments.length,\n        null\n      );\n    };\n  });\n  b.each({ Height: 'height', Width: 'width' }, function(e, n) {\n    b.each({ padding: 'inner' + e, content: n, '': 'outer' + e }, function(\n      r,\n      i\n    ) {\n      b.fn[i] = function(i, o) {\n        var a = arguments.length && (r || typeof i != 'boolean');\n        var s = r || (i === true || o === true ? 'margin' : 'border');\n        return b.access(\n          this,\n          function(n, r, i) {\n            var o;\n            if (b.isWindow(n)) {\n              return n.document.documentElement['client' + e];\n            } else if (n.nodeType === 9) {\n              o = n.documentElement;\n              return Math.max(\n                n.body['scroll' + e],\n                o['scroll' + e],\n                n.body['offset' + e],\n                o['offset' + e],\n                o['client' + e]\n              );\n            } else if (i === t) {\n              return b.css(n, r, s);\n            } else {\n              return b.style(n, r, i, s);\n            }\n          },\n          n,\n          a ? i : t,\n          a,\n          null\n        );\n      };\n    });\n  });\n  e.jQuery = e.$ = b;\n  if (typeof define == 'function' && define.amd && define.amd.jQuery) {\n    define('jquery', [], function() {\n      return b;\n    });\n  }\n})();\n</script>  \n","output":"str","x":460,"y":200,"wires":[["40485945.ed82"]]},{"id":"faf0468d.89fef","type":"link out","z":"a722b61b.82b25","name":"","links":["7ace7d8e.4dcf3c"],"x":1000,"y":540,"wires":[]},{"id":"cb061270.a9253","type":"function","z":"a722b61b.82b25","name":"","func":"msg.menu=\n[\n        {\n        \"text\": \"Edit TimeZone\",\n        \"icon\": \"fa-list\",\n        \"sub\": [\n            {\n                \"text\": \"Australian Western Standard Time\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"AWST\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            },\n            {\n                \"text\": \"Australian Central Western Standard Time\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            },\n            {\n                \"text\": \"Australian Central Standard Time\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            },\n            {\n                \"text\": \"Australian Eastern Standard Time\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            },\n            {\n                \"text\": \"Australian Central Daylight Time\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            },\n            {\n                \"text\": \"Australian Eastern Daylight Time\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            },\n            {\n                \"text\": \"Lord Howe Daylight Time\",\n                \"icon\": \"fa-edit\",\n                \"topic\": \"edit\",\n                \"payload\": \"\",\n                \"payloadType\": \"\",\n                \"outputField\" : \"\"\n            }\n        ]\n    },\n    {\n        \"text\": \"Cancel\",\n        \"icon\": \"\",\n        \"enabled\": true,\n        \"payload\": \"\",\n        \"payloadType\": \"\"\n    }\n]\n\nreturn msg;","outputs":1,"noerr":0,"x":190,"y":200,"wires":[["47eb8ff6.b20028"]]},{"id":"7ace7d8e.4dcf3c","type":"link in","z":"a722b61b.82b25","name":"","links":["faf0468d.89fef"],"x":75,"y":200,"wires":[["cb061270.a9253"]]},{"id":"47eb8ff6.b20028","type":"ui_context_menu","z":"a722b61b.82b25","group":"c2b01293.681dd8","order":8,"width":0,"height":-1,"fontSize":16,"position":"fixed","outputField":"action","xCoordinate":"150","yCoordinate":"150","menu":"msg","menuItems":[{"id":"PLANNED","icon":"fa-arrow-up","label":"PLANNED","topic":"","payload":"","payloadType":"str","visible":true,"enabled":true},{"id":"UNPLANNED","icon":"fa-arrow-down","label":"UNPLANNED","topic":"","payload":"","payloadType":"str","visible":true,"enabled":true},{"id":"CANCEL","icon":"","label":"CANCEL","topic":"","payload":"","payloadType":"str","visible":true,"enabled":true}],"colors":"native","textColor":"#ff8040","backgroundColor":"#7ed669","borderColor":"#b1aa12","intervalLength":"5","intervalUnit":"secs","name":"TimeZone","x":370,"y":200,"wires":[["f69700cd.6cfe48"]]},{"id":"f69700cd.6cfe48","type":"function","z":"a722b61b.82b25","name":"","func":"msg.payload=flow.get(\"saved\");\nmsg.payload.eventType=\"CRAP\";\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":200,"wires":[["8c638a0b.a01fe8"]]},{"id":"8c638a0b.a01fe8","type":"debug","z":"a722b61b.82b25","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":650,"y":200,"wires":[]},{"id":"4a544fec.32a398","type":"debug","z":"a722b61b.82b25","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":1130,"y":300,"wires":[]},{"id":"a6376450.f1cce8","type":"function","z":"a722b61b.82b25","name":"","func":"msg.payload=flow.get(\"saved\");\nreturn msg;","outputs":1,"noerr":0,"x":990,"y":300,"wires":[["4a544fec.32a398"]]},{"id":"5b66cca1.e2e6c4","type":"ui_context_menu","z":"a722b61b.82b25","group":"c2b01293.681dd8","order":4,"width":0,"height":-1,"fontSize":16,"position":"fixed","outputField":"action","xCoordinate":"150","yCoordinate":"150","menu":"fixed","menuItems":[{"id":"EDIT","icon":"fa-edit,before,.fa-pencil-square-o","label":"Edit","topic":"","payload":"saved","payloadType":"flow","visible":true,"enabled":true},{"id":"CANCEL","icon":"","label":"Cancel","topic":"","payload":"","payloadType":"str","visible":true,"enabled":true}],"colors":"native","textColor":"#ff8040","backgroundColor":"#7ed669","borderColor":"#b1aa12","intervalLength":"0","intervalUnit":"secs","name":"Fields","x":670,"y":420,"wires":[["e4f3f191.0c3688"]]},{"id":"e4f3f191.0c3688","type":"function","z":"a722b61b.82b25","name":"","func":"msg.payload=msg.payload.notifcationId;\nreturn msg;","outputs":1,"noerr":0,"x":810,"y":440,"wires":[["4f0c9209.11df74"]]},{"id":"cec46616.188fb","type":"debug","z":"4a7c807e.e381a","name":"","active":true,"console":"false","complete":"false","x":870,"y":240,"wires":[]},{"id":"90fcd2f9.c37188","type":"ui_template","z":"4a7c807e.e381a","group":"81cf8774.c7feb8","name":"user input","order":6,"width":"7","height":"3","format":"<div layout=\"column\" ng-cloak class=\"md-padding\">  \n<form>\n    <span class=\"card-title\"> \n    <code><font size=\"4\"> Current {{msg.name}} = \"{{msg.payload}}\"<br></font></code>\n   \n    <input  type=\"text\" style=\"width:180px\" value=\"{{msg.payload}}\" placeholder=\"{{msg.payload}}\"/> \n    </span>\n    \n     <regular-card name=\"User name\" md-theme=\"default\"></regular-card> \n    <button class=\"bluebutton\" value=\"{{msg.payload}}\" ng-click=\"msg.payload = user.input; send(msg)\" \n    ng-keypress=\"($event.charCode==13)?msg.payload = user.input; send(msg)\" \n    ngstyle=\"{background-color: #008CBA;}\" \n    style=\"color: #fff; background-color: #5bc0de; border-color: #46b8da;\">Ok</button>\n</form>  \n<script>\nfunction myFunction() {\n  document.getElementById(\"frm1\").submit();\n  \n}\n</script>\n</div>    ","storeOutMessages":true,"fwdInMessages":false,"templateScope":"local","x":635,"y":290,"wires":[["cec46616.188fb","d9134da4.00be78"]]},{"id":"c60c8d42.7e59c","type":"inject","z":"4a7c807e.e381a","name":"","topic":"Topic","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"x":370,"y":440,"wires":[["710ec512.b5e68c"]]},{"id":"d9134da4.00be78","type":"ui_text","z":"4a7c807e.e381a","group":"81cf8774.c7feb8","order":7,"width":"7","height":"1","name":"","label":"","format":"{{msg.payload}}","layout":"row-spread","x":810,"y":420,"wires":[]},{"id":"4f0c9209.11df74","type":"ui_template","z":"a722b61b.82b25","group":"c2b01293.681dd8","name":"user input","order":6,"width":"7","height":"2","format":"<md-input-container  style=\"overflow:hidden;\">\n    <span> \n      <input ng-model=\"user.input\" style=\"width:150px\" placeholder=\"{{msg.payload}}\" \n      ng-change=\"msg.payload = user.input; \n    send(msg)\">\n    </span>\n</md-input-container>\n    ","storeOutMessages":true,"fwdInMessages":false,"templateScope":"local","x":860,"y":360,"wires":[["a6376450.f1cce8"]]},{"id":"710ec512.b5e68c","type":"function","z":"4a7c807e.e381a","name":"","func":"msg.name=\"Notification Id\";\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":380,"wires":[["90fcd2f9.c37188"]]},{"id":"9e40eb0f.3033a8","type":"ui_template","z":"4a7c807e.e381a","group":"81cf8774.c7feb8","name":"user input","order":6,"width":"7","height":"3","format":"<div layout=\"column\" ng-cloak class=\"md-padding\">  \n    <span class=\"card-title\"> \n    <code><font size=\"4\"> Current {{msg.name}} = \"{{msg.payload}}\"<br></font></code>\n   \n    <input  type=\"text\" style=\"width:180px\" value=\"{{msg.payload}}\" placeholder=\"{{msg.payload}}\"/> \n    </span>\n    \n     <regular-card name=\"User name\" md-theme=\"default\"></regular-card> \n    <button class=\"bluebutton\" value=\"{{msg.payload}}\" ng-click=\"msg.payload = user.input; send(msg)\" \n    ng-keypress=\"($event.charCode==13)?msg.payload = user.input; send(msg)\" \n    ngstyle=\"{background-color: #008CBA;}\" \n    style=\"color: #fff; background-color: #5bc0de; border-color: #46b8da;\">Ok</button>\n</div>    ","storeOutMessages":true,"fwdInMessages":false,"templateScope":"local","x":600,"y":600,"wires":[[]]},{"id":"8b674586.ce9ec8","type":"inject","z":"ff3bdbc.db089a8","name":"Go","topic":"","payload":"1","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":"","x":410,"y":140,"wires":[["39bab9f0.a4d0d6"]]},{"id":"a82f8a45.8e5dc8","type":"function","z":"ff3bdbc.db089a8","name":"dummyarray","func":"var myArray =[{ \"value1\": \"aaa\", \"value2\": \"A\", \"value3\": \"bbb\",\n\"value6\": \"B\", \"value4\": \"ccc\", \"value5\": \"C\", \"value7\": \"aaa\", \"value8\": \"A\",\n\"value9\": \"bbb\",\"value10\": \"B\", \"value11\": \"ccc\", \"value12\": \"C\"},{ \"value1\": \"aaa\", \"value2\": \"A\", \"value3\": \"bbb\",\n\"value6\": \"B\", \"value4\": \"ccc\", \"value5\": \"C\", \"value7\": \"aaa\", \"value8\": \"A\",\n\"value9\": \"bbb\",\"value10\": \"B\", \"value11\": \"ccc\", \"value12\": \"C\"},{ \"value1\": \"aaa\", \"value2\": \"A\", \"value3\": \"bbb\",\n\"value6\": \"B\", \"value4\": \"ccc\", \"value5\": \"C\", \"value7\": \"aaa\", \"value8\": \"A\",\n\"value9\": \"bbb\",\"value10\": \"B\", \"value11\": \"ccc\", \"value12\": \"C\"}];\nmsg.payload = myArray;\nreturn msg;","outputs":1,"noerr":0,"x":593.1667175292969,"y":213.0000352859497,"wires":[["d75df277.6d00d"]]},{"id":"d75df277.6d00d","type":"ui_template","z":"ff3bdbc.db089a8","group":"5df0958c.5d1fcc","name":"Data-table","order":3,"width":"32","height":"17","format":"<style>\n th {\n text-decoration: underline;\n }\n .numeric {\n text-align: right;\n padding-right: 15px;\n }\n</style>\n\n\n<table cellpadding=\"5\" border=\"1\" id=\"table1\" class=\"table-hover\" style=\"width: 100%;\">\n <thead>\n <tr>\n <th>requestId</th> \n <th>notificationId</th>\n <th>notificationType</th>\n <th>eventType</th>\n <th>cause</th>\n <th>supplier</th>\n <th>supplierReferenceId</th>\n <th>startTimeStamp</th>\n <th>endTimeStamp</th>\n <th>estTimeStamp</th>\n <th>polygon</th>\n <th>value13</th>\n <th>value14</th>\n <th>value15</th>\n <th>save</th>\n </tr>\n </thead>\n <tbody>\n <tr ng-repeat=\"row in msg.payload\" ng-dblclick=\"sendRow(row)\">\n <td class=\"numeric\" bgcolor=gray>{{row.value1}}</td>\n <td contenteditable=\"true\">{{row.value2}}</td>\n <td contenteditable=\"true\">{{row.value3}}</td>\n <td contenteditable=\"true\">{{row.value4}}</td>\n <td contenteditable=\"true\">{{row.value5}}</td>\n <td bgcolor=gray>{{row.value7}}</td>\n <td contenteditable=\"true\">{{row.value8}}</td>\n <td bgcolor=gray>{{row.value9}}</td>\n <td bgcolor=gray>{{row.value10}}</td>\n <td contenteditable=\"true\">{{row.value11}}</td>\n <td bgcolor=gray>{{row.value12}}</td>\n <td bgcolor=gray>{{row.value13}}</td>\n <td contenteditable=\"true\">{{row.value14}}</td>\n <td contenteditable=\"true\">{{row.value15}}</td>\n <td>\n\n <md-button ng-click=\"sendRow(row)\">Set</md-button>\n </tr>\n </tbody>\n</table>\n\n<script>\n(function($scope) {\n var array = [];\nvar table = document.querySelector(\"table tbody\");\nvar rows = table.children;\nfor (var i = 0; i < rows.length; i++) {\n\tvar fields = rows[i].children;\n var rowArray = [];\n for (var j = 0; j < fields.length; j++){\n rowArray.push(fields[j].innerHTML);\n }\n array.push(rowArray);\n} \n $scope.sendRow = function(obj) {\n$scope.send({ \"payload\": array });\n }; \n})(scope);\n</script>\n\n<!--script>\n(function($scope) {\n $scope.sendRow = function(obj) {\n $scope.send({ \"payload\": obj });\n $scope.send({ \"payload\": (document.getElementById(\"table1\").rows[1].innerHTML) });\n };\n})(scope);\n</script-->","storeOutMessages":false,"fwdInMessages":false,"templateScope":"local","x":799.9999923706055,"y":217.00003623962402,"wires":[["cb073e0b.420d58"]]},{"id":"cb073e0b.420d58","type":"debug","z":"ff3bdbc.db089a8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1028.9999771118164,"y":212.00000858306885,"wires":[]},{"id":"39bab9f0.a4d0d6","type":"function","z":"ff3bdbc.db089a8","name":"","func":"function pad ( num, size ) {\n  if (num.toString().length >= size) return num;\n  return ( Math.pow( 10, size ) + Math.floor(num) ).toString().substring( 1 );\n}\n\nvar output =[];\nvar count=1234567890;\nvar nid = 0;\nfor (var a=0;  a<100; a++ ){\n    count=count+1;\n    nid=nid+1;\n    var mydate = Date.now();\n    var mydate2 = new Date().toLocaleString().replace(/\\D/g,'')+pad(nid, 8);\n    var mypayload=\n    {\n    \"requestId\": count,\n    \"crq\": count+200,\n    \"notificationId\": mydate2,\n    \"notificationType\": \"NEW\",\n    \"eventType\": \"PLANNED\",\n    \"cause\": \"Power  equipment  undergoing  maintenance\",\n    \"supplier\": \"AUSGRID\",\n    \"supplierReferenceId\": \"01234567890123456789\",\n    \"tzone\": \"AEST\",\n    \"startTimeStamp\": mydate,\n    \"endTimeStamp\": mydate,\n    \"polygon\": {\n        \"type\": \"Feature\",\n        \"geometry\": {\n            \"type\": \"Polygon\",\n            \"coordinates\": [\n                [\n                    [\n                        100,\n                        0\n                    ],\n                    [\n                        101,\n                        0\n                    ],\n                    [\n                        101,\n                        1\n                    ],\n                    [\n                        100,\n                        1\n                    ],\n                    [\n                        100,\n                        0\n                    ]\n                ]\n            ]\n        }\n    },\n    \"action\":\"NEW\"\n}\n output.push(mypayload);\n}\n    mypayload=\n    {\n    \"requestId\": count+1,\n    \"notificationId\":\"\", \n    \"notificationType\": \"NEW\",\n    \"eventType\": \"\",\n    \"cause\": \"\",\n    \"supplier\": \"\",\n    \"supplierReferenceId\": \"\",\n    \"startTimeStamp\": \"\",\n    \"endTimeStamp\": \"\",\n    \"estTimeStamp\": \"\",\n    \"polygon\": {\n        \"type\": \"Feature\",\n        \"geometry\": {\n            \"type\": \"Polygon\",\n            \"coordinates\": [],\n        }\n    },\n    \"action\":\"NEW\"\n}\noutput.push(mypayload);\nmsg.payload =output;\nreturn msg;","outputs":1,"noerr":0,"x":570,"y":140,"wires":[["d75df277.6d00d"]]},{"id":"2d4b2835.e8bb48","type":"inject","z":"46a3f4de.4bf254","name":"","topic":"","payload":"[{\"Name\":\"<b>Yokoi</b>\",\"Age\":\"30\",\"Color\":\"lime\",\"Prog\":70,\"Star\":\"3\"},{\"Name\":\"<i>DCJ</i>\",\"Age\":\"50\",\"Color\":\"dodgerblue\",\"Prog\":\"45\",\"Star\":2,\"Pass\":false,\"web\":\"\"},{\"Name\":\"Nick\",\"Age\":\"40\",\"Color\":\"darkred\",\"Prog\":95,\"Star\":\"5\",\"Pass\":true,\"web\":\"http://nodered.org\"},{\"Name\":\"Oli\"}]","payloadType":"json","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":450,"y":200,"wires":[["420ba92b.45d27"]]},{"id":"5664b7db.93fb68","type":"inject","z":"46a3f4de.4bf254","name":"","topic":"","payload":"[{\"Name\":\"<b>Yokoi</b>\",\"Age\":\"30\",\"Color\":\"lime\",\"Prog\":20,\"Star\":\"1\"},{\"Name\":\"<i>DCJ</i>\",\"Age\":\"50\",\"Color\":\"dodgerblue\",\"Prog\":\"80\",\"Star\":4,\"Pass\":true,\"web\":\"\"},{\"Name\":\"Nick\",\"Age\":\"40\",\"Color\":\"red\",\"Prog\":90,\"Star\":\"5\",\"Pass\":true,\"web\":\"http://nodered.org\"},{\"Name\":\"Oli\"}]","payloadType":"json","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":450,"y":240,"wires":[["420ba92b.45d27"]]},{"id":"cc536baf.2af458","type":"ui_table","z":"46a3f4de.4bf254","group":"a92880d3.53134","name":"People","order":1,"info":"[{title:\"requestId\", field:\"requestId\", editor:\"input\"}]","width":"23","height":"12","columns":[],"outputs":1,"cts":true,"x":640,"y":180,"wires":[["85fb8c60.300408"]]},{"id":"85fb8c60.300408","type":"debug","z":"46a3f4de.4bf254","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":870,"y":120,"wires":[]},{"id":"d7a2c5f.80a0638","type":"inject","z":"46a3f4de.4bf254","name":"Go","topic":"","payload":"1","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":"","x":290,"y":140,"wires":[["e4278d02.7ced7"]]},{"id":"420ba92b.45d27","type":"ui_table","z":"46a3f4de.4bf254","d":true,"group":"a92880d3.53134","name":"People","order":1,"width":"23","height":"12","columns":[{"field":"Name","title":"Who","width":"","align":"left","formatter":"plaintext","editorParams":"{values:[\"male\", \"female\"]}","formatterParams":{"target":"_blank"}},{"field":"Age","title":"Age","width":"40","align":"center","formatter":"plaintext","editor":false,"editorParams":"","formatterParams":{"target":"_blank"}},{"field":"Color","title":"","width":"5%","align":"left","formatter":"color","editor":false,"editorParams":"","formatterParams":{"target":"_blank"}},{"field":"Star","title":"%","width":"100","align":"left","formatter":"star","editor":false,"editorParams":"","formatterParams":{"target":"_blank"}},{"field":"Pass","title":"","width":"5%","align":"center","formatter":"tickCross","editor":false,"editorParams":"","formatterParams":{"target":"_blank"}},{"field":"Prog","title":"","width":"80","align":"left","formatter":"progress","editor":false,"editorParams":"","formatterParams":{"target":"_blank"}},{"field":"web","title":"URL","width":"","align":"left","formatter":"link","editor":false,"editorParams":"","formatterParams":{"target":"_blank"}}],"outputs":1,"cts":true,"x":663,"y":315,"wires":[["85fb8c60.300408"]]},{"id":"2fcb3be4.090d44","type":"function","z":"46a3f4de.4bf254","name":"","func":"function pad ( num, size ) {\n  if (num.toString().length >= size) return num;\n  return ( Math.pow( 10, size ) + Math.floor(num) ).toString().substring( 1 );\n}\n\nvar output =[];\nvar count=1234567890;\nvar nid = 0;\nfor (var a=0;  a<1; a++ ){\n    count=count+1;\n    nid=nid+1;\n    var mydate = Date.now();\n    var mydate2 = new Date().toLocaleString().replace(/\\D/g,'')+pad(nid, 8);\n    var mypayload=\n    {\n    \"requestId\": \"male\",\n    \"crq\": count+200,\n    \"notificationId\": mydate2,\n    \"notificationType\": \"male\",\n    \"eventType\": \"PLANNED\",\n    \"cause\": \"Power  equipment  undergoing  maintenance\",\n    \"supplier\": \"AUSGRID\",\n    \"supplierReferenceId\": \"01234567890123456789\",\n    \"tzone\": \"AEST\",\n    \"startTimeStamp\": mydate,\n    \"endTimeStamp\": mydate,\n    \"polygon\": {\n        \"type\": \"Feature\",\n        \"geometry\": {\n            \"type\": \"Polygon\",\n            \"coordinates\": [\n                [\n                    [\n                        100,\n                        0\n                    ],\n                    [\n                        101,\n                        0\n                    ],\n                    [\n                        101,\n                        1\n                    ],\n                    [\n                        100,\n                        1\n                    ],\n                    [\n                        100,\n                        0\n                    ]\n                ]\n            ]\n        }\n    },\n    \"action\":\"NEW\"\n}\n output.push(mypayload);\n}\n    mypayload=\n    {\n    \"requestId\": count+1,\n    \"notificationId\":\"\", \n    \"notificationType\": \"NEW\",\n    \"eventType\": \"\",\n    \"cause\": \"\",\n    \"supplier\": \"\",\n    \"supplierReferenceId\": \"\",\n    \"startTimeStamp\": \"\",\n    \"endTimeStamp\": \"\",\n    \"estTimeStamp\": \"\",\n    \"polygon\": {\n        \"type\": \"Feature\",\n        \"geometry\": {\n            \"type\": \"Polygon\",\n            \"coordinates\": [],\n        }\n    },\n    \"action\":\"NEW\"\n}\noutput.push(mypayload);\nmsg.payload =output;\nreturn msg;","outputs":1,"noerr":0,"x":450,"y":80,"wires":[[]]},{"id":"e4278d02.7ced7","type":"function","z":"46a3f4de.4bf254","name":"","func":"function pad ( num, size ) {\n  if (num.toString().length >= size) return num;\n  return ( Math.pow( 10, size ) + Math.floor(num) ).toString().substring( 1 );\n}\n\nvar output =[];\nvar count=1234567890;\nvar nid = 0;\nfor (var a=0;  a<5; a++ ){\n    count=count+1;\n    nid=nid+1;\n    var mydate = Date.now();\n    var mydate2 = new Date().toLocaleString().replace(/\\D/g,'')+pad(nid, 8);\n    var mypayload=\n    {\n    \"requestId\": \"male\",\n    \"crq\": count+200,\n    \"notificationId\": mydate2,\n    \"notificationType\": \"NEW\",\n    \"eventType\": \"PLANNED\",\n    \"cause\": \"Power  equipment  undergoing  maintenance\",\n    \"supplier\": \"AUSGRID\",\n    }\n output.push(mypayload);\n}\n \nmsg.payload =output;\nreturn msg;","outputs":1,"noerr":0,"x":470,"y":140,"wires":[["cc536baf.2af458","85fb8c60.300408"]]}]